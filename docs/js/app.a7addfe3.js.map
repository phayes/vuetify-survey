{"version":3,"file":"js/app.a7addfe3.js","mappings":"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ACF,IACF,IACA,eACA,sBACA,gBACF,IACF,MAEA,oDACI,8CACF,+BACE,gCACA,wBACA,4BACA,yBACE,WACF,IACA,uCACE,gBACE,kCACF,WACE,kCACF,IACF,IACA,+CACE,uBACF,IACA,8CACF,IACF,MAEA,oDACI,8CACF,uBACE,gCACA,wBACA,4BACA,yBACE,YACF,IACA,4CACE,gBACA,qBACA,4BACE,yBACF,WACE,eACF,IACA,cACE,sBACF,WACE,yBACF,IACF,IACA,YACF,IACF,MAEA,oDACI,8CACF,+CACE,gCACA,wBACA,4BACA,yBACA,0BACE,aACF,IACA,uDACA,oBACE,0CACE,YACF,IACA,OACF,IACA,aACF,IACF,MAEA,qDACI,8CACF,8BACE,kCACF,IACF,MAEA,wDACI,8CACF,mDACE,gCACA,wBACA,4BACA,cACE,aACF,IACA,mBACA,8BACE,qBACA,WACE,+CACF,IACF,IACA,6DACA,mBACE,0CACE,YACF,IACA,OACF,IACA,aACF,IACF,MAEA,kDACI,8CACF,+BACE,gCACA,wBACA,4BAEA,cACA,2DAEA,oCACE,0BACE,YACF,IACA,iBACE,mBACF,WACE,4BACF,IACF,WACE,aACF,IACA,0BACA,gCACA,mCACE,0BACE,4BACF,IACF,IACA,iBACF,IACF,MAEA,mDACI,8CACF,kDACE,gCACA,wBACA,4BACA,cACA,mBACE,oCACF,WACE,gCACF,IACA,8BACE,6BACF,WACE,oBACA,iEACF,IACA,oBAEA,sDACE,gBACE,sBACF,WACE,oBACF,IACA,gCACE,6BACF,WACE,eACF,IACF,IAEA,kEACE,gCACE,6BACF,WACE,eACF,IACF,IAEA,kDACE,eACF,IACA,sBAEA,kCACA,2CACE,gBACE,qBACF,WACE,qBACF,IACF,IACA,cACA,+CACE,mCACF,IACA,kBACA,kBACF,IACF,MAEA,mDACI,8CACF,8BACE,gCACA,wBACA,mBACA,gDACE,6CACA,8BACE,kDACE,oBACE,yBACF,WACE,mBACF,IACF,IACF,WACE,sBACF,IACF,IACA,iBACF,IACF,MAEA,iDACI,8CACF,iCACE,gCACA,wBACA,mDACI,8BACJ,gBACA,uCACE,kBACE,cACF,IACA,4DACF,IACA,cACF,IACF,MAIA,kDACI,8CACF,wCACE,oEACA,YACA,wBACA,4BACA,yCACA,SACA,oBACE,+DACA,OACF,IACA,eACF,IACF,MAIA,mDACI,8CACF,mCACE,wFACA,wBACA,4BACA,gBACA,+DACA,kCACE,gBACE,kBACA,mDACF,IACF,IACA,cACF,IACF,MAIA,oDACI,8CACF,wCACE,kEACA,YACA,wBACA,4BACA,yCACA,SACA,oBACE,4CACA,OACF,IACF,IACF,MAIA,gDACI,8CACF,oCACE,kEACA,eACA,wBACA,4BACA,yCACA,sBACA,SACA,oBACE,mDACA,OACF,IACA,YACF,IACF,MAIA,mDACI,8CACF,iDACE,kEACA,4DACA,gCACE,wBACF,WACE,oCACA,kBACE,kEACF,IACA,kBACF,IACA,yBACE,mDACF,IACA,gBACF,IACF,MAIA,wDACI,8CACF,sDACE,yGACA,kEACA,+BACE,wBACF,WACE,mCACA,eACE,kEACF,IACA,kBACF,IACA,wBACE,mDACF,IACA,gBACF,IACF,MAIA,iDACI,8CACF,oCACE,6DACA,wBACA,4BACA,+DACA,kCACE,iDACE,eACF,IACF,IACA,gBACF,IACF,MAGA,iDACI,8CACF,4BACE,gCACA,wCACE,wBACF,IACA,0CACE,mBACA,kDACE,wDACI,6CACF,sBACA,2BACA,yBACE,yBACF,WACE,kBACF,IACA,iBACE,sBACF,WACE,sBACF,IACA,aACF,IACF,IACA,uBACF,IACA,eACF,IACF,MAEA,2DACI,8CACF,8BACE,gCACA,wBACA,gBACA,uCACE,+EACF,IACA,wBACF,IACF,MACA,GACA,EAMArF,EAAYyE,UAAUiC,WAAa,SAASjF,GAC1C,IACI2G,EADAlB,EAAkB/G,KAGtBiI,EAAU,SAAgBtK,GAExB,OADAA,EAAQsL,UAAUjH,OAASnC,EAAY0D,aAAaS,OAAOrG,GAAS,GAChEoJ,EAAgBq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","sources":["webpack://vuetify-survey/./src/App.vue","webpack://vuetify-survey/./src/VuetifySurvey.vue","webpack://vuetify-survey/./src/interpreter.js","webpack://vuetify-survey/src/VuetifySurvey.vue","webpack://vuetify-survey/./src/VuetifySurvey.vue?8fb9","webpack://vuetify-survey/./src/VuetifySurvey.vue?ff37","webpack://vuetify-survey/./src/VuetifySurveyEditor.vue","webpack://vuetify-survey/./src/VuetifySurveyItemEditor.vue","webpack://vuetify-survey/src/VuetifySurveyItemEditor.vue","webpack://vuetify-survey/./src/VuetifySurveyItemEditor.vue?ac97","webpack://vuetify-survey/./src/VuetifySurveyItemEditor.vue?d88b","webpack://vuetify-survey/src/VuetifySurveyEditor.vue","webpack://vuetify-survey/./src/VuetifySurveyEditor.vue?7a46","webpack://vuetify-survey/./src/VuetifySurveyEditor.vue?c66e","webpack://vuetify-survey/src/App.vue","webpack://vuetify-survey/./src/App.vue?7e46","webpack://vuetify-survey/./src/App.vue?0e40","webpack://vuetify-survey/./src/plugins/vuetify.js","webpack://vuetify-survey/./src/main.js","webpack://vuetify-survey/webpack/bootstrap","webpack://vuetify-survey/webpack/runtime/chunk loaded","webpack://vuetify-survey/webpack/runtime/compat get default export","webpack://vuetify-survey/webpack/runtime/define property getters","webpack://vuetify-survey/webpack/runtime/global","webpack://vuetify-survey/webpack/runtime/hasOwnProperty shorthand","webpack://vuetify-survey/webpack/runtime/make namespace object","webpack://vuetify-survey/webpack/runtime/jsonp chunk loading","webpack://vuetify-survey/webpack/startup"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-app',[_c('v-app-bar',{attrs:{\"app\":\"\",\"color\":\"primary\",\"dark\":\"\"}},[_c('div',{staticClass:\"d-flex align-center\"},[_c('h1',[_vm._v(\"Vuetify Survey\")])]),_c('v-spacer'),_c('v-btn',{attrs:{\"href\":\"https://github.com/phayes/vuetify-survey\",\"target\":\"_blank\",\"text\":\"\"}},[_c('span',{staticClass:\"mr-2\"},[_vm._v(\"Documentation\")]),_c('v-icon',[_vm._v(\"mdi-open-in-new\")])],1)],1),_c('v-main',[_c('v-layout',[_c('v-flex',{attrs:{\"xs6\":\"\"}},[_c('v-sheet',{staticClass:\"pa-6 ma-6\",attrs:{\"elevation\":\"6\"}},[_c('h3',{staticClass:\"mb-6\"},[_vm._v(\"Survey Editor \"),_c('span',{staticStyle:{\"font-family\":\"Courier,monispace\"}},[_vm._v(\"<VuetifySurveyEditor>\")])]),_c('VuetifySurveyEditor',{model:{value:(_vm.survey_def),callback:function ($$v) {_vm.survey_def=$$v},expression:\"survey_def\"}})],1),_c('v-sheet',{staticClass:\"pa-6 ma-6\",attrs:{\"elevation\":\"6\"}},[_c('h3',[_vm._v(\"Survey Definition\")]),_c('v-textarea',{staticStyle:{\"font-size\":\"0.8rem\",\"font-family\":\"Courier, monospace\"},attrs:{\"dense\":\"\",\"rows\":\"10\"},model:{value:(_vm.survey_def_json),callback:function ($$v) {_vm.survey_def_json=$$v},expression:\"survey_def_json\"}})],1)],1),_c('v-flex',{attrs:{\"xs6\":\"\"}},[_c('v-sheet',{staticClass:\"pa-6 ma-6\",attrs:{\"elevation\":\"6\"}},[_c('h3',{staticClass:\"mb-6\"},[_vm._v(\"Survey Viewer \"),_c('span',{staticStyle:{\"font-family\":\"Courier,monispace\"}},[_vm._v(\"<VuetifySurvey>\")])]),_c('VuetifySurvey',{attrs:{\"survey\":_vm.survey_def},model:{value:(_vm.survey_data),callback:function ($$v) {_vm.survey_data=$$v},expression:\"survey_data\"}})],1),_c('v-sheet',{staticClass:\"pa-6 ma-6\",attrs:{\"elevation\":\"6\"}},[_c('h3',[_vm._v(\"Survey Data\")]),_c('v-textarea',{staticStyle:{\"font-size\":\"0.8rem\",\"font-family\":\"Courier, monospace\"},attrs:{\"dense\":\"\",\"rows\":\"10\"},model:{value:(_vm.survey_data_json),callback:function ($$v) {_vm.survey_data_json=$$v},expression:\"survey_data_json\"}})],1)],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(_vm.survey.title)?_c('h2',[_vm._v(_vm._s(_vm.survey.title))]):_vm._e(),(_vm.survey.instructions)?_c('p',{staticStyle:{\"white-space\":\"pre\"}},[_vm._v(_vm._s(_vm.survey.instructions))]):_vm._e(),_vm._l((_vm.survey.items),function(item,index){return [(_vm.item_visible(item))?_c('div',{key:index,class:item.class,style:(item.style)},[_vm._t(\"before-item\",null,{\"item\":item}),(item.title)?_c('h3',[_vm._v(_vm._s(item.title))]):_vm._e(),(item.instructions)?_c('p',{staticStyle:{\"white-space\":\"pre\"}},[_vm._v(_vm._s(item.instructions))]):_vm._e(),(item.type === 'checkbox')?_c('v-checkbox',_vm._b({class:'vuetify-survey-item vuetify-survey-item-checkbox ' + item.class,style:(item.style),model:{value:(_vm.active_data[item.id]),callback:function ($$v) {_vm.$set(_vm.active_data, item.id, $$v)},expression:\"active_data[item.id]\"}},'v-checkbox',_vm.translate_props(item.props),false)):_vm._e(),(item.type === 'checkboxes')?_c('div',{class:'vuetify-survey-item vuetify-survey-item-checkboxes ' + item.class,style:(item.style)},_vm._l((item.items),function(checkbox_item,checkbox_item_idx){return _c('v-checkbox',_vm._b({key:checkbox_item_idx,class:checkbox_item.class,style:(checkbox_item.style),attrs:{\"label\":checkbox_item.text,\"value\":checkbox_item.value},model:{value:(_vm.active_data[item.id]),callback:function ($$v) {_vm.$set(_vm.active_data, item.id, $$v)},expression:\"active_data[item.id]\"}},'v-checkbox',_vm.translate_props(item.props),false))}),1):_vm._e(),(item.type === 'select')?_c('v-select',_vm._b({class:'vuetify-survey-item vuetify-survey-item-select ' + item.class,style:(item.style),attrs:{\"items\":item.items},model:{value:(_vm.active_data[item.id]),callback:function ($$v) {_vm.$set(_vm.active_data, item.id, $$v)},expression:\"active_data[item.id]\"}},'v-select',_vm.translate_props(item.props),false)):_vm._e(),(item.type === 'radio-group')?_c('v-radio-group',_vm._b({class:'vuetify-survey-item vuetify-survey-item-radio-group ' + item.class,style:(item.style),attrs:{\"items\":item.items},model:{value:(_vm.active_data[item.id]),callback:function ($$v) {_vm.$set(_vm.active_data, item.id, $$v)},expression:\"active_data[item.id]\"}},'v-radio-group',_vm.translate_props(item.props),false),_vm._l((item.items),function(radio_item,radio_item_idx){return _c('v-radio',_vm._b({key:radio_item_idx,class:radio_item.class,style:(radio_item.style),attrs:{\"label\":radio_item.text,\"value\":radio_item.value}},'v-radio',_vm.translate_props(item.props),false))}),1):_vm._e(),(item.type === 'text-field')?_c('v-text-field',_vm._b({class:'vuetify-survey-item vuetify-survey-item-text-field ' + item.class,style:(item.style),model:{value:(_vm.active_data[item.id]),callback:function ($$v) {_vm.$set(_vm.active_data, item.id, $$v)},expression:\"active_data[item.id]\"}},'v-text-field',_vm.translate_props(item.props),false)):_vm._e(),(item.type === 'number-field')?_c('v-text-field',_vm._b({class:'vuetify-survey-item vuetify-survey-item-number-field ' + item.class,style:(item.style),attrs:{\"type\":\"number\",\"min\":item.min,\"max\":item.max,\"step\":item.step ? item.step : 'any',\"size\":_vm.number_field_size(item)},model:{value:(_vm.active_data[item.id]),callback:function ($$v) {_vm.$set(_vm.active_data, item.id, $$v)},expression:\"active_data[item.id]\"}},'v-text-field',_vm.translate_props(item.props),false)):_vm._e(),(item.type === 'textarea')?_c('v-textarea',_vm._b({class:'vuetify-survey-item vuetify-survey-item-textarea ' + item.class,style:(item.style),model:{value:(_vm.active_data[item.id]),callback:function ($$v) {_vm.$set(_vm.active_data, item.id, $$v)},expression:\"active_data[item.id]\"}},'v-textarea',_vm.translate_props(item.props),false)):_vm._e(),(item.type === 'slider')?_c('v-slider',_vm._b({model:{value:(_vm.active_data[item.id]),callback:function ($$v) {_vm.$set(_vm.active_data, item.id, $$v)},expression:\"active_data[item.id]\"}},'v-slider',item.props,false)):_vm._e(),(item.type === 'range-slider')?_c('v-range-slider',_vm._b({class:'vuetify-survey-item vuetify-survey-item-range-slider ' + item.class,style:(item.style),model:{value:(_vm.active_data[item.id]),callback:function ($$v) {_vm.$set(_vm.active_data, item.id, $$v)},expression:\"active_data[item.id]\"}},'v-range-slider',_vm.translate_props(item.props),false)):_vm._e(),(item.type === 'switch')?_c('v-switch',_vm._b({class:'vuetify-survey-item vuetify-survey-item-switch ' + item.class,style:(item.style),model:{value:(_vm.active_data[item.id]),callback:function ($$v) {_vm.$set(_vm.active_data, item.id, $$v)},expression:\"active_data[item.id]\"}},'v-switch',_vm.translate_props(item.props),false)):_vm._e(),(item.type === 'rating')?_c('v-rating',_vm._b({class:'vuetify-survey-item vuetify-survey-item-rating ' + item.class,style:(item.style),model:{value:(_vm.active_data[item.id]),callback:function ($$v) {_vm.$set(_vm.active_data, item.id, $$v)},expression:\"active_data[item.id]\"}},'v-rating',_vm.translate_props(item.props),false)):_vm._e(),(item.type === 'mood')?_c('v-rating',_vm._b({class:'vuetify-survey-item vuetify-survey-item-mood ' + item.class,style:(item.style),scopedSlots:_vm._u([{key:\"item\",fn:function(props){return [(props.index == 0)?_c('v-icon',{attrs:{\"color\":props.color || 'primary',\"size\":props.size || 32},on:{\"click\":props.click}},[_vm._v(_vm._s(props.isFilled || props.isHovered ? 'mdi-emoticon-sad' : 'mdi-emoticon-sad-outline'))]):_vm._e(),(props.index == 1)?_c('v-icon',{attrs:{\"color\":props.color || 'primary',\"size\":props.size || 32},on:{\"click\":props.click}},[_vm._v(_vm._s(props.isFilled || props.isHovered ? 'mdi-emoticon-confused' : 'mdi-emoticon-confused-outline'))]):_vm._e(),(props.index == 2)?_c('v-icon',{attrs:{\"color\":props.color || 'primary',\"size\":props.size || 32},on:{\"click\":props.click}},[_vm._v(_vm._s(props.isFilled || props.isHovered ? 'mdi-emoticon-neutral' : 'mdi-emoticon-neutral-outline'))]):_vm._e(),(props.index == 3)?_c('v-icon',{attrs:{\"color\":props.color || 'primary',\"size\":props.size || 32},on:{\"click\":props.click}},[_vm._v(_vm._s(props.isFilled || props.isHovered ? 'mdi-emoticon-happy' : 'mdi-emoticon-happy-outline'))]):_vm._e(),(props.index == 4)?_c('v-icon',{attrs:{\"color\":props.color || 'primary',\"size\":props.size || 32},on:{\"click\":props.click}},[_vm._v(_vm._s(props.isFilled || props.isHovered ? 'mdi-emoticon' : 'mdi-emoticon-outline'))]):_vm._e()]}}],null,true),model:{value:(_vm.active_data[item.id]),callback:function ($$v) {_vm.$set(_vm.active_data, item.id, $$v)},expression:\"active_data[item.id]\"}},'v-rating',_vm.translate_props(item.props),false)):_vm._e(),(item.type == 'date')?_c('v-menu',{ref:'item_' + item.id,refInFor:true,class:'vuetify-survey-item vuetify-survey-item-date ' + item.class,style:(item.style),attrs:{\"close-on-content-click\":false,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"min-width\":\"auto\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-text-field',_vm._g(_vm._b({attrs:{\"prepend-icon\":\"mdi-calendar\",\"readonly\":\"\"},model:{value:(_vm.active_data[item.id]),callback:function ($$v) {_vm.$set(_vm.active_data, item.id, $$v)},expression:\"active_data[item.id]\"}},'v-text-field',attrs,false),on))]}}],null,true),model:{value:(_vm.item_menus[item.id]),callback:function ($$v) {_vm.$set(_vm.item_menus, item.id, $$v)},expression:\"item_menus[item.id]\"}},[_c('v-date-picker',{on:{\"input\":function($event){_vm.item_menus[item.id] = false}},model:{value:(_vm.active_data[item.id]),callback:function ($$v) {_vm.$set(_vm.active_data, item.id, $$v)},expression:\"active_data[item.id]\"}})],1):_vm._e(),(item.type == 'birthday')?_c('v-menu',{ref:'item_' + item.id,refInFor:true,class:'vuetify-survey-item vuetify-survey-item-birthday ' + item.class,style:(item.style),attrs:{\"close-on-content-click\":false,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"min-width\":\"auto\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-text-field',_vm._g(_vm._b({attrs:{\"prepend-icon\":\"mdi-calendar\",\"readonly\":\"\"},model:{value:(_vm.active_data[item.id]),callback:function ($$v) {_vm.$set(_vm.active_data, item.id, $$v)},expression:\"active_data[item.id]\"}},'v-text-field',attrs,false),on))]}}],null,true),model:{value:(_vm.item_menus[item.id]),callback:function ($$v) {_vm.$set(_vm.item_menus, item.id, $$v)},expression:\"item_menus[item.id]\"}},[_c('v-date-picker',_vm._b({attrs:{\"active-picker\":_vm.item_date_pickers[item.id],\"max\":(new Date(Date.now() - (new Date()).getTimezoneOffset() * 60000)).toISOString().substr(0, 10),\"min\":\"1900-01-01\"},on:{\"update:activePicker\":function($event){return _vm.$set(_vm.item_date_pickers, item.id, $event)},\"update:active-picker\":function($event){return _vm.$set(_vm.item_date_pickers, item.id, $event)},\"change\":function($event){return _vm.close_menu(item.id)}},model:{value:(_vm.active_data[item.id]),callback:function ($$v) {_vm.$set(_vm.active_data, item.id, $$v)},expression:\"active_data[item.id]\"}},'v-date-picker',_vm.translate_props(item.props),false))],1):_vm._e(),_vm._t(\"before-after\",null,{\"item\":item})],2):_vm._e()]})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/* eslint-disable */\n\n/**\n * @license\n * Copyright 2013 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Interpreting JavaScript in JavaScript.\n * @author fraser@google.com (Neil Fraser)\n */\n'use strict';\n\nimport * as acorn from \"acorn\";\n\n/**\n * Create a new interpreter.\n * @param {string|!Object} code Raw JavaScript text or AST.\n * @param {Function=} opt_initFunc Optional initialization function.  Used to\n *     define APIs.  When called it is passed the interpreter object and the\n *     global scope object.\n * @constructor\n */\nlet Interpreter = function(code, opt_initFunc) {\n  if (typeof code === 'string') {\n    code = this.parse_(code, 'code');\n  }\n  // Get a handle on Acorn's node_t object.\n  var nodeConstructor = code.constructor;\n  this.newNode = function() {\n    return new nodeConstructor({'options': {}});\n  };\n  // Clone the root 'Program' node so that the AST may be modified.\n  var ast = this.newNode();\n  for (var prop in code) {\n    ast[prop] = (prop === 'body') ? code[prop].slice() : code[prop];\n  }\n  this.ast = ast;\n  this.initFunc_ = opt_initFunc;\n  this.paused_ = false;\n  this.polyfills_ = [];\n  // Unique identifier for native functions.  Used in serialization.\n  this.functionCounter_ = 0;\n  // Map node types to our step function names; a property lookup is faster\n  // than string concatenation with \"step\" prefix.\n  this.stepFunctions_ = Object.create(null);\n  var stepMatch = /^step([A-Z]\\w*)$/;\n  var m;\n  for (var methodName in this) {\n    if ((typeof this[methodName] === 'function') &&\n        (m = methodName.match(stepMatch))) {\n      this.stepFunctions_[m[1]] = this[methodName].bind(this);\n    }\n  }\n  // Create and initialize the global scope.\n  this.globalScope = this.createScope(this.ast, null);\n  this.globalObject = this.globalScope.object;\n   // Run the polyfills.\n  this.ast = this.parse_(this.polyfills_.join('\\n'), 'polyfills');\n  this.polyfills_ = undefined;  // Allow polyfill strings to garbage collect.\n  Interpreter.stripLocations_(this.ast, undefined, undefined);\n  var state = new Interpreter.State(this.ast, this.globalScope);\n  state.done = false;\n  this.stateStack = [state];\n  this.run();\n  this.value = undefined;\n  // Point at the main program.\n  this.ast = ast;\n  state = new Interpreter.State(this.ast, this.globalScope);\n  state.done = false;\n  this.stateStack.length = 0;\n  this.stateStack[0] = state;\n};\n\n/**\n * Completion Value Types.\n * @enum {number}\n */\nInterpreter.Completion = {\n  NORMAL: 0,\n  BREAK: 1,\n  CONTINUE: 2,\n  RETURN: 3,\n  THROW: 4,\n};\n\n/**\n * @const {!Object} Configuration used for all Acorn parsing.\n */\nInterpreter.PARSE_OPTIONS = {\n  'locations': true,\n  'ecmaVersion': 5,  // Needed in the event a version > 0.5.0 of Acorn is used.\n};\n\n/**\n * Property descriptor of readonly properties.\n */\nInterpreter.READONLY_DESCRIPTOR = {\n  configurable: true,\n  enumerable: true,\n  writable: false,\n};\n\n/**\n * Property descriptor of non-enumerable properties.\n */\nInterpreter.NONENUMERABLE_DESCRIPTOR = {\n  configurable: true,\n  enumerable: false,\n  writable: true,\n};\n\n/**\n * Property descriptor of readonly, non-enumerable properties.\n */\nInterpreter.READONLY_NONENUMERABLE_DESCRIPTOR = {\n  configurable: true,\n  enumerable: false,\n  writable: false,\n};\n\n/**\n * Property descriptor of non-configurable, readonly, non-enumerable properties.\n * E.g. NaN, Infinity.\n */\nInterpreter.NONCONFIGURABLE_READONLY_NONENUMERABLE_DESCRIPTOR = {\n  configurable: false,\n  enumerable: false,\n  writable: false,\n};\n\n/**\n * Property descriptor of variables.\n */\nInterpreter.VARIABLE_DESCRIPTOR = {\n  configurable: false,\n  enumerable: true,\n  writable: true,\n};\n\n/**\n * Unique symbol for indicating that a step has encountered an error, has\n * added it to the stack, and will be thrown within the user's program.\n * When STEP_ERROR is thrown in the JS-Interpreter, the error can be ignored.\n */\nInterpreter.STEP_ERROR = {'STEP_ERROR': true};\n\n/**\n * Unique symbol for indicating that a reference is a variable on the scope,\n * not an object property.\n */\nInterpreter.SCOPE_REFERENCE = {'SCOPE_REFERENCE': true};\n\n/**\n * Unique symbol for indicating, when used as the value of the value\n * parameter in calls to setProperty and friends, that the value\n * should be taken from the property descriptor instead.\n */\nInterpreter.VALUE_IN_DESCRIPTOR = {'VALUE_IN_DESCRIPTOR': true};\n\n/**\n * Unique symbol for indicating that a RegExp timeout has occurred in a VM.\n */\nInterpreter.REGEXP_TIMEOUT = {'REGEXP_TIMEOUT': true};\n\n/**\n * For cycle detection in array to string and error conversion;\n * see spec bug github.com/tc39/ecma262/issues/289\n * Since this is for atomic actions only, it can be a class property.\n */\nInterpreter.toStringCycles_ = [];\n\n/**\n * Node's vm module, if loaded and required.\n * @type {Object}\n */\nInterpreter.vm = null;\n\n/**\n * Currently executing interpreter.  Needed so Interpreter.Object instances\n * can know their environment.\n * @type {Interpreter}\n */\nInterpreter.currentInterpreter_ = null;\n\n/**\n * The global object (`window` in a browser, `global` in node.js) is usually\n * `globalThis`, but older systems use `this`.\n */\nInterpreter.nativeGlobal =\n    (typeof globalThis === 'undefined') ? this : globalThis;\n\n/**\n * Code for executing regular expressions in a thread.\n */\nInterpreter.WORKER_CODE = [\n  \"onmessage = function(e) {\",\n    \"var result;\",\n    \"var data = e.data;\",\n    \"switch (data[0]) {\",\n      \"case 'split':\",\n        // ['split', string, separator, limit]\n        \"result = data[1].split(data[2], data[3]);\",\n        \"break;\",\n      \"case 'match':\",\n        // ['match', string, regexp]\n        \"result = data[1].match(data[2]);\",\n        \"break;\",\n      \"case 'search':\",\n        // ['search', string, regexp]\n        \"result = data[1].search(data[2]);\",\n        \"break;\",\n      \"case 'replace':\",\n        // ['replace', string, regexp, newSubstr]\n        \"result = data[1].replace(data[2], data[3]);\",\n        \"break;\",\n      \"case 'exec':\",\n        // ['exec', regexp, lastIndex, string]\n        \"var regexp = data[1];\",\n        \"regexp.lastIndex = data[2];\",\n        \"result = [regexp.exec(data[3]), data[1].lastIndex];\",\n        \"break;\",\n      \"default:\",\n        \"throw Error('Unknown RegExp operation: ' + data[0]);\",\n    \"}\",\n    \"postMessage(result);\",\n    \"close();\",\n  \"};\"];\n\n/**\n * Is a value a legal integer for an array length?\n * @param {Interpreter.Value} x Value to check.\n * @return {number} Zero, or a positive integer if the value can be\n *     converted to such.  NaN otherwise.\n */\nInterpreter.legalArrayLength = function(x) {\n  var n = x >>> 0;\n  // Array length must be between 0 and 2^32-1 (inclusive).\n  return (n === Number(x)) ? n : NaN;\n};\n\n/**\n * Is a value a legal integer for an array index?\n * @param {Interpreter.Value} x Value to check.\n * @return {number} Zero, or a positive integer if the value can be\n *     converted to such.  NaN otherwise.\n */\nInterpreter.legalArrayIndex = function(x) {\n  var n = x >>> 0;\n  // Array index cannot be 2^32-1, otherwise length would be 2^32.\n  // 0xffffffff is 2^32-1.\n  return (String(n) === String(x) && n !== 0xffffffff) ? n : NaN;\n};\n\n/**\n * Remove start and end values from AST, or set start and end values to a\n * constant value.  Used to remove highlighting from polyfills and to set\n * highlighting in an eval to cover the entire eval expression.\n * @param {!Object} node AST node.\n * @param {number=} start Starting character of all nodes, or undefined.\n * @param {number=} end Ending character of all nodes, or undefined.\n * @private\n */\nInterpreter.stripLocations_ = function(node, start, end) {\n  if (start) {\n    node['start'] = start;\n  } else {\n    delete node['start'];\n  }\n  if (end) {\n    node['end'] = end;\n  } else {\n    delete node['end'];\n  }\n  for (var name in node) {\n    if (name !== 'loc' && node.hasOwnProperty(name)) {\n      var prop = node[name];\n      if (prop && typeof prop === 'object') {\n        Interpreter.stripLocations_(prop, start, end);\n      }\n    }\n  }\n};\n\n/**\n * Some pathological regular expressions can take geometric time.\n * Regular expressions are handled in one of three ways:\n * 0 - throw as invalid.\n * 1 - execute natively (risk of unresponsive program).\n * 2 - execute in separate thread (not supported by IE 9).\n */\nInterpreter.prototype['REGEXP_MODE'] = 2;\n\n/**\n * If REGEXP_MODE = 2, the length of time (in ms) to allow a RegExp\n * thread to execute before terminating it.\n */\nInterpreter.prototype['REGEXP_THREAD_TIMEOUT'] = 1000;\n\n/**\n * Length of time (in ms) to allow a polyfill to run before ending step.\n * If set to 0, polyfills will execute step by step.\n * If set to 1000, polyfills will run for up to a second per step\n * (execution will resume in the polyfill in the next step).\n * If set to Infinity, polyfills will run to completion in a single step.\n */\nInterpreter.prototype['POLYFILL_TIMEOUT'] = 1000;\n\n/**\n * Flag indicating that a getter function needs to be called immediately.\n * @private\n */\nInterpreter.prototype.getterStep_ = false;\n\n/**\n * Flag indicating that a setter function needs to be called immediately.\n * @private\n */\nInterpreter.prototype.setterStep_ = false;\n\n/**\n * Number of code chunks appended to the interpreter.\n * @private\n */\nInterpreter.prototype.appendCodeNumber_ = 0;\n\n/**\n * Parse JavaScript code into an AST using Acorn.\n * @param {string} code Raw JavaScript text.\n * @param {string} sourceFile Name of filename (for stack trace).\n * @return {!Object} AST.\n * @private\n */\nInterpreter.prototype.parse_ = function(code, sourceFile) {\n   // Create a new options object, since Acorn will modify this object.\n   var options = {};\n   for (var name in Interpreter.PARSE_OPTIONS) {\n     options[name] = Interpreter.PARSE_OPTIONS[name];\n   }\n   options['sourceFile'] = sourceFile;\n   return acorn.parse(code, options);\n};\n\n/**\n * Add more code to the interpreter.\n * @param {string|!Object} code Raw JavaScript text or AST.\n */\nInterpreter.prototype.appendCode = function(code) {\n  var state = this.stateStack[0];\n  if (!state || state.node['type'] !== 'Program') {\n    throw Error('Expecting original AST to start with a Program node');\n  }\n  if (typeof code === 'string') {\n    code = this.parse_(code, 'appendCode' + (this.appendCodeNumber_++));\n  }\n  if (!code || code['type'] !== 'Program') {\n    throw Error('Expecting new AST to start with a Program node');\n  }\n  this.populateScope_(code, state.scope);\n  // Append the new program to the old one.\n  Array.prototype.push.apply(state.node['body'], code['body']);\n  state.node['body'].variableCache_ = null;\n  state.done = false;\n};\n\n/**\n * Execute one step of the interpreter.\n * @return {boolean} True if a step was executed, false if no more instructions.\n */\nInterpreter.prototype.step = function() {\n  var stack = this.stateStack;\n  do {\n    var state = stack[stack.length - 1];\n    if (!state) {\n      return false;\n    }\n    var node = state.node, type = node['type'];\n    if (type === 'Program' && state.done) {\n      return false;\n    } else if (this.paused_) {\n      return true;\n    }\n    // Record the interpreter in a global property so calls to toString/valueOf\n    // can execute in the proper context.\n    var oldInterpreterValue = Interpreter.currentInterpreter_;\n    Interpreter.currentInterpreter_ = this;\n    try {\n      var nextState = this.stepFunctions_[type](stack, state, node);\n    } catch (e) {\n      // Eat any step errors.  They have been thrown on the stack.\n      if (e !== Interpreter.STEP_ERROR) {\n        // Uh oh.  This is a real error in the JS-Interpreter.  Rethrow.\n        throw e;\n      }\n    } finally {\n      // Restore to previous value (probably null, maybe nested toString calls).\n      Interpreter.currentInterpreter_ = oldInterpreterValue;\n    }\n    if (nextState) {\n      stack.push(nextState);\n    }\n    if (this.getterStep_) {\n      // Getter from this step was not handled.\n      throw Error('Getter not supported in this context');\n    }\n    if (this.setterStep_) {\n      // Setter from this step was not handled.\n      throw Error('Setter not supported in this context');\n    }\n    // This may be polyfill code.  Keep executing until we arrive at user code.\n    if (!endTime && !node['end']) {\n      // Ideally this would be defined at the top of the function, but that\n      // wastes time if the step isn't a polyfill.\n      var endTime = Date.now() + this['POLYFILL_TIMEOUT'];\n    }\n  } while (!node['end'] && endTime > Date.now());\n  return true;\n};\n\n/**\n * Execute the interpreter to program completion.  Vulnerable to infinite loops.\n * @return {boolean} True if a execution is asynchronously blocked,\n *     false if no more instructions.\n */\nInterpreter.prototype.run = function() {\n  while (!this.paused_ && this.step()) {}\n  return this.paused_;\n};\n\n/**\n * Initialize the global object with buitin properties and functions.\n * @param {!Interpreter.Object} globalObject Global object.\n */\nInterpreter.prototype.initGlobal = function(globalObject) {\n  // Initialize uneditable global properties.\n  this.setProperty(globalObject, 'NaN', NaN,\n      Interpreter.NONCONFIGURABLE_READONLY_NONENUMERABLE_DESCRIPTOR);\n  this.setProperty(globalObject, 'Infinity', Infinity,\n      Interpreter.NONCONFIGURABLE_READONLY_NONENUMERABLE_DESCRIPTOR);\n  this.setProperty(globalObject, 'undefined', undefined,\n      Interpreter.NONCONFIGURABLE_READONLY_NONENUMERABLE_DESCRIPTOR);\n  this.setProperty(globalObject, 'window', globalObject,\n      Interpreter.READONLY_DESCRIPTOR);\n  this.setProperty(globalObject, 'this', globalObject,\n      Interpreter.NONCONFIGURABLE_READONLY_NONENUMERABLE_DESCRIPTOR);\n  this.setProperty(globalObject, 'self', globalObject);  // Editable.\n\n  // Create the objects which will become Object.prototype and\n  // Function.prototype, which are needed to bootstrap everything else.\n  this.OBJECT_PROTO = new Interpreter.Object(null);\n  this.FUNCTION_PROTO = new Interpreter.Object(this.OBJECT_PROTO);\n  // Initialize global objects.\n  this.initFunction(globalObject);\n  this.initObject(globalObject);\n  // Unable to set globalObject's parent prior (OBJECT did not exist).\n  // Note that in a browser this would be `Window`, whereas in Node.js it would\n  // be `Object`.  This interpreter is closer to Node in that it has no DOM.\n  globalObject.proto = this.OBJECT_PROTO;\n  this.setProperty(globalObject, 'constructor', this.OBJECT,\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n  this.initArray(globalObject);\n  this.initString(globalObject);\n  this.initBoolean(globalObject);\n  this.initNumber(globalObject);\n  this.initDate(globalObject);\n  this.initRegExp(globalObject);\n  this.initError(globalObject);\n  this.initMath(globalObject);\n  this.initJSON(globalObject);\n\n  // Initialize global functions.\n  var thisInterpreter = this;\n  var func = this.createNativeFunction(\n      function(_x) {throw EvalError(\"Can't happen\");}, false);\n  func.eval = true;\n  this.setProperty(globalObject, 'eval', func,\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  this.setProperty(globalObject, 'parseInt',\n      this.createNativeFunction(parseInt, false),\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n  this.setProperty(globalObject, 'parseFloat',\n      this.createNativeFunction(parseFloat, false),\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  this.setProperty(globalObject, 'isNaN',\n      this.createNativeFunction(isNaN, false),\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  this.setProperty(globalObject, 'isFinite',\n      this.createNativeFunction(isFinite, false),\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  var strFunctions = [\n    [escape, 'escape'], [unescape, 'unescape'],\n    [decodeURI, 'decodeURI'], [decodeURIComponent, 'decodeURIComponent'],\n    [encodeURI, 'encodeURI'], [encodeURIComponent, 'encodeURIComponent']\n  ];\n  for (var i = 0; i < strFunctions.length; i++) {\n    var wrapper = (function(nativeFunc) {\n      return function(str) {\n        try {\n          return nativeFunc(str);\n        } catch (e) {\n          // decodeURI('%xy') will throw an error.  Catch and rethrow.\n          thisInterpreter.throwException(thisInterpreter.URI_ERROR, e.message);\n        }\n      };\n    })(strFunctions[i][0]);\n    this.setProperty(globalObject, strFunctions[i][1],\n        this.createNativeFunction(wrapper, false),\n        Interpreter.NONENUMERABLE_DESCRIPTOR);\n  }\n  // Preserve publicly properties from being pruned/renamed by JS compilers.\n  // Add others as needed.\n  this['OBJECT'] = this.OBJECT;     this['OBJECT_PROTO'] = this.OBJECT_PROTO;\n  this['FUNCTION'] = this.FUNCTION; this['FUNCTION_PROTO'] = this.FUNCTION_PROTO;\n  this['ARRAY'] = this.ARRAY;       this['ARRAY_PROTO'] = this.ARRAY_PROTO;\n  this['REGEXP'] = this.REGEXP;     this['REGEXP_PROTO'] = this.REGEXP_PROTO;\n  this['DATE'] = this.DATE;         this['DATE_PROTO'] = this.DATE_PROTO;\n\n  // Run any user-provided initialization.\n  if (this.initFunc_) {\n    this.initFunc_(this, globalObject);\n  }\n};\n\n/**\n * Number of functions created by the interpreter.\n * @private\n */\nInterpreter.prototype.functionCodeNumber_ = 0;\n\n/**\n * Initialize the Function class.\n * @param {!Interpreter.Object} globalObject Global object.\n */\nInterpreter.prototype.initFunction = function(globalObject) {\n  var thisInterpreter = this;\n  var wrapper;\n  var identifierRegexp = /^[A-Za-z_$][\\w$]*$/;\n  // Function constructor.\n  wrapper = function Function(var_args) {\n    if (arguments.length) {\n      var code = String(arguments[arguments.length - 1]);\n    } else {\n      var code = '';\n    }\n    var argsStr = Array.prototype.slice.call(arguments, 0, -1).join(',').trim();\n    if (argsStr) {\n      var args = argsStr.split(/\\s*,\\s*/);\n      for (var i = 0; i < args.length; i++) {\n        var name = args[i];\n        if (!identifierRegexp.test(name)) {\n          thisInterpreter.throwException(thisInterpreter.SYNTAX_ERROR,\n              'Invalid function argument: ' + name);\n        }\n      }\n      argsStr = args.join(', ');\n    }\n    // Acorn needs to parse code in the context of a function or else `return`\n    // statements will be syntax errors.\n    try {\n      var ast = thisInterpreter.parse_('(function(' + argsStr + ') {' + code + '})',\n          'function' + (thisInterpreter.functionCodeNumber_++));\n    } catch (e) {\n      // Acorn threw a SyntaxError.  Rethrow as a trappable error.\n      thisInterpreter.throwException(thisInterpreter.SYNTAX_ERROR,\n          'Invalid code: ' + e.message);\n    }\n    if (ast['body'].length !== 1) {\n      // Function('a', 'return a + 6;}; {alert(1);');\n      thisInterpreter.throwException(thisInterpreter.SYNTAX_ERROR,\n          'Invalid code in function body.');\n    }\n    var node = ast['body'][0]['expression'];\n    // Note that if this constructor is called as `new Function()` the function\n    // object created by stepCallExpression and assigned to `this` is discarded.\n    // Interestingly, the scope for constructed functions is the global scope,\n    // even if they were constructed in some other scope.\n    return thisInterpreter.createFunction(node, thisInterpreter.globalScope, 'anonymous');\n  };\n  this.FUNCTION = this.createNativeFunction(wrapper, true);\n\n  this.setProperty(globalObject, 'Function', this.FUNCTION,\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n  // Throw away the created prototype and use the root prototype.\n  this.setProperty(this.FUNCTION, 'prototype', this.FUNCTION_PROTO,\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  // Configure Function.prototype.\n  this.setProperty(this.FUNCTION_PROTO, 'constructor', this.FUNCTION,\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n  this.FUNCTION_PROTO.nativeFunc = function() {};\n  this.FUNCTION_PROTO.nativeFunc.id = this.functionCounter_++;\n  this.FUNCTION_PROTO.illegalConstructor = true;\n  this.setProperty(this.FUNCTION_PROTO, 'length', 0,\n      Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR);\n  this.FUNCTION_PROTO.class = 'Function';\n\n  wrapper = function apply(thisArg, args) {\n    var state =\n        thisInterpreter.stateStack[thisInterpreter.stateStack.length - 1];\n    // Rewrite the current CallExpression state to apply a different function.\n    state.func_ = this;\n    // Assign the `this` object.\n    state.funcThis_ = thisArg;\n    // Bind any provided arguments.\n    state.arguments_ = [];\n    if (args !== null && args !== undefined) {\n      if (args instanceof Interpreter.Object) {\n        state.arguments_ = thisInterpreter.arrayPseudoToNative(args);\n      } else {\n        thisInterpreter.throwException(thisInterpreter.TYPE_ERROR,\n            'CreateListFromArrayLike called on non-object');\n      }\n    }\n    state.doneExec_ = false;\n  };\n  this.setNativeFunctionPrototype(this.FUNCTION, 'apply', wrapper);\n\n  wrapper = function call(thisArg /*, var_args */) {\n    var state =\n        thisInterpreter.stateStack[thisInterpreter.stateStack.length - 1];\n    // Rewrite the current CallExpression state to call a different function.\n    state.func_ = this;\n    // Assign the `this` object.\n    state.funcThis_ = thisArg;\n    // Bind any provided arguments.\n    state.arguments_ = [];\n    for (var i = 1; i < arguments.length; i++) {\n      state.arguments_.push(arguments[i]);\n    }\n    state.doneExec_ = false;\n  };\n  this.setNativeFunctionPrototype(this.FUNCTION, 'call', wrapper);\n\n  this.polyfills_.push(\n// Polyfill copied from:\n// developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_objects/Function/bind\n\"Object.defineProperty(Function.prototype, 'bind',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function bind(oThis) {\",\n    \"if (typeof this !== 'function') {\",\n      \"throw TypeError('What is trying to be bound is not callable');\",\n    \"}\",\n    \"var aArgs   = Array.prototype.slice.call(arguments, 1),\",\n        \"fToBind = this,\",\n        \"fNOP    = function() {},\",\n        \"fBound  = function() {\",\n          \"return fToBind.apply(this instanceof fNOP\",\n                 \"? this\",\n                 \": oThis,\",\n                 \"aArgs.concat(Array.prototype.slice.call(arguments)));\",\n        \"};\",\n    \"if (this.prototype) {\",\n      \"fNOP.prototype = this.prototype;\",\n    \"}\",\n    \"fBound.prototype = new fNOP();\",\n    \"return fBound;\",\n  \"}\",\n\"});\",\n\"\");\n\n  // Function has no parent to inherit from, so it needs its own mandatory\n  // toString and valueOf functions.\n  wrapper = function toString() {\n    return String(this);\n  };\n  this.setNativeFunctionPrototype(this.FUNCTION, 'toString', wrapper);\n  this.setProperty(this.FUNCTION, 'toString',\n      this.createNativeFunction(wrapper, false),\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n  wrapper = function valueOf() {\n    return this.valueOf();\n  };\n  this.setNativeFunctionPrototype(this.FUNCTION, 'valueOf', wrapper);\n  this.setProperty(this.FUNCTION, 'valueOf',\n      this.createNativeFunction(wrapper, false),\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n};\n\n/**\n * Initialize the Object class.\n * @param {!Interpreter.Object} globalObject Global object.\n */\nInterpreter.prototype.initObject = function(globalObject) {\n  var thisInterpreter = this;\n  var wrapper;\n  // Object constructor.\n  wrapper = function Object(value) {\n    if (value === undefined || value === null) {\n      // Create a new object.\n      if (thisInterpreter.calledWithNew()) {\n        // Called as `new Object()`.\n        return this;\n      } else {\n        // Called as `Object()`.\n        return thisInterpreter.createObjectProto(thisInterpreter.OBJECT_PROTO);\n      }\n    }\n    if (!(value instanceof Interpreter.Object)) {\n      // Wrap the value as an object.\n      var box = thisInterpreter.createObjectProto(\n          thisInterpreter.getPrototype(value));\n      box.data = value;\n      return box;\n    }\n    // Return the provided object.\n    return value;\n  };\n  this.OBJECT = this.createNativeFunction(wrapper, true);\n  // Throw away the created prototype and use the root prototype.\n  this.setProperty(this.OBJECT, 'prototype', this.OBJECT_PROTO,\n                   Interpreter.NONENUMERABLE_DESCRIPTOR);\n  this.setProperty(this.OBJECT_PROTO, 'constructor', this.OBJECT,\n                   Interpreter.NONENUMERABLE_DESCRIPTOR);\n  this.setProperty(globalObject, 'Object', this.OBJECT,\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  /**\n   * Checks if the provided value is null or undefined.\n   * If so, then throw an error in the call stack.\n   * @param {Interpreter.Value} value Value to check.\n   */\n  var throwIfNullUndefined = function(value) {\n    if (value === undefined || value === null) {\n      thisInterpreter.throwException(thisInterpreter.TYPE_ERROR,\n          \"Cannot convert '\" + value + \"' to object\");\n    }\n  };\n\n  // Static methods on Object.\n  wrapper = function getOwnPropertyNames(obj) {\n    throwIfNullUndefined(obj);\n    var props = (obj instanceof Interpreter.Object) ? obj.properties : obj;\n    return thisInterpreter.arrayNativeToPseudo(\n        Object.getOwnPropertyNames(props));\n  };\n  this.setProperty(this.OBJECT, 'getOwnPropertyNames',\n      this.createNativeFunction(wrapper, false),\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  wrapper = function keys(obj) {\n    throwIfNullUndefined(obj);\n    if (obj instanceof Interpreter.Object) {\n      obj = obj.properties;\n    }\n    return thisInterpreter.arrayNativeToPseudo(Object.keys(obj));\n  };\n  this.setProperty(this.OBJECT, 'keys',\n      this.createNativeFunction(wrapper, false),\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  wrapper = function create_(proto) {\n    // Support for the second argument is the responsibility of a polyfill.\n    if (proto === null) {\n      return thisInterpreter.createObjectProto(null);\n    }\n    if (!(proto instanceof Interpreter.Object)) {\n      thisInterpreter.throwException(thisInterpreter.TYPE_ERROR,\n          'Object prototype may only be an Object or null');\n    }\n    return thisInterpreter.createObjectProto(proto);\n  };\n  this.setProperty(this.OBJECT, 'create',\n      this.createNativeFunction(wrapper, false),\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  // Add a polyfill to handle create's second argument.\n  this.polyfills_.push(\n\"(function() {\",\n  \"var create_ = Object.create;\",\n  \"Object.create = function create(proto, props) {\",\n    \"var obj = create_(proto);\",\n    \"props && Object.defineProperties(obj, props);\",\n    \"return obj;\",\n  \"};\",\n\"})();\",\n\"\");\n\n  wrapper = function defineProperty(obj, prop, descriptor) {\n    prop = String(prop);\n    if (!(obj instanceof Interpreter.Object)) {\n      thisInterpreter.throwException(thisInterpreter.TYPE_ERROR,\n          'Object.defineProperty called on non-object');\n    }\n    if (!(descriptor instanceof Interpreter.Object)) {\n      thisInterpreter.throwException(thisInterpreter.TYPE_ERROR,\n          'Property description must be an object');\n    }\n    if (!obj.properties[prop] && obj.preventExtensions) {\n      thisInterpreter.throwException(thisInterpreter.TYPE_ERROR,\n          \"Can't define property '\" + prop + \"', object is not extensible\");\n    }\n    // The polyfill guarantees no inheritance and no getter functions.\n    // Therefore the descriptor properties map is the native object needed.\n    thisInterpreter.setProperty(obj, prop, Interpreter.VALUE_IN_DESCRIPTOR,\n                                descriptor.properties);\n    return obj;\n  };\n  this.setProperty(this.OBJECT, 'defineProperty',\n      this.createNativeFunction(wrapper, false),\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  this.polyfills_.push(\n// Flatten the descriptor to remove any inheritance or getter functions.\n\"(function() {\",\n  \"var defineProperty_ = Object.defineProperty;\",\n  \"Object.defineProperty = function defineProperty(obj, prop, d1) {\",\n    \"var d2 = {};\",\n    \"if ('configurable' in d1) d2.configurable = d1.configurable;\",\n    \"if ('enumerable' in d1) d2.enumerable = d1.enumerable;\",\n    \"if ('writable' in d1) d2.writable = d1.writable;\",\n    \"if ('value' in d1) d2.value = d1.value;\",\n    \"if ('get' in d1) d2.get = d1.get;\",\n    \"if ('set' in d1) d2.set = d1.set;\",\n    \"return defineProperty_(obj, prop, d2);\",\n  \"};\",\n\"})();\",\n\n\"Object.defineProperty(Object, 'defineProperties',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function defineProperties(obj, props) {\",\n    \"var keys = Object.keys(props);\",\n    \"for (var i = 0; i < keys.length; i++) {\",\n      \"Object.defineProperty(obj, keys[i], props[keys[i]]);\",\n    \"}\",\n    \"return obj;\",\n  \"}\",\n\"});\",\n\"\");\n\n  wrapper = function getOwnPropertyDescriptor(obj, prop) {\n    if (!(obj instanceof Interpreter.Object)) {\n      thisInterpreter.throwException(thisInterpreter.TYPE_ERROR,\n          'Object.getOwnPropertyDescriptor called on non-object');\n    }\n    prop = String(prop);\n    if (!(prop in obj.properties)) {\n      return undefined;\n    }\n    var descriptor = Object.getOwnPropertyDescriptor(obj.properties, prop);\n    var getter = obj.getter[prop];\n    var setter = obj.setter[prop];\n\n    var pseudoDescriptor =\n        thisInterpreter.createObjectProto(thisInterpreter.OBJECT_PROTO);\n    if (getter || setter) {\n      thisInterpreter.setProperty(pseudoDescriptor, 'get', getter);\n      thisInterpreter.setProperty(pseudoDescriptor, 'set', setter);\n    } else {\n      thisInterpreter.setProperty(pseudoDescriptor, 'value',\n          descriptor.value);\n      thisInterpreter.setProperty(pseudoDescriptor, 'writable',\n          descriptor.writable);\n    }\n    thisInterpreter.setProperty(pseudoDescriptor, 'configurable',\n        descriptor.configurable);\n    thisInterpreter.setProperty(pseudoDescriptor, 'enumerable',\n        descriptor.enumerable);\n    return pseudoDescriptor;\n  };\n  this.setProperty(this.OBJECT, 'getOwnPropertyDescriptor',\n      this.createNativeFunction(wrapper, false),\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  wrapper = function getPrototypeOf(obj) {\n    throwIfNullUndefined(obj);\n    return thisInterpreter.getPrototype(obj);\n  };\n  this.setProperty(this.OBJECT, 'getPrototypeOf',\n      this.createNativeFunction(wrapper, false),\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  wrapper = function isExtensible(obj) {\n    return Boolean(obj) && !obj.preventExtensions;\n  };\n  this.setProperty(this.OBJECT, 'isExtensible',\n      this.createNativeFunction(wrapper, false),\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  wrapper = function preventExtensions(obj) {\n    if (obj instanceof Interpreter.Object) {\n      obj.preventExtensions = true;\n    }\n    return obj;\n  };\n  this.setProperty(this.OBJECT, 'preventExtensions',\n      this.createNativeFunction(wrapper, false),\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  // Instance methods on Object.\n  this.setNativeFunctionPrototype(this.OBJECT, 'toString',\n      Interpreter.Object.prototype.toString);\n  this.setNativeFunctionPrototype(this.OBJECT, 'toLocaleString',\n      Interpreter.Object.prototype.toString);\n  this.setNativeFunctionPrototype(this.OBJECT, 'valueOf',\n      Interpreter.Object.prototype.valueOf);\n\n  wrapper = function hasOwnProperty(prop) {\n    throwIfNullUndefined(this);\n    if (this instanceof Interpreter.Object) {\n      return String(prop) in this.properties;\n    }\n    // Primitive.\n    return this.hasOwnProperty(prop);\n  };\n  this.setNativeFunctionPrototype(this.OBJECT, 'hasOwnProperty', wrapper);\n\n  wrapper = function propertyIsEnumerable(prop) {\n    throwIfNullUndefined(this);\n    if (this instanceof Interpreter.Object) {\n      return Object.prototype.propertyIsEnumerable.call(this.properties, prop);\n    }\n    // Primitive.\n    return this.propertyIsEnumerable(prop);\n  };\n  this.setNativeFunctionPrototype(this.OBJECT, 'propertyIsEnumerable', wrapper);\n\n  wrapper = function isPrototypeOf(obj) {\n    while (true) {\n      // Note, circular loops shouldn't be possible.\n      obj = thisInterpreter.getPrototype(obj);\n      if (!obj) {\n        // No parent; reached the top.\n        return false;\n      }\n      if (obj === this) {\n        return true;\n      }\n    }\n  };\n  this.setNativeFunctionPrototype(this.OBJECT, 'isPrototypeOf',  wrapper);\n};\n\n/**\n * Initialize the Array class.\n * @param {!Interpreter.Object} globalObject Global object.\n */\nInterpreter.prototype.initArray = function(globalObject) {\n  var thisInterpreter = this;\n  var wrapper;\n  // Array constructor.\n  wrapper = function Array(var_args) {\n    if (thisInterpreter.calledWithNew()) {\n      // Called as `new Array()`.\n      var newArray = this;\n    } else {\n      // Called as `Array()`.\n      var newArray = thisInterpreter.createArray();\n    }\n    var first = arguments[0];\n    if (arguments.length === 1 && typeof first === 'number') {\n      if (isNaN(Interpreter.legalArrayLength(first))) {\n        thisInterpreter.throwException(thisInterpreter.RANGE_ERROR,\n                                       'Invalid array length');\n      }\n      newArray.properties.length = first;\n    } else {\n      for (var i = 0; i < arguments.length; i++) {\n        newArray.properties[i] = arguments[i];\n      }\n      newArray.properties.length = i;\n    }\n    return newArray;\n  };\n  this.ARRAY = this.createNativeFunction(wrapper, true);\n  this.ARRAY_PROTO = this.ARRAY.properties['prototype'];\n  this.setProperty(globalObject, 'Array', this.ARRAY,\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  // Static methods on Array.\n  wrapper = function isArray(obj) {\n    return obj && obj.class === 'Array';\n  };\n  this.setProperty(this.ARRAY, 'isArray',\n                   this.createNativeFunction(wrapper, false),\n                   Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  // Instance methods on Array.\n  this.setProperty(this.ARRAY_PROTO, 'length', 0,\n      {configurable: false, enumerable: false, writable: true});\n  this.ARRAY_PROTO.class = 'Array';\n\n  this.polyfills_.push(\n\"Object.defineProperty(Array.prototype, 'pop',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function pop() {\",\n    \"if (!this) throw TypeError();\",\n    \"var o = Object(this);\",\n    \"var len = o.length >>> 0;\",\n    \"if (!len || len < 0) {\",\n      \"o.length = 0;\",\n      \"return undefined;\",\n    \"}\",\n    \"len--;\",\n    \"var x = o[len];\",\n    \"delete o[len];\",  // Needed for non-arrays.\n    \"o.length = len;\",\n    \"return x;\",\n  \"}\",\n\"});\",\n\n\"Object.defineProperty(Array.prototype, 'push',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function push(var_args) {\",\n    \"if (!this) throw TypeError();\",\n    \"var o = Object(this);\",\n    \"var len = o.length >>> 0;\",\n    \"for (var i = 0; i < arguments.length; i++) {\",\n      \"o[len] = arguments[i];\",\n      \"len++;\",\n    \"}\",\n    \"o.length = len;\",\n    \"return len;\",\n  \"}\",\n\"});\",\n\n\"Object.defineProperty(Array.prototype, 'shift',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function shift() {\",\n    \"if (!this) throw TypeError();\",\n    \"var o = Object(this);\",\n    \"var len = o.length >>> 0;\",\n    \"if (!len || len < 0) {\",\n      \"o.length = 0;\",\n      \"return undefined;\",\n    \"}\",\n    \"var value = o[0];\",\n    \"for (var i = 0; i < len - 1; i++) {\",\n      \"if ((i + 1) in o) {\",\n        \"o[i] = o[i + 1];\",\n      \"} else {\",\n        \"delete o[i];\",\n      \"}\",\n    \"}\",\n    \"delete o[i];\",  // Needed for non-arrays.\n    \"o.length = len - 1;\",\n    \"return value;\",\n  \"}\",\n\"});\",\n\n\"Object.defineProperty(Array.prototype, 'unshift',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function unshift(var_args) {\",\n    \"if (!this) throw TypeError();\",\n    \"var o = Object(this);\",\n    \"var len = o.length >>> 0;\",\n    \"if (!len || len < 0) {\",\n      \"len = 0;\",\n    \"}\",\n    \"for (var i = len - 1; i >= 0; i--) {\",\n      \"if (i in o) {\",\n        \"o[i + arguments.length] = o[i];\",\n      \"} else {\",\n        \"delete o[i + arguments.length];\",\n      \"}\",\n    \"}\",\n    \"for (var i = 0; i < arguments.length; i++) {\",\n      \"o[i] = arguments[i];\",\n    \"}\",\n    \"return (o.length = len + arguments.length);\",\n  \"}\",\n\"});\",\n\n\"Object.defineProperty(Array.prototype, 'reverse',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function reverse() {\",\n    \"if (!this) throw TypeError();\",\n    \"var o = Object(this);\",\n    \"var len = o.length >>> 0;\",\n    \"if (!len || len < 2) {\",\n      \"return o;\",  // Not an array, or too short to reverse.\n    \"}\",\n    \"for (var i = 0; i < len / 2 - 0.5; i++) {\",\n      \"var x = o[i];\",\n      \"var hasX = i in o;\",\n      \"if ((len - i - 1) in o) {\",\n        \"o[i] = o[len - i - 1];\",\n      \"} else {\",\n        \"delete o[i];\",\n      \"}\",\n      \"if (hasX) {\",\n        \"o[len - i - 1] = x;\",\n      \"} else {\",\n        \"delete o[len - i - 1];\",\n      \"}\",\n    \"}\",\n    \"return o;\",\n  \"}\",\n\"});\",\n\n\"Object.defineProperty(Array.prototype, 'indexOf',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function indexOf(searchElement, fromIndex) {\",\n    \"if (!this) throw TypeError();\",\n    \"var o = Object(this);\",\n    \"var len = o.length >>> 0;\",\n    \"var n = fromIndex | 0;\",\n    \"if (!len || n >= len) {\",\n      \"return -1;\",\n    \"}\",\n    \"var i = Math.max(n >= 0 ? n : len - Math.abs(n), 0);\",\n    \"while (i < len) {\",\n      \"if (i in o && o[i] === searchElement) {\",\n        \"return i;\",\n      \"}\",\n      \"i++;\",\n    \"}\",\n    \"return -1;\",\n  \"}\",\n\"});\",\n\n\"Object.defineProperty(Array.prototype, 'includes',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function includes(search) {\",\n    \"return !!~this.indexOf(search);\",\n  \"}\",\n\"});\",\n\n\"Object.defineProperty(Array.prototype, 'lastIndexOf',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function lastIndexOf(searchElement, fromIndex) {\",\n    \"if (!this) throw TypeError();\",\n    \"var o = Object(this);\",\n    \"var len = o.length >>> 0;\",\n    \"if (!len) {\",\n      \"return -1;\",\n    \"}\",\n    \"var n = len - 1;\",\n    \"if (arguments.length > 1) {\",\n      \"n = fromIndex | 0;\",\n      \"if (n) {\",\n        \"n = (n > 0 || -1) * Math.floor(Math.abs(n));\",\n      \"}\",\n    \"}\",\n    \"var i = n >= 0 ? Math.min(n, len - 1) : len - Math.abs(n);\",\n    \"while (i >= 0) {\",\n      \"if (i in o && o[i] === searchElement) {\",\n        \"return i;\",\n      \"}\",\n      \"i--;\",\n    \"}\",\n    \"return -1;\",\n  \"}\",\n\"});\",\n\n\"Object.defineProperty(Array.prototype, 'slice',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function slice(start, end) {\",\n    \"if (!this) throw TypeError();\",\n    \"var o = Object(this);\",\n    \"var len = o.length >>> 0;\",\n    // Handle negative value for \"start\"\n    \"start |= 0;\",\n    \"start = (start >= 0) ? start : Math.max(0, len + start);\",\n    // Handle negative value for \"end\"\n    \"if (typeof end !== 'undefined') {\",\n      \"if (end !== Infinity) {\",\n        \"end |= 0;\",\n      \"}\",\n      \"if (end < 0) {\",\n        \"end = len + end;\",\n      \"} else {\",\n        \"end = Math.min(end, len);\",\n      \"}\",\n    \"} else {\",\n      \"end = len;\",\n    \"}\",\n    \"var size = end - start;\",\n    \"var cloned = new Array(size);\",\n    \"for (var i = 0; i < size; i++) {\",\n      \"if ((start + i) in o) {\",\n        \"cloned[i] = o[start + i];\",\n      \"}\",\n    \"}\",\n    \"return cloned;\",\n  \"}\",\n\"});\",\n\n\"Object.defineProperty(Array.prototype, 'splice',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function splice(start, deleteCount, var_args) {\",\n    \"if (!this) throw TypeError();\",\n    \"var o = Object(this);\",\n    \"var len = o.length >>> 0;\",\n    \"start |= 0;\",\n    \"if (start < 0) {\",\n      \"start = Math.max(len + start, 0);\",\n    \"} else {\",\n      \"start = Math.min(start, len);\",\n    \"}\",\n    \"if (arguments.length < 1) {\",\n      \"deleteCount = len - start;\",\n    \"} else {\",\n      \"deleteCount |= 0;\",\n      \"deleteCount = Math.max(0, Math.min(deleteCount, len - start));\",\n    \"}\",\n    \"var removed = [];\",\n    // Remove specified elements.\n    \"for (var i = start; i < start + deleteCount; i++) {\",\n      \"if (i in o) {\",\n        \"removed.push(o[i]);\",\n      \"} else {\",\n        \"removed.length++;\",\n      \"}\",\n      \"if ((i + deleteCount) in o) {\",\n        \"o[i] = o[i + deleteCount];\",\n      \"} else {\",\n        \"delete o[i];\",\n      \"}\",\n    \"}\",\n    // Move other element to fill the gap.\n    \"for (var i = start + deleteCount; i < len - deleteCount; i++) {\",\n      \"if ((i + deleteCount) in o) {\",\n        \"o[i] = o[i + deleteCount];\",\n      \"} else {\",\n        \"delete o[i];\",\n      \"}\",\n    \"}\",\n    // Delete superfluous properties.\n    \"for (var i = len - deleteCount; i < len; i++) {\",\n      \"delete o[i];\",\n    \"}\",\n    \"len -= deleteCount;\",\n    // Insert specified items.\n    \"var arl = arguments.length - 2;\",\n    \"for (var i = len - 1; i >= start; i--) {\",\n      \"if (i in o) {\",\n        \"o[i + arl] = o[i];\",\n      \"} else {\",\n        \"delete o[i + arl];\",\n      \"}\",\n    \"}\",\n    \"len += arl;\",\n    \"for (var i = 2; i < arguments.length; i++) {\",\n      \"o[start + i - 2] = arguments[i];\",\n    \"}\",\n    \"o.length = len;\",\n    \"return removed;\",\n  \"}\",\n\"});\",\n\n\"Object.defineProperty(Array.prototype, 'concat',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function concat(var_args) {\",\n    \"if (!this) throw TypeError();\",\n    \"var o = Object(this);\",\n    \"var cloned = [];\",\n    \"for (var i = -1; i < arguments.length; i++) {\",\n      \"var value = (i === -1) ? o : arguments[i];\",\n      \"if (Array.isArray(value)) {\",\n        \"for (var j = 0, l = value.length; j < l; j++) {\",\n          \"if (j in value) {\",\n            \"cloned.push(value[j]);\",\n          \"} else {\",\n            \"cloned.length++;\",\n          \"}\",\n        \"}\",\n      \"} else {\",\n        \"cloned.push(value);\",\n      \"}\",\n    \"}\",\n    \"return cloned;\",\n  \"}\",\n\"});\",\n\n\"Object.defineProperty(Array.prototype, 'join',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function join(opt_separator) {\",\n    \"if (!this) throw TypeError();\",\n    \"var o = Object(this);\",\n    \"var sep = typeof opt_separator === 'undefined' ?\",\n        \"',' : ('' + opt_separator);\",\n    \"var str = '';\",\n    \"for (var i = 0; i < o.length; i++) {\",\n      \"if (i && sep) {\",\n        \"str += sep;\",\n      \"}\",\n      \"str += (o[i] === null || o[i] === undefined) ? '' : o[i];\",\n    \"}\",\n    \"return str;\",\n  \"}\",\n\"});\",\n\n// Polyfill copied from:\n// developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array/every\n\"Object.defineProperty(Array.prototype, 'every',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function every(callbackfn, thisArg) {\",\n    \"if (!this || typeof callbackfn !== 'function') throw TypeError();\",\n    \"var t, k;\",\n    \"var o = Object(this);\",\n    \"var len = o.length >>> 0;\",\n    \"if (arguments.length > 1) t = thisArg;\",\n    \"k = 0;\",\n    \"while (k < len) {\",\n      \"if (k in o && !callbackfn.call(t, o[k], k, o)) return false;\",\n      \"k++;\",\n    \"}\",\n    \"return true;\",\n  \"}\",\n\"});\",\n\n// Polyfill copied from:\n// developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array/filter\n\"Object.defineProperty(Array.prototype, 'filter',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function filter(fun, var_args) {\",\n    \"if (this === void 0 || this === null || typeof fun !== 'function') throw TypeError();\",\n    \"var o = Object(this);\",\n    \"var len = o.length >>> 0;\",\n    \"var res = [];\",\n    \"var thisArg = arguments.length >= 2 ? arguments[1] : void 0;\",\n    \"for (var i = 0; i < len; i++) {\",\n      \"if (i in o) {\",\n        \"var val = o[i];\",\n        \"if (fun.call(thisArg, val, i, o)) res.push(val);\",\n      \"}\",\n    \"}\",\n    \"return res;\",\n  \"}\",\n\"});\",\n\n// Polyfill copied from:\n// developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach\n\"Object.defineProperty(Array.prototype, 'forEach',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function forEach(callback, thisArg) {\",\n    \"if (!this || typeof callback !== 'function') throw TypeError();\",\n    \"var t, k;\",\n    \"var o = Object(this);\",\n    \"var len = o.length >>> 0;\",\n    \"if (arguments.length > 1) t = thisArg;\",\n    \"k = 0;\",\n    \"while (k < len) {\",\n      \"if (k in o) callback.call(t, o[k], k, o);\",\n      \"k++;\",\n    \"}\",\n  \"}\",\n\"});\",\n\n// Polyfill copied from:\n// developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array/map\n\"Object.defineProperty(Array.prototype, 'map',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function map(callback, thisArg) {\",\n    \"if (!this || typeof callback !== 'function') throw TypeError();\",\n    \"var t, a, k;\",\n    \"var o = Object(this);\",\n    \"var len = o.length >>> 0;\",\n    \"if (arguments.length > 1) t = thisArg;\",\n    \"a = new Array(len);\",\n    \"k = 0;\",\n    \"while (k < len) {\",\n      \"if (k in o) a[k] = callback.call(t, o[k], k, o);\",\n      \"k++;\",\n    \"}\",\n    \"return a;\",\n  \"}\",\n\"});\",\n\n// Polyfill copied from:\n// developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce\n\"Object.defineProperty(Array.prototype, 'reduce',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function reduce(callback /*, initialValue*/) {\",\n    \"if (!this || typeof callback !== 'function') throw TypeError();\",\n    \"var o = Object(this), len = o.length >>> 0, k = 0, value;\",\n    \"if (arguments.length === 2) {\",\n      \"value = arguments[1];\",\n    \"} else {\",\n      \"while (k < len && !(k in o)) k++;\",\n      \"if (k >= len) {\",\n        \"throw TypeError('Reduce of empty array with no initial value');\",\n      \"}\",\n      \"value = o[k++];\",\n    \"}\",\n    \"for (; k < len; k++) {\",\n      \"if (k in o) value = callback(value, o[k], k, o);\",\n    \"}\",\n    \"return value;\",\n  \"}\",\n\"});\",\n\n// Polyfill copied from:\n// developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array/ReduceRight\n\"Object.defineProperty(Array.prototype, 'reduceRight',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function reduceRight(callback /*, initialValue*/) {\",\n    \"if (null === this || 'undefined' === typeof this || 'function' !== typeof callback) throw TypeError();\",\n    \"var o = Object(this), len = o.length >>> 0, k = len - 1, value;\",\n    \"if (arguments.length >= 2) {\",\n      \"value = arguments[1];\",\n    \"} else {\",\n      \"while (k >= 0 && !(k in o)) k--;\",\n      \"if (k < 0) {\",\n        \"throw TypeError('Reduce of empty array with no initial value');\",\n      \"}\",\n      \"value = o[k--];\",\n    \"}\",\n    \"for (; k >= 0; k--) {\",\n      \"if (k in o) value = callback(value, o[k], k, o);\",\n    \"}\",\n    \"return value;\",\n  \"}\",\n\"});\",\n\n// Polyfill copied from:\n// developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array/some\n\"Object.defineProperty(Array.prototype, 'some',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function some(fun/*, thisArg*/) {\",\n    \"if (!this || typeof fun !== 'function') throw TypeError();\",\n    \"var o = Object(this);\",\n    \"var len = o.length >>> 0;\",\n    \"var thisArg = arguments.length >= 2 ? arguments[1] : void 0;\",\n    \"for (var i = 0; i < len; i++) {\",\n      \"if (i in o && fun.call(thisArg, o[i], i, o)) {\",\n        \"return true;\",\n      \"}\",\n    \"}\",\n    \"return false;\",\n  \"}\",\n\"});\",\n\n\n\"Object.defineProperty(Array.prototype, 'sort',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function sort(opt_comp) {\",  // Bubble sort!\n    \"if (!this) throw TypeError();\",\n    \"if (typeof opt_comp !== 'function') {\",\n      \"opt_comp = undefined;\",\n    \"}\",\n    \"for (var i = 0; i < this.length; i++) {\",\n      \"var changes = 0;\",\n      \"for (var j = 0; j < this.length - i - 1; j++) {\",\n        \"if (opt_comp ? (opt_comp(this[j], this[j + 1]) > 0) :\",\n            \"(String(this[j]) > String(this[j + 1]))) {\",\n          \"var swap = this[j];\",\n          \"var hasSwap = j in this;\",\n          \"if ((j + 1) in this) {\",\n            \"this[j] = this[j + 1];\",\n          \"} else {\",\n            \"delete this[j];\",\n          \"}\",\n          \"if (hasSwap) {\",\n            \"this[j + 1] = swap;\",\n          \"} else {\",\n            \"delete this[j + 1];\",\n          \"}\",\n          \"changes++;\",\n        \"}\",\n      \"}\",\n      \"if (!changes) break;\",\n    \"}\",\n    \"return this;\",\n  \"}\",\n\"});\",\n\n\"Object.defineProperty(Array.prototype, 'toLocaleString',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function toLocaleString() {\",\n    \"if (!this) throw TypeError();\",\n    \"var o = Object(this);\",\n    \"var out = [];\",\n    \"for (var i = 0; i < o.length; i++) {\",\n      \"out[i] = (o[i] === null || o[i] === undefined) ? '' : o[i].toLocaleString();\",\n    \"}\",\n    \"return out.join(',');\",\n  \"}\",\n\"});\",\n\"\");\n};\n\n/**\n * Initialize the String class.\n * @param {!Interpreter.Object} globalObject Global object.\n */\nInterpreter.prototype.initString = function(globalObject) {\n  var thisInterpreter = this;\n  var wrapper;\n  // String constructor.\n  wrapper = function String(value) {\n    value = arguments.length ? Interpreter.nativeGlobal.String(value) : '';\n    if (thisInterpreter.calledWithNew()) {\n      // Called as `new String()`.\n      this.data = value;\n      return this;\n    } else {\n      // Called as `String()`.\n      return value;\n    }\n  };\n  this.STRING = this.createNativeFunction(wrapper, true);\n  this.setProperty(globalObject, 'String', this.STRING,\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  // Static methods on String.\n  this.setProperty(this.STRING, 'fromCharCode',\n      this.createNativeFunction(String.fromCharCode, false),\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  // Instance methods on String.\n  // Methods with exclusively primitive arguments.\n  var functions = ['charAt', 'charCodeAt', 'concat', 'indexOf', 'lastIndexOf',\n      'slice', 'substr', 'substring', 'toLocaleLowerCase', 'toLocaleUpperCase',\n      'toLowerCase', 'toUpperCase', 'trim'];\n  for (var i = 0; i < functions.length; i++) {\n    this.setNativeFunctionPrototype(this.STRING, functions[i],\n                                    String.prototype[functions[i]]);\n  }\n\n  wrapper = function localeCompare(compareString, locales, options) {\n    locales = thisInterpreter.pseudoToNative(locales);\n    options = thisInterpreter.pseudoToNative(options);\n    try {\n      return String(this).localeCompare(compareString, locales, options);\n    } catch (e) {\n      thisInterpreter.throwException(thisInterpreter.ERROR,\n          'localeCompare: ' + e.message);\n    }\n  };\n  this.setNativeFunctionPrototype(this.STRING, 'localeCompare', wrapper);\n\n  wrapper = function split(separator, limit, callback) {\n    var string = String(this);\n    limit = limit ? Number(limit) : undefined;\n    // Example of catastrophic split RegExp:\n    // 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaac'.split(/^(a+)+b/)\n    if (thisInterpreter.isa(separator, thisInterpreter.REGEXP)) {\n      separator = separator.data;\n      thisInterpreter.maybeThrowRegExp(separator, callback);\n      if (thisInterpreter['REGEXP_MODE'] === 2) {\n        if (Interpreter.vm) {\n          // Run split in vm.\n          var sandbox = {\n            'string': string,\n            'separator': separator,\n            'limit': limit,\n          };\n          var code = 'string.split(separator, limit)';\n          var jsList =\n              thisInterpreter.vmCall(code, sandbox, separator, callback);\n          if (jsList !== Interpreter.REGEXP_TIMEOUT) {\n            callback(thisInterpreter.arrayNativeToPseudo(jsList));\n          }\n        } else {\n          // Run split in separate thread.\n          var splitWorker = thisInterpreter.createWorker();\n          var pid = thisInterpreter.regExpTimeout(separator, splitWorker,\n              callback);\n          splitWorker.onmessage = function(e) {\n            clearTimeout(pid);\n            callback(thisInterpreter.arrayNativeToPseudo(e.data));\n          };\n          splitWorker.postMessage(['split', string, separator, limit]);\n        }\n        return;\n      }\n    }\n    // Run split natively.\n    var jsList = string.split(separator, limit);\n    callback(thisInterpreter.arrayNativeToPseudo(jsList));\n  };\n  this.setAsyncFunctionPrototype(this.STRING, 'split', wrapper);\n\n  wrapper = function match(regexp, callback) {\n    var string = String(this);\n    if (thisInterpreter.isa(regexp, thisInterpreter.REGEXP)) {\n      regexp = regexp.data;\n    } else {\n      regexp = new RegExp(regexp);\n    }\n    // Example of catastrophic match RegExp:\n    // 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaac'.match(/^(a+)+b/)\n    thisInterpreter.maybeThrowRegExp(regexp, callback);\n    if (thisInterpreter['REGEXP_MODE'] === 2) {\n      if (Interpreter.vm) {\n        // Run match in vm.\n        var sandbox = {\n          'string': string,\n          'regexp': regexp,\n        };\n        var code = 'string.match(regexp)';\n        var m = thisInterpreter.vmCall(code, sandbox, regexp, callback);\n        if (m !== Interpreter.REGEXP_TIMEOUT) {\n          callback(m && thisInterpreter.arrayNativeToPseudo(m));\n        }\n      } else {\n        // Run match in separate thread.\n        var matchWorker = thisInterpreter.createWorker();\n        var pid = thisInterpreter.regExpTimeout(regexp, matchWorker, callback);\n        matchWorker.onmessage = function(e) {\n          clearTimeout(pid);\n          callback(e.data && thisInterpreter.arrayNativeToPseudo(e.data));\n        };\n        matchWorker.postMessage(['match', string, regexp]);\n      }\n      return;\n    }\n    // Run match natively.\n    var m = string.match(regexp);\n    callback(m && thisInterpreter.arrayNativeToPseudo(m));\n  };\n  this.setAsyncFunctionPrototype(this.STRING, 'match', wrapper);\n\n  wrapper = function search(regexp, callback) {\n    var string = String(this);\n    if (thisInterpreter.isa(regexp, thisInterpreter.REGEXP)) {\n      regexp = regexp.data;\n    } else {\n      regexp = new RegExp(regexp);\n    }\n    // Example of catastrophic search RegExp:\n    // 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaac'.search(/^(a+)+b/)\n    thisInterpreter.maybeThrowRegExp(regexp, callback);\n    if (thisInterpreter['REGEXP_MODE'] === 2) {\n      if (Interpreter.vm) {\n        // Run search in vm.\n        var sandbox = {\n          'string': string,\n          'regexp': regexp\n        };\n        var code = 'string.search(regexp)';\n        var n = thisInterpreter.vmCall(code, sandbox, regexp, callback);\n        if (n !== Interpreter.REGEXP_TIMEOUT) {\n          callback(n);\n        }\n      } else {\n        // Run search in separate thread.\n        var searchWorker = thisInterpreter.createWorker();\n        var pid = thisInterpreter.regExpTimeout(regexp, searchWorker, callback);\n        searchWorker.onmessage = function(e) {\n          clearTimeout(pid);\n          callback(e.data);\n        };\n        searchWorker.postMessage(['search', string, regexp]);\n      }\n      return;\n    }\n    // Run search natively.\n    callback(string.search(regexp));\n  };\n  this.setAsyncFunctionPrototype(this.STRING, 'search', wrapper);\n\n  wrapper = function replace_(substr, newSubstr, callback) {\n    // Support for function replacements is the responsibility of a polyfill.\n    var string = String(this);\n    newSubstr = String(newSubstr);\n    // Example of catastrophic replace RegExp:\n    // 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaac'.replace(/^(a+)+b/, '')\n    if (thisInterpreter.isa(substr, thisInterpreter.REGEXP)) {\n      substr = substr.data;\n      thisInterpreter.maybeThrowRegExp(substr, callback);\n      if (thisInterpreter['REGEXP_MODE'] === 2) {\n        if (Interpreter.vm) {\n          // Run replace in vm.\n          var sandbox = {\n            'string': string,\n            'substr': substr,\n            'newSubstr': newSubstr,\n          };\n          var code = 'string.replace(substr, newSubstr)';\n          var str = thisInterpreter.vmCall(code, sandbox, substr, callback);\n          if (str !== Interpreter.REGEXP_TIMEOUT) {\n            callback(str);\n          }\n        } else {\n          // Run replace in separate thread.\n          var replaceWorker = thisInterpreter.createWorker();\n          var pid = thisInterpreter.regExpTimeout(substr, replaceWorker,\n              callback);\n          replaceWorker.onmessage = function(e) {\n            clearTimeout(pid);\n            callback(e.data);\n          };\n          replaceWorker.postMessage(['replace', string, substr, newSubstr]);\n        }\n        return;\n      }\n    }\n    // Run replace natively.\n    callback(string.replace(substr, newSubstr));\n  };\n  this.setAsyncFunctionPrototype(this.STRING, 'replace', wrapper);\n  // Add a polyfill to handle replace's second argument being a function.\n  this.polyfills_.push(\n\"(function() {\",\n  \"var replace_ = String.prototype.replace;\",\n  \"String.prototype.replace = function replace(substr, newSubstr) {\",\n    \"if (typeof newSubstr !== 'function') {\",\n      // string.replace(string|regexp, string)\n      \"return replace_.call(this, substr, newSubstr);\",\n    \"}\",\n    \"var str = this;\",\n    \"if (substr instanceof RegExp) {\",  // string.replace(regexp, function)\n      \"var subs = [];\",\n      \"var m = substr.exec(str);\",\n      \"while (m) {\",\n        \"m.push(m.index, str);\",\n        \"var inject = newSubstr.apply(null, m);\",\n        \"subs.push([m.index, m[0].length, inject]);\",\n        \"m = substr.global ? substr.exec(str) : null;\",\n      \"}\",\n      \"for (var i = subs.length - 1; i >= 0; i--) {\",\n        \"str = str.substring(0, subs[i][0]) + subs[i][2] + \" +\n            \"str.substring(subs[i][0] + subs[i][1]);\",\n      \"}\",\n    \"} else {\",                         // string.replace(string, function)\n      \"var i = str.indexOf(substr);\",\n      \"if (i !== -1) {\",\n        \"var inject = newSubstr(str.substr(i, substr.length), i, str);\",\n        \"str = str.substring(0, i) + inject + \" +\n            \"str.substring(i + substr.length);\",\n      \"}\",\n    \"}\",\n    \"return str;\",\n  \"};\",\n\"})();\",\n\"\");\n};\n\n/**\n * Initialize the Boolean class.\n * @param {!Interpreter.Object} globalObject Global object.\n */\nInterpreter.prototype.initBoolean = function(globalObject) {\n  var thisInterpreter = this;\n  var wrapper;\n  // Boolean constructor.\n  wrapper = function Boolean(value) {\n    value = Interpreter.nativeGlobal.Boolean(value);\n    if (thisInterpreter.calledWithNew()) {\n      // Called as `new Boolean()`.\n      this.data = value;\n      return this;\n    } else {\n      // Called as `Boolean()`.\n      return value;\n    }\n  };\n  this.BOOLEAN = this.createNativeFunction(wrapper, true);\n  this.setProperty(globalObject, 'Boolean', this.BOOLEAN,\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n};\n\n/**\n * Initialize the Number class.\n * @param {!Interpreter.Object} globalObject Global object.\n */\nInterpreter.prototype.initNumber = function(globalObject) {\n  var thisInterpreter = this;\n  var wrapper;\n  // Number constructor.\n  wrapper = function Number(value) {\n    value = arguments.length ? Interpreter.nativeGlobal.Number(value) : 0;\n    if (thisInterpreter.calledWithNew()) {\n      // Called as `new Number()`.\n      this.data = value;\n      return this;\n    } else {\n      // Called as `Number()`.\n      return value;\n    }\n  };\n  this.NUMBER = this.createNativeFunction(wrapper, true);\n  this.setProperty(globalObject, 'Number', this.NUMBER,\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  var numConsts = ['MAX_VALUE', 'MIN_VALUE', 'NaN', 'NEGATIVE_INFINITY',\n                   'POSITIVE_INFINITY'];\n  for (var i = 0; i < numConsts.length; i++) {\n    this.setProperty(this.NUMBER, numConsts[i], Number[numConsts[i]],\n        Interpreter.NONCONFIGURABLE_READONLY_NONENUMERABLE_DESCRIPTOR);\n  }\n\n  // Instance methods on Number.\n  wrapper = function toExponential(fractionDigits) {\n    try {\n      return Number(this).toExponential(fractionDigits);\n    } catch (e) {\n      // Throws if fractionDigits isn't within 0-20.\n      thisInterpreter.throwException(thisInterpreter.ERROR, e.message);\n    }\n  };\n  this.setNativeFunctionPrototype(this.NUMBER, 'toExponential', wrapper);\n\n  wrapper = function toFixed(digits) {\n    try {\n      return Number(this).toFixed(digits);\n    } catch (e) {\n      // Throws if digits isn't within 0-20.\n      thisInterpreter.throwException(thisInterpreter.ERROR, e.message);\n    }\n  };\n  this.setNativeFunctionPrototype(this.NUMBER, 'toFixed', wrapper);\n\n  wrapper = function toPrecision(precision) {\n    try {\n      return Number(this).toPrecision(precision);\n    } catch (e) {\n      // Throws if precision isn't within range (depends on implementation).\n      thisInterpreter.throwException(thisInterpreter.ERROR, e.message);\n    }\n  };\n  this.setNativeFunctionPrototype(this.NUMBER, 'toPrecision', wrapper);\n\n  wrapper = function toString(radix) {\n    try {\n      return Number(this).toString(radix);\n    } catch (e) {\n      // Throws if radix isn't within 2-36.\n      thisInterpreter.throwException(thisInterpreter.ERROR, e.message);\n    }\n  };\n  this.setNativeFunctionPrototype(this.NUMBER, 'toString', wrapper);\n\n  wrapper = function toLocaleString(locales, options) {\n    locales = locales ? thisInterpreter.pseudoToNative(locales) : undefined;\n    options = options ? thisInterpreter.pseudoToNative(options) : undefined;\n    return Number(this).toLocaleString(locales, options);\n  };\n  this.setNativeFunctionPrototype(this.NUMBER, 'toLocaleString', wrapper);\n};\n\n/**\n * Initialize the Date class.\n * @param {!Interpreter.Object} globalObject Global object.\n */\nInterpreter.prototype.initDate = function(globalObject) {\n  var thisInterpreter = this;\n  var wrapper;\n  // Date constructor.\n  wrapper = function Date(_value, var_args) {\n    if (!thisInterpreter.calledWithNew()) {\n      // Called as `Date()`.\n      // Calling Date() as a function returns a string, no arguments are heeded.\n      return Interpreter.nativeGlobal.Date();\n    }\n    // Called as `new Date(...)`.\n    var args = [null].concat(Array.from(arguments));\n    this.data = new (Function.prototype.bind.apply(\n        Interpreter.nativeGlobal.Date, args));\n    return this;\n  };\n  this.DATE = this.createNativeFunction(wrapper, true);\n  this.DATE_PROTO = this.DATE.properties['prototype'];\n  this.setProperty(globalObject, 'Date', this.DATE,\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  // Static methods on Date.\n  this.setProperty(this.DATE, 'now', this.createNativeFunction(Date.now, false),\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  this.setProperty(this.DATE, 'parse',\n      this.createNativeFunction(Date.parse, false),\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  this.setProperty(this.DATE, 'UTC', this.createNativeFunction(Date.UTC, false),\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  // Instance methods on Date.\n  var functions = ['getDate', 'getDay', 'getFullYear', 'getHours',\n      'getMilliseconds', 'getMinutes', 'getMonth', 'getSeconds', 'getTime',\n      'getTimezoneOffset', 'getUTCDate', 'getUTCDay', 'getUTCFullYear',\n      'getUTCHours', 'getUTCMilliseconds', 'getUTCMinutes', 'getUTCMonth',\n      'getUTCSeconds', 'getYear',\n      'setDate', 'setFullYear', 'setHours', 'setMilliseconds',\n      'setMinutes', 'setMonth', 'setSeconds', 'setTime', 'setUTCDate',\n      'setUTCFullYear', 'setUTCHours', 'setUTCMilliseconds', 'setUTCMinutes',\n      'setUTCMonth', 'setUTCSeconds', 'setYear',\n      'toDateString', 'toISOString', 'toJSON', 'toGMTString',\n      'toLocaleDateString', 'toLocaleString', 'toLocaleTimeString',\n      'toTimeString', 'toUTCString'];\n  for (var i = 0; i < functions.length; i++) {\n    wrapper = (function(nativeFunc) {\n      return function(var_args) {\n        var date = this.data;\n        if (!(date instanceof Date)) {\n          thisInterpreter.throwException(thisInterpreter.TYPE_ERROR,\n              nativeFunc + ' not called on a Date');\n        }\n        var args = [];\n        for (var i = 0; i < arguments.length; i++) {\n          args[i] = thisInterpreter.pseudoToNative(arguments[i]);\n        }\n        return date[nativeFunc].apply(date, args);\n      };\n    })(functions[i]);\n    this.setNativeFunctionPrototype(this.DATE, functions[i], wrapper);\n  }\n};\n\n/**\n * Initialize Regular Expression object.\n * @param {!Interpreter.Object} globalObject Global object.\n */\nInterpreter.prototype.initRegExp = function(globalObject) {\n  var thisInterpreter = this;\n  var wrapper;\n  // RegExp constructor.\n  wrapper = function RegExp(pattern, flags) {\n    if (thisInterpreter.calledWithNew()) {\n      // Called as `new RegExp()`.\n      var rgx = this;\n    } else {\n      // Called as `RegExp()`.\n      if (flags === undefined &&\n          thisInterpreter.isa(pattern, thisInterpreter.REGEXP)) {\n        // Regexp(/foo/) returns the same obj.\n        return pattern;\n      }\n      var rgx = thisInterpreter.createObjectProto(thisInterpreter.REGEXP_PROTO);\n    }\n    pattern = pattern === undefined ? '' : String(pattern);\n    flags = flags ? String(flags) : '';\n    if (!/^[gmi]*$/.test(flags)) {\n      // Don't allow ES6 flags 'y' and 's' to pass through.\n      thisInterpreter.throwException(thisInterpreter.SYNTAX_ERROR, 'Invalid regexp flag');\n    }\n    try {\n      var nativeRegExp = new Interpreter.nativeGlobal.RegExp(pattern, flags)\n    } catch (e) {\n      // Throws if flags are repeated.\n      thisInterpreter.throwException(thisInterpreter.SYNTAX_ERROR, e.message);\n    }\n    thisInterpreter.populateRegExp(rgx, nativeRegExp);\n    return rgx;\n  };\n  this.REGEXP = this.createNativeFunction(wrapper, true);\n  this.REGEXP_PROTO = this.REGEXP.properties['prototype'];\n  this.setProperty(globalObject, 'RegExp', this.REGEXP,\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  this.setProperty(this.REGEXP.properties['prototype'], 'global', undefined,\n      Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR);\n  this.setProperty(this.REGEXP.properties['prototype'], 'ignoreCase', undefined,\n      Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR);\n  this.setProperty(this.REGEXP.properties['prototype'], 'multiline', undefined,\n      Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR);\n  this.setProperty(this.REGEXP.properties['prototype'], 'source', '(?:)',\n      Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR);\n\n  // Use polyfill to avoid complexity of regexp threads.\n  this.polyfills_.push(\n\"Object.defineProperty(RegExp.prototype, 'test',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function test(str) {\",\n    \"return !!this.exec(str);\",\n  \"}\",\n\"});\");\n\n  wrapper = function exec(string, callback) {\n    var regexp = this.data;\n    string = String(string);\n    // Get lastIndex from wrapped regexp, since this is settable.\n    regexp.lastIndex = Number(thisInterpreter.getProperty(this, 'lastIndex'));\n    // Example of catastrophic exec RegExp:\n    // /^(a+)+b/.exec('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaac')\n    thisInterpreter.maybeThrowRegExp(regexp, callback);\n    if (thisInterpreter['REGEXP_MODE'] === 2) {\n      if (Interpreter.vm) {\n        // Run exec in vm.\n        var sandbox = {\n          'string': string,\n          'regexp': regexp,\n        };\n        var code = 'regexp.exec(string)';\n        var match = thisInterpreter.vmCall(code, sandbox, regexp, callback);\n        if (match !== Interpreter.REGEXP_TIMEOUT) {\n          thisInterpreter.setProperty(this, 'lastIndex', regexp.lastIndex);\n          callback(matchToPseudo(match));\n        }\n      } else {\n        // Run exec in separate thread.\n        // Note that lastIndex is not preserved when a RegExp is passed to a\n        // Web Worker.  Thus it needs to be passed back and forth separately.\n        var execWorker = thisInterpreter.createWorker();\n        var pid = thisInterpreter.regExpTimeout(regexp, execWorker, callback);\n        var thisPseudoRegExp = this;\n        execWorker.onmessage = function(e) {\n          clearTimeout(pid);\n          // Return tuple: [result, lastIndex]\n          thisInterpreter.setProperty(thisPseudoRegExp, 'lastIndex', e.data[1]);\n          callback(matchToPseudo(e.data[0]));\n        };\n        execWorker.postMessage(['exec', regexp, regexp.lastIndex, string]);\n      }\n      return;\n    }\n    // Run exec natively.\n    var match = regexp.exec(string);\n    thisInterpreter.setProperty(this, 'lastIndex', regexp.lastIndex);\n    callback(matchToPseudo(match));\n\n    function matchToPseudo(match) {\n      if (match) {\n        var result = thisInterpreter.arrayNativeToPseudo(match);\n        // match has additional properties.\n        thisInterpreter.setProperty(result, 'index', match.index);\n        thisInterpreter.setProperty(result, 'input', match.input);\n        return result;\n      }\n      return null;\n    }\n  };\n  this.setAsyncFunctionPrototype(this.REGEXP, 'exec', wrapper);\n};\n\n/**\n * Initialize the Error class.\n * @param {!Interpreter.Object} globalObject Global object.\n */\nInterpreter.prototype.initError = function(globalObject) {\n  var thisInterpreter = this;\n  // Error constructor.\n  this.ERROR = this.createNativeFunction(function Error(opt_message) {\n    if (thisInterpreter.calledWithNew()) {\n      // Called as `new Error()`.\n      var newError = this;\n    } else {\n      // Called as `Error()`.\n      var newError = thisInterpreter.createObject(thisInterpreter.ERROR);\n    }\n    thisInterpreter.populateError(newError, opt_message);\n    return newError;\n  }, true);\n  this.setProperty(globalObject, 'Error', this.ERROR,\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n  this.setProperty(this.ERROR.properties['prototype'], 'message', '',\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n  this.setProperty(this.ERROR.properties['prototype'], 'name', 'Error',\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  var createErrorSubclass = function(name) {\n    var constructor = thisInterpreter.createNativeFunction(\n        function(opt_message) {\n          if (thisInterpreter.calledWithNew()) {\n            // Called as `new XyzError()`.\n            var newError = this;\n          } else {\n            // Called as `XyzError()`.\n            var newError = thisInterpreter.createObject(constructor);\n          }\n          thisInterpreter.populateError(newError, opt_message);\n          return newError;\n        }, true);\n    thisInterpreter.setProperty(constructor, 'prototype',\n        thisInterpreter.createObject(thisInterpreter.ERROR),\n        Interpreter.NONENUMERABLE_DESCRIPTOR);\n    thisInterpreter.setProperty(constructor.properties['prototype'], 'name',\n        name, Interpreter.NONENUMERABLE_DESCRIPTOR);\n    thisInterpreter.setProperty(globalObject, name, constructor,\n        Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n    return constructor;\n  };\n\n  this.EVAL_ERROR = createErrorSubclass('EvalError');\n  this.RANGE_ERROR = createErrorSubclass('RangeError');\n  this.REFERENCE_ERROR = createErrorSubclass('ReferenceError');\n  this.SYNTAX_ERROR = createErrorSubclass('SyntaxError');\n  this.TYPE_ERROR = createErrorSubclass('TypeError');\n  this.URI_ERROR = createErrorSubclass('URIError');\n};\n\n/**\n * Initialize Math object.\n * @param {!Interpreter.Object} globalObject Global object.\n */\nInterpreter.prototype.initMath = function(globalObject) {\n  var myMath = this.createObjectProto(this.OBJECT_PROTO);\n  this.setProperty(globalObject, 'Math', myMath,\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n  var mathConsts = ['E', 'LN2', 'LN10', 'LOG2E', 'LOG10E', 'PI',\n                    'SQRT1_2', 'SQRT2'];\n  for (var i = 0; i < mathConsts.length; i++) {\n    this.setProperty(myMath, mathConsts[i], Math[mathConsts[i]],\n        Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR);\n  }\n  var numFunctions = ['abs', 'acos', 'asin', 'atan', 'atan2', 'ceil', 'cos',\n                      'exp', 'floor', 'log', 'max', 'min', 'pow', 'random',\n                      'round', 'sin', 'sqrt', 'tan'];\n  for (var i = 0; i < numFunctions.length; i++) {\n    this.setProperty(myMath, numFunctions[i],\n        this.createNativeFunction(Math[numFunctions[i]], false),\n        Interpreter.NONENUMERABLE_DESCRIPTOR);\n  }\n};\n\n/**\n * Initialize JSON object.\n * @param {!Interpreter.Object} globalObject Global object.\n */\nInterpreter.prototype.initJSON = function(globalObject) {\n  var thisInterpreter = this;\n  var myJSON = thisInterpreter.createObjectProto(this.OBJECT_PROTO);\n  this.setProperty(globalObject, 'JSON', myJSON,\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  var wrapper = function parse(text) {\n    try {\n      var nativeObj = JSON.parse(String(text));\n    } catch (e) {\n      thisInterpreter.throwException(thisInterpreter.SYNTAX_ERROR, e.message);\n    }\n    return thisInterpreter.nativeToPseudo(nativeObj);\n  };\n  this.setProperty(myJSON, 'parse', this.createNativeFunction(wrapper, false));\n\n  wrapper = function stringify(value, replacer, space) {\n    if (replacer && replacer.class === 'Function') {\n      thisInterpreter.throwException(thisInterpreter.TYPE_ERROR,\n          'Function replacer on JSON.stringify not supported');\n    } else if (replacer && replacer.class === 'Array') {\n      replacer = thisInterpreter.arrayPseudoToNative(replacer);\n      replacer = replacer.filter(function(word) {\n        // Spec says we should also support boxed primitives here.\n        return typeof word === 'string' || typeof word === 'number';\n      });\n    } else {\n      replacer = null;\n    }\n    // Spec says we should also support boxed primitives here.\n    if (typeof space !== 'string' && typeof space !== 'number') {\n      space = undefined;\n    }\n\n    var nativeObj = thisInterpreter.pseudoToNative(value);\n    try {\n      var str = JSON.stringify(nativeObj, replacer, space);\n    } catch (e) {\n      thisInterpreter.throwException(thisInterpreter.TYPE_ERROR, e.message);\n    }\n    return str;\n  };\n  this.setProperty(myJSON, 'stringify',\n      this.createNativeFunction(wrapper, false));\n};\n\n/**\n * Is an object of a certain class?\n * @param {Interpreter.Value} child Object to check.\n * @param {Interpreter.Object} constructor Constructor of object.\n * @return {boolean} True if object is the class or inherits from it.\n *     False otherwise.\n */\nInterpreter.prototype.isa = function(child, constructor) {\n  if (child === null || child === undefined || !constructor) {\n    return false;\n  }\n  var proto = constructor.properties['prototype'];\n  if (child === proto) {\n    return true;\n  }\n  // The first step up the prototype chain is harder since the child might be\n  // a primitive value.  Subsequent steps can just follow the .proto property.\n  child = this.getPrototype(child);\n  while (child) {\n    if (child === proto) {\n      return true;\n    }\n    child = child.proto;\n  }\n  return false;\n};\n\n/**\n * Initialize a pseudo regular expression object based on a native regular\n * expression object.\n * @param {!Interpreter.Object} pseudoRegexp The existing object to set.\n * @param {!RegExp} nativeRegexp The native regular expression.\n */\nInterpreter.prototype.populateRegExp = function(pseudoRegexp, nativeRegexp) {\n  pseudoRegexp.data = new RegExp(nativeRegexp.source, nativeRegexp.flags);\n  // lastIndex is settable, all others are read-only attributes\n  this.setProperty(pseudoRegexp, 'lastIndex', nativeRegexp.lastIndex,\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n  this.setProperty(pseudoRegexp, 'source', nativeRegexp.source,\n      Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR);\n  this.setProperty(pseudoRegexp, 'global', nativeRegexp.global,\n      Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR);\n  this.setProperty(pseudoRegexp, 'ignoreCase', nativeRegexp.ignoreCase,\n      Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR);\n  this.setProperty(pseudoRegexp, 'multiline', nativeRegexp.multiline,\n      Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR);\n};\n\n/**\n * Initialize a pseudo error object.\n * @param {!Interpreter.Object} pseudoError The existing object to set.\n * @param {string=} opt_message Error's message.\n */\nInterpreter.prototype.populateError = function(pseudoError, opt_message) {\n  if (opt_message) {\n    this.setProperty(pseudoError, 'message', String(opt_message),\n        Interpreter.NONENUMERABLE_DESCRIPTOR);\n  }\n  var tracebackData = [];\n  for (var i = this.stateStack.length - 1; i >= 0; i--) {\n    var state = this.stateStack[i];\n    var node = state.node;\n    if (node['type'] === 'CallExpression') {\n      var func = state.func_;\n      if (func && tracebackData.length) {\n        tracebackData[tracebackData.length - 1].datumName =\n            this.getProperty(func, 'name');\n      }\n    }\n    if (node['loc'] &&\n        (!tracebackData.length || node['type'] === 'CallExpression')) {\n      tracebackData.push({datumLoc: node['loc']});\n    }\n  }\n  var errorName = String(this.getProperty(pseudoError, 'name'));\n  var errorMessage = String(this.getProperty(pseudoError, 'message'));\n  var stackString = errorName + ': ' + errorMessage + '\\n';\n  for (var i = 0; i < tracebackData.length; i++) {\n    var loc = tracebackData[i].datumLoc;\n    var name = tracebackData[i].datumName;\n    var locString = loc['source'] + ':' +\n        loc['start']['line'] + ':' + loc['start']['column'];\n    if (name) {\n      stackString += '  at ' + name + ' (' + locString + ')\\n';\n    } else {\n      stackString += '  at ' + locString + '\\n';\n    }\n  }\n  this.setProperty(pseudoError, 'stack', stackString.trim(),\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n};\n\n/**\n * Create a Web Worker to execute regular expressions.\n * Using a separate file fails in Chrome when run locally on a file:// URI.\n * Using a data encoded URI fails in IE and Edge.\n * Using a blob works in IE11 and all other browsers.\n * @return {!Worker} Web Worker with regexp execution code loaded.\n */\nInterpreter.prototype.createWorker = function() {\n  var blob = this.createWorker.blob_;\n  if (!blob) {\n    blob = new Blob([Interpreter.WORKER_CODE.join('\\n')],\n        {type: 'application/javascript'});\n    // Cache the blob, so it doesn't need to be created next time.\n    this.createWorker.blob_ = blob;\n  }\n  return new Worker(URL.createObjectURL(blob));\n};\n\n/**\n * Execute regular expressions in a node vm.\n * @param {string} code Code to execute.\n * @param {!Object} sandbox Global variables for new vm.\n * @param {!RegExp} nativeRegExp Regular expression.\n * @param {!Function} callback Asynchronous callback function.\n */\nInterpreter.prototype.vmCall = function(code, sandbox, nativeRegExp, callback) {\n  var options = {'timeout': this['REGEXP_THREAD_TIMEOUT']};\n  try {\n    return Interpreter.vm['runInNewContext'](code, sandbox, options);\n  } catch (_e) {\n    callback(null);\n    this.throwException(this.ERROR, 'RegExp Timeout: ' + nativeRegExp);\n  }\n  return Interpreter.REGEXP_TIMEOUT;\n};\n\n/**\n * If REGEXP_MODE is 0, then throw an error.\n * Also throw if REGEXP_MODE is 2 and JS doesn't support Web Workers or vm.\n * @param {!RegExp} nativeRegExp Regular expression.\n * @param {!Function} callback Asynchronous callback function.\n */\nInterpreter.prototype.maybeThrowRegExp = function(nativeRegExp, callback) {\n  var ok;\n  if (this['REGEXP_MODE'] === 0) {\n    // Fail: No RegExp support.\n    ok = false;\n  } else if (this['REGEXP_MODE'] === 1) {\n    // Ok: Native RegExp support.\n    ok = true;\n  } else {\n    // Sandboxed RegExp handling.\n    if (Interpreter.vm) {\n      // Ok: Node's vm module already loaded.\n      ok = true;\n    } else if (typeof Worker === 'function' && typeof URL === 'function') {\n      // Ok: Web Workers available.\n      ok = true;\n    } else if (typeof require === 'function') {\n      ok = !!Interpreter.vm;\n    } else {\n      // Fail: Neither Web Workers nor vm available.\n      ok = false;\n    }\n  }\n  if (!ok) {\n    callback(null);\n    this.throwException(this.ERROR, 'Regular expressions not supported: ' +\n        nativeRegExp);\n  }\n};\n\n/**\n * Set a timeout for regular expression threads.  Unless cancelled, this will\n * terminate the thread and throw an error.\n * @param {!RegExp} nativeRegExp Regular expression (used for error message).\n * @param {!Worker} worker Thread to terminate.\n * @param {!Function} callback Async callback function to continue execution.\n * @return {number} PID of timeout.  Used to cancel if thread completes.\n */\nInterpreter.prototype.regExpTimeout = function(nativeRegExp, worker, callback) {\n  var thisInterpreter = this;\n  return setTimeout(function() {\n      worker.terminate();\n      callback(null);\n      try {\n        thisInterpreter.throwException(thisInterpreter.ERROR,\n            'RegExp Timeout: ' + nativeRegExp);\n      } catch (_e) {\n        // Eat the expected Interpreter.STEP_ERROR.\n      }\n  }, this['REGEXP_THREAD_TIMEOUT']);\n};\n\n/**\n * Create a new data object based on a constructor's prototype.\n * @param {Interpreter.Object} constructor Parent constructor function,\n *     or null if scope object.\n * @return {!Interpreter.Object} New data object.\n */\nInterpreter.prototype.createObject = function(constructor) {\n  return this.createObjectProto(constructor &&\n                                constructor.properties['prototype']);\n};\n\n/**\n * Create a new data object based on a prototype.\n * @param {Interpreter.Object} proto Prototype object.\n * @return {!Interpreter.Object} New data object.\n */\nInterpreter.prototype.createObjectProto = function(proto) {\n  if (typeof proto !== 'object') {\n    throw Error('Non object prototype');\n  }\n  var obj = new Interpreter.Object(proto);\n  if (this.isa(obj, this.ERROR)) {\n    // Record this object as being an error so that its toString function can\n    // process it correctly (toString has no access to the interpreter and could\n    // not otherwise determine that the object is an error).\n    obj.class = 'Error';\n  }\n  return obj;\n};\n\n/**\n * Create a new array.\n * @return {!Interpreter.Object} New array.\n */\nInterpreter.prototype.createArray = function() {\n  var array = this.createObjectProto(this.ARRAY_PROTO);\n  // Arrays have length.\n  this.setProperty(array, 'length', 0,\n      {configurable: false, enumerable: false, writable: true});\n  array.class = 'Array';\n  return array;\n};\n\n/**\n * Create a new function object (could become interpreted or native or async).\n * @param {number} argumentLength Number of arguments.\n * @param {boolean} isConstructor True if function can be used with 'new'.\n * @return {!Interpreter.Object} New function.\n * @private\n */\nInterpreter.prototype.createFunctionBase_ = function(argumentLength,\n                                                     isConstructor) {\n  var func = this.createObjectProto(this.FUNCTION_PROTO);\n  if (isConstructor) {\n    var proto = this.createObjectProto(this.OBJECT_PROTO);\n    this.setProperty(func, 'prototype', proto,\n                     Interpreter.NONENUMERABLE_DESCRIPTOR);\n    this.setProperty(proto, 'constructor', func,\n                     Interpreter.NONENUMERABLE_DESCRIPTOR);\n  } else {\n    func.illegalConstructor = true;\n  }\n  this.setProperty(func, 'length', argumentLength,\n      Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR);\n  func.class = 'Function';\n  // When making changes to this function, check to see if those changes also\n  // need to be made to the creation of FUNCTION_PROTO in initFunction.\n  return func;\n};\n\n/**\n * Create a new interpreted function.\n * @param {!Object} node AST node defining the function.\n * @param {!Interpreter.Scope} scope Parent scope.\n * @param {string=} opt_name Optional name for function.\n * @return {!Interpreter.Object} New function.\n */\nInterpreter.prototype.createFunction = function(node, scope, opt_name) {\n  var func = this.createFunctionBase_(node['params'].length, true);\n  func.parentScope = scope;\n  func.node = node;\n  // Choose a name for this function.\n  // function foo() {}             -> 'foo'\n  // var bar = function() {};      -> 'bar'\n  // var bar = function foo() {};  -> 'foo'\n  // foo.bar = function() {};      -> ''\n  // var bar = new Function('');   -> 'anonymous'\n  var name = node['id'] ? String(node['id']['name']) : (opt_name || '');\n  this.setProperty(func, 'name', name,\n      Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR);\n  return func;\n};\n\n/**\n * Create a new native function.\n * @param {!Function} nativeFunc JavaScript function.\n * @param {boolean} isConstructor True if function can be used with 'new'.\n * @return {!Interpreter.Object} New function.\n */\nInterpreter.prototype.createNativeFunction = function(nativeFunc,\n                                                      isConstructor) {\n  var func = this.createFunctionBase_(nativeFunc.length, isConstructor);\n  func.nativeFunc = nativeFunc;\n  nativeFunc.id = this.functionCounter_++;\n  this.setProperty(func, 'name', nativeFunc.name,\n      Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR);\n  return func;\n};\n\n/**\n * Create a new native asynchronous function.\n * @param {!Function} asyncFunc JavaScript function.\n * @return {!Interpreter.Object} New function.\n */\nInterpreter.prototype.createAsyncFunction = function(asyncFunc) {\n  var func = this.createFunctionBase_(asyncFunc.length, true);\n  func.asyncFunc = asyncFunc;\n  asyncFunc.id = this.functionCounter_++;\n  this.setProperty(func, 'name', asyncFunc.name,\n      Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR);\n  return func;\n};\n\n/**\n * Converts from a native JavaScript object or value to a JS-Interpreter object.\n * Can handle JSON-style values, regular expressions, dates and functions.\n * Does NOT handle cycles.\n * @param {*} nativeObj The native JavaScript object to be converted.\n * @return {Interpreter.Value} The equivalent JS-Interpreter object.\n */\nInterpreter.prototype.nativeToPseudo = function(nativeObj) {\n  if (nativeObj instanceof Interpreter.Object) {\n    throw Error('Object is already pseudo');\n  }\n  if ((typeof nativeObj !== 'object' && typeof nativeObj !== 'function') ||\n      nativeObj === null) {\n    return nativeObj;\n  }\n\n  if (nativeObj instanceof RegExp) {\n    var pseudoRegexp = this.createObjectProto(this.REGEXP_PROTO);\n    this.populateRegExp(pseudoRegexp, nativeObj);\n    return pseudoRegexp;\n  }\n\n  if (nativeObj instanceof Date) {\n    var pseudoDate = this.createObjectProto(this.DATE_PROTO);\n    pseudoDate.data = new Date(nativeObj.valueOf());\n    return pseudoDate;\n  }\n\n  if (typeof nativeObj === 'function') {\n    var thisInterpreter = this;\n    var wrapper = function() {\n      var args = Array.prototype.slice.call(arguments).map(function(i) {\n          return thisInterpreter.pseudoToNative(i);\n      });\n      var value = nativeObj.apply(thisInterpreter, args);\n      return thisInterpreter.nativeToPseudo(value);\n    };\n    var prototype = Object.getOwnPropertyDescriptor(nativeObj, 'prototype');\n    return this.createNativeFunction(wrapper, !!prototype);\n  }\n\n  if (Array.isArray(nativeObj)) {  // Array.\n    var pseudoArray = this.createArray();\n    for (var i = 0; i < nativeObj.length; i++) {\n      if (i in nativeObj) {\n        this.setProperty(pseudoArray, i, this.nativeToPseudo(nativeObj[i]));\n      }\n    }\n    return pseudoArray;\n  }\n\n  // Object.\n  var pseudoObj = this.createObjectProto(this.OBJECT_PROTO);\n  for (var key in nativeObj) {\n    this.setProperty(pseudoObj, key, this.nativeToPseudo(nativeObj[key]));\n  }\n  return pseudoObj;\n};\n\n/**\n * Converts from a JS-Interpreter object to native JavaScript object.\n * Can handle JSON-style values, regular expressions, and dates.\n * Does handle cycles.\n * @param {Interpreter.Value} pseudoObj The JS-Interpreter object to be\n * converted.\n * @param {Object=} opt_cycles Cycle detection (used in recursive calls).\n * @return {*} The equivalent native JavaScript object or value.\n */\nInterpreter.prototype.pseudoToNative = function(pseudoObj, opt_cycles) {\n  if ((typeof pseudoObj !== 'object' && typeof pseudoObj !== 'function') ||\n      pseudoObj === null) {\n    return pseudoObj;\n  }\n  if (!(pseudoObj instanceof Interpreter.Object)) {\n    throw Error('Object is not pseudo');\n  }\n\n  if (this.isa(pseudoObj, this.REGEXP)) {  // Regular expression.\n    var nativeRegExp = new RegExp(pseudoObj.data.source, pseudoObj.data.flags);\n    nativeRegExp.lastIndex = pseudoObj.data.lastIndex;\n    return nativeRegExp;\n  }\n\n  if (this.isa(pseudoObj, this.DATE)) {  // Date.\n    return new Date(pseudoObj.data.valueOf());\n  }\n\n  var cycles = opt_cycles || {\n    pseudo: [],\n    native: [],\n  };\n  var index = cycles.pseudo.indexOf(pseudoObj);\n  if (index !== -1) {\n    return cycles.native[index];\n  }\n  cycles.pseudo.push(pseudoObj);\n  var nativeObj;\n  if (this.isa(pseudoObj, this.ARRAY)) {  // Array.\n    nativeObj = [];\n    cycles.native.push(nativeObj);\n    var len = this.getProperty(pseudoObj, 'length');\n    for (var i = 0; i < len; i++) {\n      if (this.hasProperty(pseudoObj, i)) {\n        nativeObj[i] =\n            this.pseudoToNative(this.getProperty(pseudoObj, i), cycles);\n      }\n    }\n  } else {  // Object.\n    nativeObj = {};\n    cycles.native.push(nativeObj);\n    var val;\n    for (var key in pseudoObj.properties) {\n      val = this.pseudoToNative(pseudoObj.properties[key], cycles);\n      // Use defineProperty to avoid side effects if setting '__proto__'.\n      Object.defineProperty(nativeObj, key,\n          {value: val, writable: true, enumerable: true, configurable: true});\n    }\n  }\n  cycles.pseudo.pop();\n  cycles.native.pop();\n  return nativeObj;\n};\n\n/**\n * Converts from a native JavaScript array to a JS-Interpreter array.\n * Does handle non-numeric properties (like str.match's index prop).\n * Does NOT recurse into the array's contents.\n * @param {!Array} nativeArray The JavaScript array to be converted.\n * @return {!Interpreter.Object} The equivalent JS-Interpreter array.\n */\nInterpreter.prototype.arrayNativeToPseudo = function(nativeArray) {\n  var pseudoArray = this.createArray();\n  var props = Object.getOwnPropertyNames(nativeArray);\n  for (var i = 0; i < props.length; i++) {\n    this.setProperty(pseudoArray, props[i], nativeArray[props[i]]);\n  }\n  return pseudoArray;\n};\n\n/**\n * Converts from a JS-Interpreter array to native JavaScript array.\n * Does handle non-numeric properties (like str.match's index prop).\n * Does NOT recurse into the array's contents.\n * @param {!Interpreter.Object} pseudoArray The JS-Interpreter array,\n *     or JS-Interpreter object pretending to be an array.\n * @return {!Array} The equivalent native JavaScript array.\n */\nInterpreter.prototype.arrayPseudoToNative = function(pseudoArray) {\n  var nativeArray = [];\n  for (var key in pseudoArray.properties) {\n    nativeArray[key] = this.getProperty(pseudoArray, key);\n  }\n  // pseudoArray might be an object pretending to be an array.  In this case\n  // it's possible that length is non-existent, invalid, or smaller than the\n  // largest defined numeric property.  Set length explicitly here.\n  nativeArray.length = Interpreter.legalArrayLength(\n      this.getProperty(pseudoArray, 'length')) || 0;\n  return nativeArray;\n};\n\n/**\n * Look up the prototype for this value.\n * @param {Interpreter.Value} value Data object.\n * @return {Interpreter.Object} Prototype object, null if none.\n */\nInterpreter.prototype.getPrototype = function(value) {\n  switch (typeof value) {\n    case 'number':\n      return this.NUMBER.properties['prototype'];\n    case 'boolean':\n      return this.BOOLEAN.properties['prototype'];\n    case 'string':\n      return this.STRING.properties['prototype'];\n  }\n  if (value) {\n    return value.proto;\n  }\n  return null;\n};\n\n/**\n * Fetch a property value from a data object.\n * @param {Interpreter.Value} obj Data object.\n * @param {Interpreter.Value} name Name of property.\n * @return {Interpreter.Value} Property value (may be undefined).\n */\nInterpreter.prototype.getProperty = function(obj, name) {\n  if (this.getterStep_) {\n    throw Error('Getter not supported in that context');\n  }\n  name = String(name);\n  if (obj === undefined || obj === null) {\n    this.throwException(this.TYPE_ERROR,\n                        \"Cannot read property '\" + name + \"' of \" + obj);\n  }\n  if (typeof obj === 'object' && !(obj instanceof Interpreter.Object)) {\n    throw TypeError('Expecting native value or pseudo object');\n  }\n  if (name === 'length') {\n    // Special cases for magic length property.\n    if (this.isa(obj, this.STRING)) {\n      return String(obj).length;\n    }\n  } else if (name.charCodeAt(0) < 0x40) {\n    // Might have numbers in there?\n    // Special cases for string array indexing\n    if (this.isa(obj, this.STRING)) {\n      var n = Interpreter.legalArrayIndex(name);\n      if (!isNaN(n) && n < String(obj).length) {\n        return String(obj)[n];\n      }\n    }\n  }\n  do {\n    if (obj.properties && name in obj.properties) {\n      var getter = obj.getter[name];\n      if (getter) {\n        // Flag this function as being a getter and thus needing immediate\n        // execution (rather than being the value of the property).\n        this.getterStep_ = true;\n        return getter;\n      }\n      return obj.properties[name];\n    }\n  } while ((obj = this.getPrototype(obj)));\n  return undefined;\n};\n\n/**\n * Does the named property exist on a data object.\n * @param {!Interpreter.Object} obj Data object.\n * @param {Interpreter.Value} name Name of property.\n * @return {boolean} True if property exists.\n */\nInterpreter.prototype.hasProperty = function(obj, name) {\n  if (!(obj instanceof Interpreter.Object)) {\n    throw TypeError('Primitive data type has no properties');\n  }\n  name = String(name);\n  if (name === 'length' && this.isa(obj, this.STRING)) {\n    return true;\n  }\n  if (this.isa(obj, this.STRING)) {\n    var n = Interpreter.legalArrayIndex(name);\n    if (!isNaN(n) && n < String(obj).length) {\n      return true;\n    }\n  }\n  do {\n    if (obj.properties && name in obj.properties) {\n      return true;\n    }\n  } while ((obj = this.getPrototype(obj)));\n  return false;\n};\n\n/**\n * Set a property value on a data object.\n * @param {Interpreter.Value} obj Data object.\n * @param {Interpreter.Value} name Name of property.\n * @param {Interpreter.Value} value New property value.\n *     Use Interpreter.VALUE_IN_DESCRIPTOR if value is handled by\n *     descriptor instead.\n * @param {Object=} opt_descriptor Optional descriptor object.\n * @return {!Interpreter.Object|undefined} Returns a setter function if one\n *     needs to be called, otherwise undefined.\n */\nInterpreter.prototype.setProperty = function(obj, name, value, opt_descriptor) {\n  if (this.setterStep_) {\n    // Getter from previous call to setProperty was not handled.\n    throw Error('Setter not supported in that context');\n  }\n  name = String(name);\n  if (obj === undefined || obj === null) {\n    this.throwException(this.TYPE_ERROR,\n                        \"Cannot set property '\" + name + \"' of \" + obj);\n  }\n  if (typeof obj === 'object' && !(obj instanceof Interpreter.Object)) {\n    throw TypeError('Expecting native value or pseudo object');\n  }\n  if (opt_descriptor && ('get' in opt_descriptor || 'set' in opt_descriptor) &&\n      ('value' in opt_descriptor || 'writable' in opt_descriptor)) {\n    this.throwException(this.TYPE_ERROR, 'Invalid property descriptor. ' +\n        'Cannot both specify accessors and a value or writable attribute');\n  }\n  var strict = !this.stateStack || this.getScope().strict;\n  if (!(obj instanceof Interpreter.Object)) {\n    if (strict) {\n      this.throwException(this.TYPE_ERROR, \"Can't create property '\" + name +\n                          \"' on '\" + obj + \"'\");\n    }\n    return;\n  }\n  if (this.isa(obj, this.STRING)) {\n    var n = Interpreter.legalArrayIndex(name);\n    if (name === 'length' || (!isNaN(n) && n < String(obj).length)) {\n      // Can't set length or letters on String objects.\n      if (strict) {\n        this.throwException(this.TYPE_ERROR, \"Cannot assign to read only \" +\n            \"property '\" + name + \"' of String '\" + obj.data + \"'\");\n      }\n      return;\n    }\n  }\n  if (obj.class === 'Array') {\n    // Arrays have a magic length variable that is bound to the elements.\n    var len = obj.properties.length;\n    var i;\n    if (name === 'length') {\n      // Delete elements if length is smaller.\n      if (opt_descriptor) {\n        if (!('value' in opt_descriptor)) {\n          return;\n        }\n        value = opt_descriptor.value;\n      }\n      value = Interpreter.legalArrayLength(value);\n      if (isNaN(value)) {\n        this.throwException(this.RANGE_ERROR, 'Invalid array length');\n      }\n      if (value < len) {\n        for (i in obj.properties) {\n          i = Interpreter.legalArrayIndex(i);\n          if (!isNaN(i) && value <= i) {\n            delete obj.properties[i];\n          }\n        }\n      }\n    } else if (!isNaN(i = Interpreter.legalArrayIndex(name))) {\n      // Increase length if this index is larger.\n      obj.properties.length = Math.max(len, i + 1);\n    }\n  }\n  if (obj.preventExtensions && !(name in obj.properties)) {\n    if (strict) {\n      this.throwException(this.TYPE_ERROR, \"Can't add property '\" + name +\n                          \"', object is not extensible\");\n    }\n    return;\n  }\n  if (opt_descriptor) {\n    // Define the property.\n    var descriptor = {};\n    if ('get' in opt_descriptor && opt_descriptor.get) {\n      obj.getter[name] = opt_descriptor.get;\n      descriptor.get = this.setProperty.placeholderGet_;\n    }\n    if ('set' in opt_descriptor && opt_descriptor.set) {\n      obj.setter[name] = opt_descriptor.set;\n      descriptor.set = this.setProperty.placeholderSet_;\n    }\n    if ('configurable' in opt_descriptor) {\n      descriptor.configurable = opt_descriptor.configurable;\n    }\n    if ('enumerable' in opt_descriptor) {\n      descriptor.enumerable = opt_descriptor.enumerable;\n    }\n    if ('writable' in opt_descriptor) {\n      descriptor.writable = opt_descriptor.writable;\n      delete obj.getter[name];\n      delete obj.setter[name];\n    }\n    if ('value' in opt_descriptor) {\n      descriptor.value = opt_descriptor.value;\n      delete obj.getter[name];\n      delete obj.setter[name];\n    } else if (value !== Interpreter.VALUE_IN_DESCRIPTOR) {\n      descriptor.value = value;\n      delete obj.getter[name];\n      delete obj.setter[name];\n    }\n    try {\n      Object.defineProperty(obj.properties, name, descriptor);\n    } catch (e) {\n      this.throwException(this.TYPE_ERROR, 'Cannot redefine property: ' + name);\n    }\n    // Now that the definition has suceeded, clean up any obsolete get/set funcs.\n    if ('get' in opt_descriptor && !opt_descriptor.get) {\n      delete obj.getter[name];\n    }\n    if ('set' in opt_descriptor && !opt_descriptor.set) {\n      delete obj.setter[name];\n    }\n  } else {\n    // Set the property.\n    if (value === Interpreter.VALUE_IN_DESCRIPTOR) {\n      throw ReferenceError('Value not specified');\n    }\n    // Determine the parent (possibly self) where the property is defined.\n    var defObj = obj;\n    while (!(name in defObj.properties)) {\n      defObj = this.getPrototype(defObj);\n      if (!defObj) {\n        // This is a new property.\n        defObj = obj;\n        break;\n      }\n    }\n    if (defObj.setter && defObj.setter[name]) {\n      this.setterStep_ = true;\n      return defObj.setter[name];\n    }\n    if (defObj.getter && defObj.getter[name]) {\n      if (strict) {\n        this.throwException(this.TYPE_ERROR, \"Cannot set property '\" + name +\n            \"' of object '\" + obj + \"' which only has a getter\");\n      }\n    } else {\n      // No setter, simple assignment.\n      try {\n        obj.properties[name] = value;\n      } catch (_e) {\n        if (strict) {\n          this.throwException(this.TYPE_ERROR, \"Cannot assign to read only \" +\n              \"property '\" + name + \"' of object '\" + obj + \"'\");\n        }\n      }\n    }\n  }\n};\n\nInterpreter.prototype.setProperty.placeholderGet_ = function() {throw Error('Placeholder getter');};\nInterpreter.prototype.setProperty.placeholderSet_ = function() {throw Error('Placeholder setter');};\n\n/**\n * Convenience method for adding a native function as a non-enumerable property\n * onto an object's prototype.\n * @param {!Interpreter.Object} obj Data object.\n * @param {Interpreter.Value} name Name of property.\n * @param {!Function} wrapper Function object.\n */\nInterpreter.prototype.setNativeFunctionPrototype =\n    function(obj, name, wrapper) {\n  this.setProperty(obj.properties['prototype'], name,\n      this.createNativeFunction(wrapper, false),\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n};\n\n/**\n * Convenience method for adding an async function as a non-enumerable property\n * onto an object's prototype.\n * @param {!Interpreter.Object} obj Data object.\n * @param {Interpreter.Value} name Name of property.\n * @param {!Function} wrapper Function object.\n */\nInterpreter.prototype.setAsyncFunctionPrototype =\n    function(obj, name, wrapper) {\n  this.setProperty(obj.properties['prototype'], name,\n      this.createAsyncFunction(wrapper),\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n};\n\n/**\n * Returns the current scope from the stateStack.\n * @return {!Interpreter.Scope} Current scope.\n */\nInterpreter.prototype.getScope = function() {\n  var scope = this.stateStack[this.stateStack.length - 1].scope;\n  if (!scope) {\n    throw Error('No scope found');\n  }\n  return scope;\n};\n\n/**\n * Create a new scope dictionary.\n * @param {!Object} node AST node defining the scope container\n *     (e.g. a function).\n * @param {Interpreter.Scope} parentScope Scope to link to.\n * @return {!Interpreter.Scope} New scope.\n */\nInterpreter.prototype.createScope = function(node, parentScope) {\n  // Determine if this scope starts with `use strict`.\n  var strict = false;\n  if (parentScope && parentScope.strict) {\n    strict = true;\n  } else {\n    var firstNode = node['body'] && node['body'][0];\n    if (firstNode && firstNode.expression &&\n        firstNode.expression['type'] === 'Literal' &&\n        firstNode.expression.value === 'use strict') {\n      strict = true;\n    }\n  }\n  var object = this.createObjectProto(null);\n  var scope = new Interpreter.Scope(parentScope, strict, object);\n  if (!parentScope) {\n    this.initGlobal(scope.object);\n  }\n  this.populateScope_(node, scope);\n  return scope;\n};\n\n/**\n * Create a new special scope dictionary. Similar to createScope(), but\n * doesn't assume that the scope is for a function body.\n * This is used for 'catch' clauses and 'with' statements.\n * @param {!Interpreter.Scope} parentScope Scope to link to.\n * @param {Interpreter.Object=} opt_object Optional object to transform into\n *     scope.\n * @return {!Interpreter.Scope} New scope.\n */\nInterpreter.prototype.createSpecialScope = function(parentScope, opt_object) {\n  if (!parentScope) {\n    throw Error('parentScope required');\n  }\n  var object = opt_object || this.createObjectProto(null);\n  return new Interpreter.Scope(parentScope, parentScope.strict, object);\n};\n\n/**\n * Retrieves a value from the scope chain.\n * @param {string} name Name of variable.\n * @return {Interpreter.Value} Any value.\n *   May be flagged as being a getter and thus needing immediate execution\n *   (rather than being the value of the property).\n */\nInterpreter.prototype.getValueFromScope = function(name) {\n  var scope = this.getScope();\n  while (scope && scope !== this.globalScope) {\n    if (name in scope.object.properties) {\n      return scope.object.properties[name];\n    }\n    scope = scope.parentScope;\n  }\n  // The root scope is also an object which has inherited properties and\n  // could also have getters.\n  if (scope === this.globalScope && this.hasProperty(scope.object, name)) {\n    return this.getProperty(scope.object, name);\n  }\n  // Typeof operator is unique: it can safely look at non-defined variables.\n  var prevNode = this.stateStack[this.stateStack.length - 1].node;\n  if (prevNode['type'] === 'UnaryExpression' &&\n      prevNode['operator'] === 'typeof') {\n    return undefined;\n  }\n  this.throwException(this.REFERENCE_ERROR, name + ' is not defined');\n};\n\n/**\n * Sets a value to the current scope.\n * @param {string} name Name of variable.\n * @param {Interpreter.Value} value Value.\n * @return {!Interpreter.Object|undefined} Returns a setter function if one\n *     needs to be called, otherwise undefined.\n */\nInterpreter.prototype.setValueToScope = function(name, value) {\n  var scope = this.getScope();\n  var strict = scope.strict;\n  while (scope && scope !== this.globalScope) {\n    if (name in scope.object.properties) {\n      scope.object.properties[name] = value;\n      return undefined;\n    }\n    scope = scope.parentScope;\n  }\n  // The root scope is also an object which has readonly properties and\n  // could also have setters.\n  if (scope === this.globalScope &&\n      (!strict || this.hasProperty(scope.object, name))) {\n    return this.setProperty(scope.object, name, value);\n  }\n  this.throwException(this.REFERENCE_ERROR, name + ' is not defined');\n};\n\n/**\n * Create a new scope for the given node and populate it with all variables\n * and named functions.\n * @param {!Object} node AST node (usually a program or function when initally\n *   calling this function, though it recurses to scan many child nodes).\n * @param {!Interpreter.Scope} scope Scope dictionary to populate.\n * @return {!Object} Map of all variable and function names.\n * @private\n */\nInterpreter.prototype.populateScope_ = function(node, scope) {\n  var variableCache;\n  if (!node.variableCache_) {\n    variableCache = Object.create(null);\n    switch (node['type']) {\n      case 'VariableDeclaration':\n        for (var i = 0; i < node['declarations'].length; i++) {\n          variableCache[node['declarations'][i]['id']['name']] = true;\n        }\n        break;\n      case 'FunctionDeclaration':\n        variableCache[node['id']['name']] = node;\n        break;\n      case 'BlockStatement':\n      case 'CatchClause':\n      case 'DoWhileStatement':\n      case 'ForInStatement':\n      case 'ForStatement':\n      case 'IfStatement':\n      case 'LabeledStatement':\n      case 'Program':\n      case 'SwitchCase':\n      case 'SwitchStatement':\n      case 'TryStatement':\n      case 'WithStatement':\n      case 'WhileStatement':\n        // All the structures within which a variable or function could hide.\n        var nodeClass = node['constructor'];\n        for (var name in node) {\n          if (name === 'loc') continue;\n          var prop = node[name];\n          if (prop && typeof prop === 'object') {\n            var childCache;\n            if (Array.isArray(prop)) {\n              for (var i = 0; i < prop.length; i++) {\n                if (prop[i] && prop[i].constructor === nodeClass) {\n                  childCache = this.populateScope_(prop[i], scope);\n                  for (var name in childCache) {\n                    variableCache[name] = childCache[name];\n                  }\n                }\n              }\n            } else {\n              if (prop.constructor === nodeClass) {\n                childCache = this.populateScope_(prop, scope);\n                for (var name in childCache) {\n                  variableCache[name] = childCache[name];\n                }\n              }\n            }\n          }\n        }\n    }\n    node.variableCache_ = variableCache;\n  } else {\n    variableCache = node.variableCache_;\n  }\n  for (var name in variableCache) {\n    if (variableCache[name] === true) {\n      this.setProperty(scope.object, name, undefined,\n          Interpreter.VARIABLE_DESCRIPTOR);\n    } else {\n      this.setProperty(scope.object, name,\n          this.createFunction(variableCache[name], scope),\n          Interpreter.VARIABLE_DESCRIPTOR);\n    }\n  }\n  return variableCache;\n};\n\n/**\n * Is the current state directly being called with as a construction with 'new'.\n * @return {boolean} True if 'new foo()', false if 'foo()'.\n */\nInterpreter.prototype.calledWithNew = function() {\n  return this.stateStack[this.stateStack.length - 1].isConstructor;\n};\n\n/**\n * Gets a value from the scope chain or from an object property.\n * @param {!Array} ref Name of variable or object/propname tuple.\n * @return {Interpreter.Value} Any value.\n *   May be flagged as being a getter and thus needing immediate execution\n *   (rather than being the value of the property).\n */\nInterpreter.prototype.getValue = function(ref) {\n  if (ref[0] === Interpreter.SCOPE_REFERENCE) {\n    // A null/varname variable lookup.\n    return this.getValueFromScope(ref[1]);\n  } else {\n    // An obj/prop components tuple (foo.bar).\n    return this.getProperty(ref[0], ref[1]);\n  }\n};\n\n/**\n * Sets a value to the scope chain or to an object property.\n * @param {!Array} ref Name of variable or object/propname tuple.\n * @param {Interpreter.Value} value Value.\n * @return {!Interpreter.Object|undefined} Returns a setter function if one\n *     needs to be called, otherwise undefined.\n */\nInterpreter.prototype.setValue = function(ref, value) {\n  if (ref[0] === Interpreter.SCOPE_REFERENCE) {\n    // A null/varname variable lookup.\n    return this.setValueToScope(ref[1], value);\n  } else {\n    // An obj/prop components tuple (foo.bar).\n    return this.setProperty(ref[0], ref[1], value);\n  }\n};\n\n/**\n * Throw an exception in the interpreter that can be handled by an\n * interpreter try/catch statement.  If unhandled, a real exception will\n * be thrown.  Can be called with either an error class and a message, or\n * with an actual object to be thrown.\n * @param {!Interpreter.Object|Interpreter.Value} errorClass Type of error\n *   (if message is provided) or the value to throw (if no message).\n * @param {string=} opt_message Message being thrown.\n */\nInterpreter.prototype.throwException = function(errorClass, opt_message) {\n  if (!this.globalScope) {\n    // This is an error being thrown in the initialization, throw a real error.\n    throw (opt_message === undefined) ? errorClass : opt_message;\n  }\n  if (opt_message === undefined) {\n    var error = errorClass;  // This is a value to throw, not an error class.\n  } else {\n    var error = this.createObject(errorClass);\n    this.populateError(error, opt_message);\n  }\n  this.unwind(Interpreter.Completion.THROW, error, undefined);\n  // Abort anything related to the current step.\n  throw Interpreter.STEP_ERROR;\n};\n\n/**\n * Unwind the stack to the innermost relevant enclosing TryStatement,\n * For/ForIn/WhileStatement or Call/NewExpression.  If this results in\n * the stack being completely unwound the thread will be terminated\n * and the appropriate error being thrown.\n * @param {Interpreter.Completion} type Completion type.\n * @param {Interpreter.Value} value Value computed, returned or thrown.\n * @param {string|undefined} label Target label for break or return.\n */\nInterpreter.prototype.unwind = function(type, value, label) {\n  if (type === Interpreter.Completion.NORMAL) {\n    throw TypeError('Should not unwind for NORMAL completions');\n  }\n\n  loop: for (var stack = this.stateStack; stack.length > 0; stack.pop()) {\n    var state = stack[stack.length - 1];\n    switch (state.node['type']) {\n      case 'TryStatement':\n        state.cv = {type: type, value: value, label: label};\n        return;\n      case 'CallExpression':\n      case 'NewExpression':\n        if (type === Interpreter.Completion.RETURN) {\n          state.value = value;\n          return;\n        } else if (type !== Interpreter.Completion.THROW) {\n          throw Error('Unsynatctic break/continue not rejected by Acorn');\n        }\n        break;\n      case 'Program':\n        // Don't pop the stateStack.\n        // Leave the root scope on the tree in case the program is appended to.\n        state.done = true;\n        break loop;\n    }\n    if (type === Interpreter.Completion.BREAK) {\n      if (label ? (state.labels && state.labels.indexOf(label) !== -1) :\n          (state.isLoop || state.isSwitch)) {\n        stack.pop();\n        return;\n      }\n    } else if (type === Interpreter.Completion.CONTINUE) {\n      if (label ? (state.labels && state.labels.indexOf(label) !== -1) :\n          state.isLoop) {\n        return;\n      }\n    }\n  }\n\n  // Unhandled completion.  Throw a real error.\n  var realError;\n  if (this.isa(value, this.ERROR)) {\n    var errorTable = {\n      'EvalError': EvalError,\n      'RangeError': RangeError,\n      'ReferenceError': ReferenceError,\n      'SyntaxError': SyntaxError,\n      'TypeError': TypeError,\n      'URIError': URIError,\n    };\n    var name = String(this.getProperty(value, 'name'));\n    var message = this.getProperty(value, 'message').valueOf();\n    var errorConstructor = errorTable[name] || Error;\n    realError = errorConstructor(message);\n    realError.stack = String(this.getProperty(value, 'stack'));\n  } else {\n    realError = String(value);\n  }\n  throw realError;\n};\n\n/**\n * Create a call to a getter function.\n * @param {!Interpreter.Object} func Function to execute.\n * @param {!Interpreter.Object|!Array} left\n *     Name of variable or object/propname tuple.\n * @private\n */\nInterpreter.prototype.createGetter_ = function(func, left) {\n  if (!this.getterStep_) {\n    throw Error('Unexpected call to createGetter');\n  }\n  // Clear the getter flag.\n  this.getterStep_ = false;\n  // Normally `this` will be specified as the object component (o.x).\n  // Sometimes `this` is explicitly provided (o).\n  var funcThis = Array.isArray(left) ? left[0] : left;\n  var node = new this.newNode();\n  node['type'] = 'CallExpression';\n  var state = new Interpreter.State(node,\n      this.stateStack[this.stateStack.length - 1].scope);\n  state.doneCallee_ = 2;\n  state.funcThis_ = funcThis;\n  state.func_ = func;\n  state.doneArgs_ = true;\n  state.arguments_ = [];\n  return state;\n};\n\n/**\n * Create a call to a setter function.\n * @param {!Interpreter.Object} func Function to execute.\n * @param {!Interpreter.Object|!Array} left\n *     Name of variable or object/propname tuple.\n * @param {Interpreter.Value} value Value to set.\n * @private\n */\nInterpreter.prototype.createSetter_ = function(func, left, value) {\n  if (!this.setterStep_) {\n    throw Error('Unexpected call to createSetter');\n  }\n  // Clear the setter flag.\n  this.setterStep_ = false;\n  // Normally `this` will be specified as the object component (o.x).\n  // Sometimes `this` is implicitly the global object (x).\n  var funcThis = Array.isArray(left) ? left[0] : this.globalObject;\n  var node = new this.newNode();\n  node['type'] = 'CallExpression';\n  var state = new Interpreter.State(node,\n      this.stateStack[this.stateStack.length - 1].scope);\n  state.doneCallee_ = 2;\n  state.funcThis_ = funcThis;\n  state.func_ = func;\n  state.doneArgs_ = true;\n  state.arguments_ = [value];\n  return state;\n};\n\n/**\n * In non-strict mode `this` must be an object.\n * Must not be called in strict mode.\n * @param {Interpreter.Value} value Proposed value for `this`.\n * @return {!Interpreter.Object} Final value for `this`.\n * @private\n */\nInterpreter.prototype.boxThis_ = function(value) {\n  if (value === undefined || value === null) {\n    // `Undefined` and `null` are changed to the global object.\n    return this.globalObject;\n  }\n  if (!(value instanceof Interpreter.Object)) {\n    // Primitives must be boxed.\n    var box = this.createObjectProto(this.getPrototype(value));\n    box.data = value;\n    return box;\n  }\n  return value;\n};\n\n/**\n * Return the global scope object.\n * @return {!Interpreter.Scope} Scope object.\n */\nInterpreter.prototype.getGlobalScope = function() {\n  return this.globalScope;\n};\n\n/**\n * Return the state stack.\n * @return {!Array<!Interpreter.State>} State stack.\n */\nInterpreter.prototype.getStateStack = function() {\n  return this.stateStack;\n};\n\n/**\n * Replace the state stack with a new one.\n * @param {!Array<!Interpreter.State>} newStack New state stack.\n */\nInterpreter.prototype.setStateStack = function(newStack) {\n  this.stateStack = newStack;\n};\n\n/**\n * Typedef for JS values.\n * @typedef {!Interpreter.Object|boolean|number|string|undefined|null}\n */\nInterpreter.Value;\n\n/**\n * Class for a state.\n * @param {!Object} node AST node for the state.\n * @param {!Interpreter.Scope} scope Scope object for the state.\n * @constructor\n */\nInterpreter.State = function(node, scope) {\n  this.node = node;\n  this.scope = scope;\n};\n\n/**\n * Class for a scope.\n * @param {Interpreter.Scope} parentScope Parent scope.\n * @param {boolean} strict True if \"use strict\".\n * @param {!Interpreter.Object} object Object containing scope's variables.\n * @struct\n * @constructor\n */\nInterpreter.Scope = function(parentScope, strict, object) {\n  this.parentScope = parentScope;\n  this.strict = strict;\n  this.object = object;\n};\n\n/**\n * Class for an object.\n * @param {Interpreter.Object} proto Prototype object or null.\n * @constructor\n */\nInterpreter.Object = function(proto) {\n  this.getter = Object.create(null);\n  this.setter = Object.create(null);\n  this.properties = Object.create(null);\n  this.proto = proto;\n};\n\n/** @type {Interpreter.Object} */\nInterpreter.Object.prototype.proto = null;\n\n/** @type {string} */\nInterpreter.Object.prototype.class = 'Object';\n\n/** @type {Date|RegExp|boolean|number|string|null} */\nInterpreter.Object.prototype.data = null;\n\n/**\n * Convert this object into a string.\n * @return {string} String value.\n * @override\n */\nInterpreter.Object.prototype.toString = function() {\n  if (!Interpreter.currentInterpreter_) {\n    // Called from outside an interpreter.\n    return '[object Interpreter.Object]';\n  }\n  if (!(this instanceof Interpreter.Object)) {\n    // Primitive value.\n    return String(this);\n  }\n\n  if (this.class === 'Array') {\n    // Array contents must not have cycles.\n    var cycles = Interpreter.toStringCycles_;\n    cycles.push(this);\n    try {\n      var strs = [];\n      // Truncate very long strings.  This is not part of the spec,\n      // but it prevents hanging the interpreter for gigantic arrays.\n      var maxLength = this.properties.length;\n      var truncated = false;\n      if (maxLength > 1024) {\n        maxLength = 1000;\n        truncated = true;\n      }\n      for (var i = 0; i < maxLength; i++) {\n        var value = this.properties[i];\n        strs[i] = ((value instanceof Interpreter.Object) &&\n            cycles.indexOf(value) !== -1) ? '...' : value;\n      }\n      if (truncated) {\n        strs.push('...');\n      }\n    } finally {\n      cycles.pop();\n    }\n    return strs.join(',');\n  }\n\n  if (this.class === 'Error') {\n    // Error name and message properties must not have cycles.\n    var cycles = Interpreter.toStringCycles_;\n    if (cycles.indexOf(this) !== -1) {\n      return '[object Error]';\n    }\n    var name, message;\n    // Bug: Does not support getters and setters for name or message.\n    var obj = this;\n    do {\n      if ('name' in obj.properties) {\n        name = obj.properties['name'];\n        break;\n      }\n    } while ((obj = obj.proto));\n    obj = this;\n    do {\n      if ('message' in obj.properties) {\n        message = obj.properties['message'];\n        break;\n      }\n    } while ((obj = obj.proto));\n    cycles.push(this);\n    try {\n      name = name && String(name);\n      message = message && String(message);\n    } finally {\n      cycles.pop();\n    }\n    return message ? name + ': ' + message : String(name);\n  }\n\n  if (this.data !== null) {\n    // RegExp, Date, and boxed primitives.\n    return String(this.data);\n  }\n\n  return '[object ' + this.class + ']';\n};\n\n/**\n * Return the object's value.\n * @return {Interpreter.Value} Value.\n * @override\n */\nInterpreter.Object.prototype.valueOf = function() {\n  var callingInterpreter = Interpreter.currentInterpreter_;\n  if (!callingInterpreter) {\n    // Called from outside an interpreter.\n    return this;\n  }\n  if (this.data === undefined || this.data === null ||\n      this.data instanceof RegExp) {\n    return this;  // An Object, RegExp, or primitive.\n  }\n  if (this.data instanceof Date) {\n    return this.data.valueOf();  // Milliseconds.\n  }\n  return /** @type {(boolean|number|string)} */ (this.data);  // Boxed primitive.\n};\n\n///////////////////////////////////////////////////////////////////////////////\n// Functions to handle each node type.\n///////////////////////////////////////////////////////////////////////////////\n\nInterpreter.prototype['stepArrayExpression'] = function(stack, state, node) {\n  var elements = node['elements'];\n  var n = state.n_ || 0;\n  if (!state.array_) {\n    state.array_ = this.createArray();\n    state.array_.properties.length = elements.length;\n  } else {\n    this.setProperty(state.array_, n, state.value);\n    n++;\n  }\n  while (n < elements.length) {\n    // Skip missing elements - they're not defined, not undefined.\n    if (elements[n]) {\n      state.n_ = n;\n      return new Interpreter.State(elements[n], state.scope);\n    }\n    n++;\n  }\n  stack.pop();\n  stack[stack.length - 1].value = state.array_;\n};\n\nInterpreter.prototype['stepAssignmentExpression'] =\n    function(stack, state, node) {\n  if (!state.doneLeft_) {\n    state.doneLeft_ = true;\n    var nextState = new Interpreter.State(node['left'], state.scope);\n    nextState.components = true;\n    return nextState;\n  }\n  if (!state.doneRight_) {\n    if (!state.leftReference_) {\n      state.leftReference_ = state.value;\n    }\n    if (state.doneGetter_) {\n      state.leftValue_ = state.value;\n    }\n    if (!state.doneGetter_ && node['operator'] !== '=') {\n      var leftValue = this.getValue(state.leftReference_);\n      state.leftValue_ = leftValue;\n      if (this.getterStep_) {\n        // Call the getter function.\n        state.doneGetter_ = true;\n        var func = /** @type {!Interpreter.Object} */ (leftValue);\n        return this.createGetter_(func, state.leftReference_);\n      }\n    }\n    state.doneRight_ = true;\n    // When assigning an unnamed function to a variable, the function's name\n    // is set to the variable name.  Record the variable name in case the\n    // right side is a functionExpression.\n    // E.g. foo = function() {};\n    if (node['operator'] === '=' && node['left']['type'] === 'Identifier') {\n      state.destinationName = node['left']['name'];\n    }\n    return new Interpreter.State(node['right'], state.scope);\n  }\n  if (state.doneSetter_) {\n    // Return if setter function.\n    // Setter method on property has completed.\n    // Ignore its return value, and use the original set value instead.\n    stack.pop();\n    stack[stack.length - 1].value = state.setterValue_;\n    return;\n  }\n  var value = state.leftValue_;\n  var rightValue = state.value;\n  switch (node['operator']) {\n    case '=':    value =    rightValue; break;\n    case '+=':   value +=   rightValue; break;\n    case '-=':   value -=   rightValue; break;\n    case '*=':   value *=   rightValue; break;\n    case '/=':   value /=   rightValue; break;\n    case '%=':   value %=   rightValue; break;\n    case '<<=':  value <<=  rightValue; break;\n    case '>>=':  value >>=  rightValue; break;\n    case '>>>=': value >>>= rightValue; break;\n    case '&=':   value &=   rightValue; break;\n    case '^=':   value ^=   rightValue; break;\n    case '|=':   value |=   rightValue; break;\n    default:\n      throw SyntaxError('Unknown assignment expression: ' + node['operator']);\n  }\n  var setter = this.setValue(state.leftReference_, value);\n  if (setter) {\n    state.doneSetter_ = true;\n    state.setterValue_ = value;\n    return this.createSetter_(setter, state.leftReference_, value);\n  }\n  // Return if no setter function.\n  stack.pop();\n  stack[stack.length - 1].value = value;\n};\n\nInterpreter.prototype['stepBinaryExpression'] = function(stack, state, node) {\n  if (!state.doneLeft_) {\n    state.doneLeft_ = true;\n    return new Interpreter.State(node['left'], state.scope);\n  }\n  if (!state.doneRight_) {\n    state.doneRight_ = true;\n    state.leftValue_ = state.value;\n    return new Interpreter.State(node['right'], state.scope);\n  }\n  stack.pop();\n  var leftValue = state.leftValue_;\n  var rightValue = state.value;\n  var value;\n  switch (node['operator']) {\n    case '==':  value = leftValue ==  rightValue; break;\n    case '!=':  value = leftValue !=  rightValue; break;\n    case '===': value = leftValue === rightValue; break;\n    case '!==': value = leftValue !== rightValue; break;\n    case '>':   value = leftValue >   rightValue; break;\n    case '>=':  value = leftValue >=  rightValue; break;\n    case '<':   value = leftValue <   rightValue; break;\n    case '<=':  value = leftValue <=  rightValue; break;\n    case '+':   value = leftValue +   rightValue; break;\n    case '-':   value = leftValue -   rightValue; break;\n    case '*':   value = leftValue *   rightValue; break;\n    case '/':   value = leftValue /   rightValue; break;\n    case '%':   value = leftValue %   rightValue; break;\n    case '&':   value = leftValue &   rightValue; break;\n    case '|':   value = leftValue |   rightValue; break;\n    case '^':   value = leftValue ^   rightValue; break;\n    case '<<':  value = leftValue <<  rightValue; break;\n    case '>>':  value = leftValue >>  rightValue; break;\n    case '>>>': value = leftValue >>> rightValue; break;\n    case 'in':\n      if (!(rightValue instanceof Interpreter.Object)) {\n        this.throwException(this.TYPE_ERROR,\n            \"'in' expects an object, not '\" + rightValue + \"'\");\n      }\n      value = this.hasProperty(rightValue, leftValue);\n      break;\n    case 'instanceof':\n      if (!this.isa(rightValue, this.FUNCTION)) {\n        this.throwException(this.TYPE_ERROR,\n            'Right-hand side of instanceof is not an object');\n      }\n      value = (leftValue instanceof Interpreter.Object) ?\n          this.isa(leftValue, rightValue) : false;\n      break;\n    default:\n      throw SyntaxError('Unknown binary operator: ' + node['operator']);\n  }\n  stack[stack.length - 1].value = value;\n};\n\nInterpreter.prototype['stepBlockStatement'] = function(stack, state, node) {\n  var n = state.n_ || 0;\n  var expression = node['body'][n];\n  if (expression) {\n    state.n_ = n + 1;\n    return new Interpreter.State(expression, state.scope);\n  }\n  stack.pop();\n};\n\nInterpreter.prototype['stepBreakStatement'] = function(stack, state, node) {\n  var label = node['label'] && node['label']['name'];\n  this.unwind(Interpreter.Completion.BREAK, undefined, label);\n};\n\n/**\n * Number of evals called by the interpreter.\n * @private\n */\nInterpreter.prototype.evalCodeNumber_ = 0;\n\nInterpreter.prototype['stepCallExpression'] = function(stack, state, node) {\n  // Handles both CallExpression and NewExpression.\n  if (!state.doneCallee_) {\n    state.doneCallee_ = 1;\n    // Components needed to determine value of `this`.\n    var nextState = new Interpreter.State(node['callee'], state.scope);\n    nextState.components = true;\n    return nextState;\n  }\n  if (state.doneCallee_ === 1) {\n    // Determine value of the function.\n    state.doneCallee_ = 2;\n    var func = state.value;\n    if (Array.isArray(func)) {\n      state.func_ = this.getValue(func);\n      if (func[0] === Interpreter.SCOPE_REFERENCE) {\n        // (Globally or locally) named function.  Is it named 'eval'?\n        state.directEval_ = (func[1] === 'eval');\n      } else {\n        // Method function, `this` is object (ignored if invoked as `new`).\n        state.funcThis_ = func[0];\n      }\n      func = state.func_;\n      if (this.getterStep_) {\n        // Call the getter function.\n        state.doneCallee_ = 1;\n        return this.createGetter_(/** @type {!Interpreter.Object} */ (func),\n            state.value);\n      }\n    } else {\n      // Already evaluated function: (function(){...})();\n      state.func_ = func;\n    }\n    state.arguments_ = [];\n    state.n_ = 0;\n  }\n  var func = state.func_;\n  if (!state.doneArgs_) {\n    if (state.n_ !== 0) {\n      state.arguments_.push(state.value);\n    }\n    if (node['arguments'][state.n_]) {\n      return new Interpreter.State(node['arguments'][state.n_++], state.scope);\n    }\n    // Determine value of `this` in function.\n    if (node['type'] === 'NewExpression') {\n      if (!(func instanceof Interpreter.Object) || func.illegalConstructor) {\n        // Illegal: new escape();\n        this.throwException(this.TYPE_ERROR, func + ' is not a constructor');\n      }\n      // Constructor, `this` is new object.\n      if (func === this.ARRAY) {\n        state.funcThis_ = this.createArray();\n      } else {\n        var proto = func.properties['prototype'];\n        if (typeof proto !== 'object' || proto === null) {\n          // Non-object prototypes default to `Object.prototype`.\n          proto = this.OBJECT_PROTO;\n        }\n        state.funcThis_ = this.createObjectProto(proto);\n      }\n      state.isConstructor = true;\n    }\n    state.doneArgs_ = true;\n  }\n  if (!state.doneExec_) {\n    state.doneExec_ = true;\n    if (!(func instanceof Interpreter.Object)) {\n      this.throwException(this.TYPE_ERROR, func + ' is not a function');\n    }\n    var funcNode = func.node;\n    if (funcNode) {\n      var scope = this.createScope(funcNode['body'], func.parentScope);\n      // Add all arguments.\n      for (var i = 0; i < funcNode['params'].length; i++) {\n        var paramName = funcNode['params'][i]['name'];\n        var paramValue = state.arguments_.length > i ? state.arguments_[i] :\n            undefined;\n        this.setProperty(scope.object, paramName, paramValue);\n      }\n      // Build arguments variable.\n      var argsList = this.createArray();\n      for (var i = 0; i < state.arguments_.length; i++) {\n        this.setProperty(argsList, i, state.arguments_[i]);\n      }\n      this.setProperty(scope.object, 'arguments', argsList);\n      // Add the function's name (var x = function foo(){};)\n      var name = funcNode['id'] && funcNode['id']['name'];\n      if (name) {\n        this.setProperty(scope.object, name, func);\n      }\n      if (!scope.strict) {\n        state.funcThis_ = this.boxThis_(state.funcThis_);\n      }\n      this.setProperty(scope.object, 'this', state.funcThis_,\n                       Interpreter.READONLY_DESCRIPTOR);\n      state.value = undefined;  // Default value if no explicit return.\n      return new Interpreter.State(funcNode['body'], scope);\n    } else if (func.eval) {\n      var code = state.arguments_[0];\n      if (typeof code !== 'string') {\n        // JS does not parse String objects:\n        // eval(new String('1 + 1')) -> '1 + 1'\n        state.value = code;\n      } else {\n        try {\n          var ast = this.parse_(String(code),\n             'eval' + (this.evalCodeNumber_++));\n        } catch (e) {\n          // Acorn threw a SyntaxError.  Rethrow as a trappable error.\n          this.throwException(this.SYNTAX_ERROR, 'Invalid code: ' + e.message);\n        }\n        var evalNode = new this.newNode();\n        evalNode['type'] = 'EvalProgram_';\n        evalNode['body'] = ast['body'];\n        Interpreter.stripLocations_(evalNode, node['start'], node['end']);\n        // Create new scope and update it with definitions in eval().\n        var scope = state.directEval_ ? state.scope : this.globalScope;\n        if (scope.strict) {\n          // Strict mode get its own scope in eval.\n          scope = this.createScope(ast, scope);\n        } else {\n          // Non-strict mode pollutes the current scope.\n          this.populateScope_(ast, scope);\n        }\n        this.value = undefined;  // Default value if no code.\n        return new Interpreter.State(evalNode, scope);\n      }\n    } else if (func.nativeFunc) {\n      if (!state.scope.strict) {\n        state.funcThis_ = this.boxThis_(state.funcThis_);\n      }\n      state.value = func.nativeFunc.apply(state.funcThis_, state.arguments_);\n    } else if (func.asyncFunc) {\n      var thisInterpreter = this;\n      var callback = function(value) {\n        state.value = value;\n        thisInterpreter.paused_ = false;\n      };\n      // Force the argument lengths to match, then append the callback.\n      var argLength = func.asyncFunc.length - 1;\n      var argsWithCallback = state.arguments_.concat(\n          new Array(argLength)).slice(0, argLength);\n      argsWithCallback.push(callback);\n      this.paused_ = true;\n      if (!state.scope.strict) {\n        state.funcThis_ = this.boxThis_(state.funcThis_);\n      }\n      func.asyncFunc.apply(state.funcThis_, argsWithCallback);\n      return;\n    } else {\n      /* A child of a function is a function but is not callable.  For example:\n      var F = function() {};\n      F.prototype = escape;\n      var f = new F();\n      f();\n      */\n      this.throwException(this.TYPE_ERROR, func.class + ' is not callable');\n    }\n  } else {\n    // Execution complete.  Put the return value on the stack.\n    stack.pop();\n    if (state.isConstructor && typeof state.value !== 'object') {\n      // Normal case for a constructor is to use the `this` value.\n      stack[stack.length - 1].value = state.funcThis_;\n    } else {\n      // Non-constructors or constructions explicitly returning objects use\n      // the return value.\n      stack[stack.length - 1].value = state.value;\n    }\n  }\n};\n\nInterpreter.prototype['stepCatchClause'] = function(stack, state, node) {\n  if (!state.done_) {\n    state.done_ = true;\n    // Create an empty scope.\n    var scope = this.createSpecialScope(state.scope);\n    // Add the argument.\n    this.setProperty(scope.object, node['param']['name'], state.throwValue);\n    // Execute catch clause.\n    return new Interpreter.State(node['body'], scope);\n  } else {\n    stack.pop();\n  }\n};\n\nInterpreter.prototype['stepConditionalExpression'] =\n    function(stack, state, node) {\n  // Handles both ConditionalExpression and IfStatement.\n  var mode = state.mode_ || 0;\n  if (mode === 0) {\n    state.mode_ = 1;\n    return new Interpreter.State(node['test'], state.scope);\n  }\n  if (mode === 1) {\n    state.mode_ = 2;\n    var value = Boolean(state.value);\n    if (value && node['consequent']) {\n      // Execute `if` block.\n      return new Interpreter.State(node['consequent'], state.scope);\n    } else if (!value && node['alternate']) {\n      // Execute `else` block.\n      return new Interpreter.State(node['alternate'], state.scope);\n    }\n    // eval('1;if(false){2}') -> undefined\n    this.value = undefined;\n  }\n  stack.pop();\n  if (node['type'] === 'ConditionalExpression') {\n    stack[stack.length - 1].value = state.value;\n  }\n};\n\nInterpreter.prototype['stepContinueStatement'] = function(stack, state, node) {\n  var label = node['label'] && node['label']['name'];\n  this.unwind(Interpreter.Completion.CONTINUE, undefined, label);\n};\n\nInterpreter.prototype['stepDebuggerStatement'] = function(stack, state, node) {\n  // Do nothing.  May be overridden by developers.\n  stack.pop();\n};\n\nInterpreter.prototype['stepDoWhileStatement'] = function(stack, state, node) {\n  // Handles both DoWhileStatement and WhileStatement.\n  if (node['type'] === 'DoWhileStatement' && state.test_ === undefined) {\n    // First iteration of do/while executes without checking test.\n    state.value = true;\n    state.test_ = true;\n  }\n  if (!state.test_) {\n    state.test_ = true;\n    return new Interpreter.State(node['test'], state.scope);\n  }\n  if (!state.value) {  // Done, exit loop.\n    stack.pop();\n  } else if (node['body']) {  // Execute the body.\n    state.test_ = false;\n    state.isLoop = true;\n    return new Interpreter.State(node['body'], state.scope);\n  }\n};\n\nInterpreter.prototype['stepEmptyStatement'] = function(stack, state, node) {\n  stack.pop();\n};\n\nInterpreter.prototype['stepEvalProgram_'] = function(stack, state, node) {\n  var n = state.n_ || 0;\n  var expression = node['body'][n];\n  if (expression) {\n    state.n_ = n + 1;\n    return new Interpreter.State(expression, state.scope);\n  }\n  stack.pop();\n  stack[stack.length - 1].value = this.value;\n};\n\nInterpreter.prototype['stepExpressionStatement'] = function(stack, state, node) {\n  if (!state.done_) {\n    state.done_ = true;\n    return new Interpreter.State(node['expression'], state.scope);\n  }\n  stack.pop();\n  // Save this value to interpreter.value for use as a return value if\n  // this code is inside an eval function.\n  this.value = state.value;\n};\n\nInterpreter.prototype['stepForInStatement'] = function(stack, state, node) {\n  // First, initialize a variable if exists.  Only do so once, ever.\n  if (!state.doneInit_) {\n    state.doneInit_ = true;\n    if (node['left']['declarations'] &&\n        node['left']['declarations'][0]['init']) {\n      if (state.scope.strict) {\n        this.throwException(this.SYNTAX_ERROR,\n            'for-in loop variable declaration may not have an initializer.');\n      }\n      // Variable initialization: for (var x = 4 in y)\n      return new Interpreter.State(node['left'], state.scope);\n    }\n  }\n  // Second, look up the object.  Only do so once, ever.\n  if (!state.doneObject_) {\n    state.doneObject_ = true;\n    if (!state.variable_) {\n      state.variable_ = state.value;\n    }\n    return new Interpreter.State(node['right'], state.scope);\n  }\n  if (!state.isLoop) {\n    // First iteration.\n    state.isLoop = true;\n    state.object_ = state.value;\n    state.visited_ = Object.create(null);\n  }\n  // Third, find the property name for this iteration.\n  if (state.name_ === undefined) {\n    gotPropName: while (true) {\n      if (state.object_ instanceof Interpreter.Object) {\n        if (!state.props_) {\n          state.props_ = Object.getOwnPropertyNames(state.object_.properties);\n        }\n        while (true) {\n          var prop = state.props_.shift();\n          if (prop === undefined) {\n            break;  // Reached end of this object's properties.\n          }\n          if (!Object.prototype.hasOwnProperty.call(state.object_.properties,\n                prop)) {\n            continue;  // Property has been deleted in the loop.\n          }\n          if (state.visited_[prop]) {\n            continue;  // Already seen this property on a child.\n          }\n          state.visited_[prop] = true;\n          if (!Object.prototype.propertyIsEnumerable.call(\n                state.object_.properties, prop)) {\n            continue;  // Skip non-enumerable property.\n          }\n          state.name_ = prop;\n          break gotPropName;\n        }\n      } else if (state.object_ !== null && state.object_ !== undefined) {\n        // Primitive value (other than null or undefined).\n        if (!state.props_) {\n          state.props_ = Object.getOwnPropertyNames(state.object_);\n        }\n        while (true) {\n          var prop = state.props_.shift();\n          if (prop === undefined) {\n            break;  // Reached end of this value's properties.\n          }\n          state.visited_[prop] = true;\n          if (!Object.prototype.propertyIsEnumerable.call(\n                state.object_, prop)) {\n            continue;  // Skip non-enumerable property.\n          }\n          state.name_ = prop;\n          break gotPropName;\n        }\n      }\n      state.object_ = this.getPrototype(state.object_);\n      state.props_ = null;\n      if (state.object_ === null) {\n        // Done, exit loop.\n        stack.pop();\n        return;\n      }\n    }\n  }\n  // Fourth, find the variable\n  if (!state.doneVariable_) {\n    state.doneVariable_ = true;\n    var left = node['left'];\n    if (left['type'] === 'VariableDeclaration') {\n      // Inline variable declaration: for (var x in y)\n      state.variable_ =\n          [Interpreter.SCOPE_REFERENCE, left['declarations'][0]['id']['name']];\n    } else {\n      // Arbitrary left side: for (foo().bar in y)\n      state.variable_ = null;\n      var nextState = new Interpreter.State(left, state.scope);\n      nextState.components = true;\n      return nextState;\n    }\n  }\n  if (!state.variable_) {\n    state.variable_ = state.value;\n  }\n  // Fifth, set the variable.\n  if (!state.doneSetter_) {\n    state.doneSetter_ = true;\n    var value = state.name_;\n    var setter = this.setValue(state.variable_, value);\n    if (setter) {\n      return this.createSetter_(setter, state.variable_, value);\n    }\n  }\n  // Next step will be step three.\n  state.name_ = undefined;\n  // Reevaluate the variable since it could be a setter on the global object.\n  state.doneVariable_ = false;\n  state.doneSetter_ = false;\n  // Sixth and finally, execute the body if there was one.\n  if (node['body']) {\n    return new Interpreter.State(node['body'], state.scope);\n  }\n};\n\nInterpreter.prototype['stepForStatement'] = function(stack, state, node) {\n  switch (state.mode_) {\n    default:\n      state.mode_ = 1;\n      if (node['init']) {\n        return new Interpreter.State(node['init'], state.scope);\n      }\n      break;\n    case 1:\n      state.mode_ = 2;\n      if (node['test']) {\n        return new Interpreter.State(node['test'], state.scope);\n      }\n      break;\n    case 2:\n      state.mode_ = 3;\n      if (node['test'] && !state.value) {\n        // Done, exit loop.\n        stack.pop();\n      } else {  // Execute the body.\n        state.isLoop = true;\n        return new Interpreter.State(node['body'], state.scope);\n      }\n      break;\n    case 3:\n      state.mode_ = 1;\n      if (node['update']) {\n        return new Interpreter.State(node['update'], state.scope);\n      }\n      break;\n  }\n};\n\nInterpreter.prototype['stepFunctionDeclaration'] =\n    function(stack, state, node) {\n  // This was found and handled when the scope was populated.\n  stack.pop();\n};\n\nInterpreter.prototype['stepFunctionExpression'] = function(stack, state, node) {\n  stack.pop();\n  state = stack[stack.length - 1];\n  state.value = this.createFunction(node, state.scope, state.destinationName);\n};\n\nInterpreter.prototype['stepIdentifier'] = function(stack, state, node) {\n  stack.pop();\n  if (state.components) {\n    stack[stack.length - 1].value = [Interpreter.SCOPE_REFERENCE, node['name']];\n    return;\n  }\n  var value = this.getValueFromScope(node['name']);\n  // An identifier could be a getter if it's a property on the global object.\n  if (this.getterStep_) {\n    // Call the getter function.\n    var func = /** @type {!Interpreter.Object} */ (value);\n    return this.createGetter_(func, this.globalObject);\n  }\n  stack[stack.length - 1].value = value;\n};\n\nInterpreter.prototype['stepIfStatement'] =\n    Interpreter.prototype['stepConditionalExpression'];\n\nInterpreter.prototype['stepLabeledStatement'] = function(stack, state, node) {\n  // No need to hit this node again on the way back up the stack.\n  stack.pop();\n  // Note that a statement might have multiple labels.\n  var labels = state.labels || [];\n  labels.push(node['label']['name']);\n  var nextState = new Interpreter.State(node['body'], state.scope);\n  nextState.labels = labels;\n  return nextState;\n};\n\nInterpreter.prototype['stepLiteral'] = function(stack, state, node) {\n  stack.pop();\n  var value = node['value'];\n  if (value instanceof RegExp) {\n    var pseudoRegexp = this.createObjectProto(this.REGEXP_PROTO);\n    this.populateRegExp(pseudoRegexp, value);\n    value = pseudoRegexp;\n  }\n  stack[stack.length - 1].value = value;\n};\n\nInterpreter.prototype['stepLogicalExpression'] = function(stack, state, node) {\n  if (node['operator'] !== '&&' && node['operator'] !== '||') {\n    throw SyntaxError('Unknown logical operator: ' + node['operator']);\n  }\n  if (!state.doneLeft_) {\n    state.doneLeft_ = true;\n    return new Interpreter.State(node['left'], state.scope);\n  }\n  if (!state.doneRight_) {\n    if ((node['operator'] === '&&' && !state.value) ||\n        (node['operator'] === '||' && state.value)) {\n      // Shortcut evaluation.\n      stack.pop();\n      stack[stack.length - 1].value = state.value;\n    } else {\n      state.doneRight_ = true;\n      return new Interpreter.State(node['right'], state.scope);\n    }\n  } else {\n    stack.pop();\n    stack[stack.length - 1].value = state.value;\n  }\n};\n\nInterpreter.prototype['stepMemberExpression'] = function(stack, state, node) {\n  if (!state.doneObject_) {\n    state.doneObject_ = true;\n    return new Interpreter.State(node['object'], state.scope);\n  }\n  var propName;\n  if (!node['computed']) {\n    state.object_ = state.value;\n    // obj.foo -- Just access `foo` directly.\n    propName = node['property']['name'];\n  } else if (!state.doneProperty_) {\n    state.object_ = state.value;\n    // obj[foo] -- Compute value of `foo`.\n    state.doneProperty_ = true;\n    return new Interpreter.State(node['property'], state.scope);\n  } else {\n    propName = state.value;\n  }\n  stack.pop();\n  if (state.components) {\n    stack[stack.length - 1].value = [state.object_, propName];\n  } else {\n    var value = this.getProperty(state.object_, propName);\n    if (this.getterStep_) {\n      // Call the getter function.\n      var func = /** @type {!Interpreter.Object} */ (value);\n      return this.createGetter_(func, state.object_);\n    }\n    stack[stack.length - 1].value = value;\n  }\n};\n\nInterpreter.prototype['stepNewExpression'] =\n    Interpreter.prototype['stepCallExpression'];\n\nInterpreter.prototype['stepObjectExpression'] = function(stack, state, node) {\n  var n = state.n_ || 0;\n  var property = node['properties'][n];\n  if (!state.object_) {\n    // First execution.\n    state.object_ = this.createObjectProto(this.OBJECT_PROTO);\n    state.properties_ = Object.create(null);\n  } else {\n    // Set the property computed in the previous execution.\n    var propName = state.destinationName;\n    if (!state.properties_[propName]) {\n      // Create temp object to collect value, getter, and/or setter.\n      state.properties_[propName] = {};\n    }\n    state.properties_[propName][property['kind']] = state.value;\n    state.n_ = ++n;\n    property = node['properties'][n];\n  }\n  if (property) {\n    // Determine property name.\n    var key = property['key'];\n    if (key['type'] === 'Identifier') {\n      var propName = key['name'];\n    } else if (key['type'] === 'Literal') {\n      var propName = key['value'];\n    } else {\n      throw SyntaxError('Unknown object structure: ' + key['type']);\n    }\n    // When assigning an unnamed function to a property, the function's name\n    // is set to the property name.  Record the property name in case the\n    // value is a functionExpression.\n    // E.g. {foo: function() {}}\n    state.destinationName = propName;\n    return new Interpreter.State(property['value'], state.scope);\n  }\n  for (var key in state.properties_) {\n    var kinds = state.properties_[key];\n    if ('get' in kinds || 'set' in kinds) {\n      // Set a property with a getter or setter.\n      var descriptor = {\n        configurable: true,\n        enumerable: true,\n        get: kinds['get'],\n        set: kinds['set'],\n      };\n      this.setProperty(state.object_, key, Interpreter.VALUE_IN_DESCRIPTOR,\n                       descriptor);\n    } else {\n      // Set a normal property with a value.\n      this.setProperty(state.object_, key, kinds['init']);\n    }\n  }\n  stack.pop();\n  stack[stack.length - 1].value = state.object_;\n};\n\nInterpreter.prototype['stepProgram'] = function(stack, state, node) {\n  var expression = node['body'].shift();\n  if (expression) {\n    state.done = false;\n    return new Interpreter.State(expression, state.scope);\n  }\n  state.done = true;\n  // Don't pop the stateStack.\n  // Leave the root scope on the tree in case the program is appended to.\n};\n\nInterpreter.prototype['stepReturnStatement'] = function(stack, state, node) {\n  if (node['argument'] && !state.done_) {\n    state.done_ = true;\n    return new Interpreter.State(node['argument'], state.scope);\n  }\n  this.unwind(Interpreter.Completion.RETURN, state.value, undefined);\n};\n\nInterpreter.prototype['stepSequenceExpression'] = function(stack, state, node) {\n  var n = state.n_ || 0;\n  var expression = node['expressions'][n];\n  if (expression) {\n    state.n_ = n + 1;\n    return new Interpreter.State(expression, state.scope);\n  }\n  stack.pop();\n  stack[stack.length - 1].value = state.value;\n};\n\nInterpreter.prototype['stepSwitchStatement'] = function(stack, state, node) {\n  if (!state.test_) {\n    state.test_ = 1;\n    return new Interpreter.State(node['discriminant'], state.scope);\n  }\n  if (state.test_ === 1) {\n    state.test_ = 2;\n    // Preserve switch value between case tests.\n    state.switchValue_ = state.value;\n    state.defaultCase_ = -1;\n  }\n\n  while (true) {\n    var index = state.index_ || 0;\n    var switchCase = node['cases'][index];\n    if (!state.matched_ && switchCase && !switchCase['test']) {\n      // Test on the default case is null.\n      // Bypass (but store) the default case, and get back to it later.\n      state.defaultCase_ = index;\n      state.index_ = index + 1;\n      continue;\n    }\n    if (!switchCase && !state.matched_ && state.defaultCase_ !== -1) {\n      // Ran through all cases, no match.  Jump to the default.\n      state.matched_ = true;\n      state.index_ = state.defaultCase_;\n      continue;\n    }\n    if (switchCase) {\n      if (!state.matched_ && !state.tested_ && switchCase['test']) {\n        state.tested_ = true;\n        return new Interpreter.State(switchCase['test'], state.scope);\n      }\n      if (state.matched_ || state.value === state.switchValue_) {\n        state.matched_ = true;\n        var n = state.n_ || 0;\n        if (switchCase['consequent'][n]) {\n          state.isSwitch = true;\n          state.n_ = n + 1;\n          return new Interpreter.State(switchCase['consequent'][n],\n                                       state.scope);\n        }\n      }\n      // Move on to next case.\n      state.tested_ = false;\n      state.n_ = 0;\n      state.index_ = index + 1;\n    } else {\n      stack.pop();\n      return;\n    }\n  }\n};\n\nInterpreter.prototype['stepThisExpression'] = function(stack, state, node) {\n  stack.pop();\n  stack[stack.length - 1].value = this.getValueFromScope('this');\n};\n\nInterpreter.prototype['stepThrowStatement'] = function(stack, state, node) {\n  if (!state.done_) {\n    state.done_ = true;\n    return new Interpreter.State(node['argument'], state.scope);\n  } else {\n    this.throwException(state.value);\n  }\n};\n\nInterpreter.prototype['stepTryStatement'] = function(stack, state, node) {\n  if (!state.doneBlock_) {\n    state.doneBlock_ = true;\n    return new Interpreter.State(node['block'], state.scope);\n  }\n  if (state.cv && state.cv.type === Interpreter.Completion.THROW &&\n      !state.doneHandler_ && node['handler']) {\n    state.doneHandler_ = true;\n    var nextState = new Interpreter.State(node['handler'], state.scope);\n    nextState.throwValue = state.cv.value;\n    state.cv = undefined;  // This error has been handled, don't rethrow.\n    return nextState;\n  }\n  if (!state.doneFinalizer_ && node['finalizer']) {\n    state.doneFinalizer_ = true;\n    return new Interpreter.State(node['finalizer'], state.scope);\n  }\n  stack.pop();\n  if (state.cv) {\n    // There was no catch handler, or the catch/finally threw an error.\n    // Throw the error up to a higher try.\n    this.unwind(state.cv.type, state.cv.value, state.cv.label);\n  }\n};\n\nInterpreter.prototype['stepUnaryExpression'] = function(stack, state, node) {\n  if (!state.done_) {\n    state.done_ = true;\n    var nextState = new Interpreter.State(node['argument'], state.scope);\n    nextState.components = node['operator'] === 'delete';\n    return nextState;\n  }\n  stack.pop();\n  var value = state.value;\n  switch (node['operator']) {\n    case '-':\n      value = -value;\n      break;\n    case '+':\n      value = +value;\n      break;\n    case '!':\n      value = !value;\n      break;\n    case '~':\n      value = ~value;\n      break;\n    case 'delete':\n      var result = true;\n      // If value is not an array, then it is a primitive, or some other value.\n      // If so, skip the delete and return true.\n      if (Array.isArray(value)) {\n        var obj = value[0];\n        if (obj === Interpreter.SCOPE_REFERENCE) {\n          // `delete foo;` is the same as `delete window.foo;`.\n          obj = state.scope;\n        }\n        var name = String(value[1]);\n        try {\n          delete obj.properties[name];\n        } catch (_e) {\n          if (state.scope.strict) {\n            this.throwException(this.TYPE_ERROR, \"Cannot delete property '\" +\n                                name + \"' of '\" + obj + \"'\");\n          } else {\n            result = false;\n          }\n        }\n      }\n      value = result;\n      break;\n    case 'typeof':\n      value = (value && value.class === 'Function') ? 'function' : typeof value;\n      break;\n    case 'void':\n      value = undefined;\n      break;\n    default:\n      throw SyntaxError('Unknown unary operator: ' + node['operator']);\n  }\n  stack[stack.length - 1].value = value;\n};\n\nInterpreter.prototype['stepUpdateExpression'] = function(stack, state, node) {\n  if (!state.doneLeft_) {\n    state.doneLeft_ = true;\n    var nextState = new Interpreter.State(node['argument'], state.scope);\n    nextState.components = true;\n    return nextState;\n  }\n  if (!state.leftSide_) {\n    state.leftSide_ = state.value;\n  }\n  if (state.doneGetter_) {\n    state.leftValue_ = state.value;\n  }\n  if (!state.doneGetter_) {\n    var leftValue = this.getValue(state.leftSide_);\n    state.leftValue_ = leftValue;\n    if (this.getterStep_) {\n      // Call the getter function.\n      state.doneGetter_ = true;\n      var func = /** @type {!Interpreter.Object} */ (leftValue);\n      return this.createGetter_(func, state.leftSide_);\n    }\n  }\n  if (state.doneSetter_) {\n    // Return if setter function.\n    // Setter method on property has completed.\n    // Ignore its return value, and use the original set value instead.\n    stack.pop();\n    stack[stack.length - 1].value = state.setterValue_;\n    return;\n  }\n  var leftValue = Number(state.leftValue_);\n  var changeValue;\n  if (node['operator'] === '++') {\n    changeValue = leftValue + 1;\n  } else if (node['operator'] === '--') {\n    changeValue = leftValue - 1;\n  } else {\n    throw SyntaxError('Unknown update expression: ' + node['operator']);\n  }\n  var returnValue = node['prefix'] ? changeValue : leftValue;\n  var setter = this.setValue(state.leftSide_, changeValue);\n  if (setter) {\n    state.doneSetter_ = true;\n    state.setterValue_ = returnValue;\n    return this.createSetter_(setter, state.leftSide_, changeValue);\n  }\n  // Return if no setter function.\n  stack.pop();\n  stack[stack.length - 1].value = returnValue;\n};\n\nInterpreter.prototype['stepVariableDeclaration'] = function(stack, state, node) {\n  var declarations = node['declarations'];\n  var n = state.n_ || 0;\n  var declarationNode = declarations[n];\n  if (state.init_ && declarationNode) {\n    // This setValue call never needs to deal with calling a setter function.\n    // Note that this is setting the init value, not defining the variable.\n    // Variable definition is done when scope is populated.\n    this.setValueToScope(declarationNode['id']['name'], state.value);\n    state.init_ = false;\n    declarationNode = declarations[++n];\n  }\n  while (declarationNode) {\n    // Skip any declarations that are not initialized.  They have already\n    // been defined as undefined in populateScope_.\n    if (declarationNode['init']) {\n      state.n_ = n;\n      state.init_ = true;\n      // When assigning an unnamed function to a variable, the function's name\n      // is set to the variable name.  Record the variable name in case the\n      // right side is a functionExpression.\n      // E.g. var foo = function() {};\n      state.destinationName = declarationNode['id']['name'];\n      return new Interpreter.State(declarationNode['init'], state.scope);\n    }\n    declarationNode = declarations[++n];\n  }\n  stack.pop();\n};\n\nInterpreter.prototype['stepWithStatement'] = function(stack, state, node) {\n  if (!state.doneObject_) {\n    state.doneObject_ = true;\n    return new Interpreter.State(node['object'], state.scope);\n  } else if (!state.doneBody_) {\n    state.doneBody_ = true;\n    var scope = this.createSpecialScope(state.scope, state.value);\n    return new Interpreter.State(node['body'], scope);\n  } else {\n    stack.pop();\n  }\n};\n\nInterpreter.prototype['stepWhileStatement'] =\n    Interpreter.prototype['stepDoWhileStatement'];\n\n// Preserve top-level API functions from being pruned/renamed by JS compilers.\n// Add others as needed.\nInterpreter.nativeGlobal['Interpreter'] = Interpreter;\nInterpreter.prototype['step'] = Interpreter.prototype.step;\nInterpreter.prototype['run'] = Interpreter.prototype.run;\nInterpreter.prototype['appendCode'] = Interpreter.prototype.appendCode;\nInterpreter.prototype['createObject'] = Interpreter.prototype.createObject;\nInterpreter.prototype['createObjectProto'] =\n    Interpreter.prototype.createObjectProto;\nInterpreter.prototype['createAsyncFunction'] =\n    Interpreter.prototype.createAsyncFunction;\nInterpreter.prototype['createNativeFunction'] =\n    Interpreter.prototype.createNativeFunction;\nInterpreter.prototype['getProperty'] = Interpreter.prototype.getProperty;\nInterpreter.prototype['setProperty'] = Interpreter.prototype.setProperty;\nInterpreter.prototype['nativeToPseudo'] = Interpreter.prototype.nativeToPseudo;\nInterpreter.prototype['pseudoToNative'] = Interpreter.prototype.pseudoToNative;\nInterpreter.prototype['getGlobalScope'] = Interpreter.prototype.getGlobalScope;\nInterpreter.prototype['getStateStack'] = Interpreter.prototype.getStateStack;\nInterpreter.prototype['setStateStack'] = Interpreter.prototype.setStateStack;\nInterpreter['VALUE_IN_DESCRIPTOR'] = Interpreter.VALUE_IN_DESCRIPTOR;\n\nexport default Interpreter;","<template>\n  <div>\n    <h2 v-if=\"survey.title\">{{ survey.title }}</h2>\n\n    <!-- preserve whitepace and newlines -->\n    <p v-if=\"survey.instructions\" style=\"white-space: pre\">{{ survey.instructions }}</p>\n\n    <template v-for=\"(item, index) in survey.items\">\n      <div v-if=\"item_visible(item)\" :key=\"index\" :class=\"item.class\" :style=\"item.style\">\n\n        <slot name=\"before-item\" v-bind:item=\"item\"></slot>\n\n        <h3 v-if=\"item.title\">{{ item.title }}</h3>\n\n        <p v-if=\"item.instructions\" style=\"white-space: pre\">{{ item.instructions }}</p>\n\n        <v-checkbox\n          v-if=\"item.type === 'checkbox'\"\n          v-model=\"active_data[item.id]\"\n          :class=\"'vuetify-survey-item vuetify-survey-item-checkbox ' + item.class\"\n          :style=\"item.style\"\n          v-bind=\"translate_props(item.props)\"\n        ></v-checkbox>\n        <div\n          v-if=\"item.type === 'checkboxes'\"\n          :class=\"'vuetify-survey-item vuetify-survey-item-checkboxes ' + item.class\"\n          :style=\"item.style\"\n        >\n          <v-checkbox\n            v-for=\"(checkbox_item, checkbox_item_idx) in item.items\"\n            :key=\"checkbox_item_idx\"\n            :label=\"checkbox_item.text\"\n            :value=\"checkbox_item.value\"\n            :class=\"checkbox_item.class\"\n            :style=\"checkbox_item.style\"\n            v-model=\"active_data[item.id]\"\n            v-bind=\"translate_props(item.props)\"\n          ></v-checkbox>\n        </div>\n        <v-select\n          v-if=\"item.type === 'select'\"\n          v-model=\"active_data[item.id]\"\n          :class=\"'vuetify-survey-item vuetify-survey-item-select ' + item.class\"\n          :style=\"item.style\"\n          :items=\"item.items\"\n          v-bind=\"translate_props(item.props)\"\n        ></v-select>\n\n        <v-radio-group\n          v-if=\"item.type === 'radio-group'\"\n          v-model=\"active_data[item.id]\"\n          :class=\"'vuetify-survey-item vuetify-survey-item-radio-group ' + item.class\"\n          :style=\"item.style\"\n          :items=\"item.items\"\n          v-bind=\"translate_props(item.props)\"\n        >\n          <v-radio\n            v-for=\"(radio_item, radio_item_idx) in item.items\"\n            :key=\"radio_item_idx\"\n            :label=\"radio_item.text\"\n            :value=\"radio_item.value\"\n            :class=\"radio_item.class\"\n            :style=\"radio_item.style\"\n            v-bind=\"translate_props(item.props)\"\n          ></v-radio>\n        </v-radio-group>\n\n        <v-text-field\n          v-if=\"item.type === 'text-field'\"\n          v-model=\"active_data[item.id]\"\n          :class=\"'vuetify-survey-item vuetify-survey-item-text-field ' + item.class\"\n          :style=\"item.style\"\n          v-bind=\"translate_props(item.props)\"\n        ></v-text-field>\n        <v-text-field\n          v-if=\"item.type === 'number-field'\"\n          type=\"number\"\n          :min=\"item.min\"\n          :max=\"item.max\"\n          :step=\"item.step ? item.step : 'any'\"\n          v-model=\"active_data[item.id]\"\n          :class=\"'vuetify-survey-item vuetify-survey-item-number-field ' + item.class\"\n          :style=\"item.style\"\n          :size=\"number_field_size(item)\"\n          v-bind=\"translate_props(item.props)\"\n        ></v-text-field>\n        <v-textarea\n          v-if=\"item.type === 'textarea'\"\n          v-model=\"active_data[item.id]\"\n          :class=\"'vuetify-survey-item vuetify-survey-item-textarea ' + item.class\"\n          :style=\"item.style\"\n          v-bind=\"translate_props(item.props)\"\n        ></v-textarea>\n        <v-slider v-if=\"item.type === 'slider'\" v-model=\"active_data[item.id]\" v-bind=\"item.props\"></v-slider>\n        <v-range-slider\n          v-if=\"item.type === 'range-slider'\"\n          v-model=\"active_data[item.id]\"\n          :class=\"'vuetify-survey-item vuetify-survey-item-range-slider ' + item.class\"\n          :style=\"item.style\"\n          v-bind=\"translate_props(item.props)\"\n        ></v-range-slider>\n        <v-switch\n          v-if=\"item.type === 'switch'\"\n          v-model=\"active_data[item.id]\"\n          :class=\"'vuetify-survey-item vuetify-survey-item-switch ' + item.class\"\n          :style=\"item.style\"\n          v-bind=\"translate_props(item.props)\"\n        ></v-switch>\n        <v-rating\n          v-if=\"item.type === 'rating'\"\n          v-model=\"active_data[item.id]\"\n          :class=\"'vuetify-survey-item vuetify-survey-item-rating ' + item.class\"\n          :style=\"item.style\"\n          v-bind=\"translate_props(item.props)\"\n        ></v-rating>\n        <v-rating\n          v-if=\"item.type === 'mood'\"\n          v-model=\"active_data[item.id]\"\n          :class=\"'vuetify-survey-item vuetify-survey-item-mood ' + item.class\"\n          :style=\"item.style\"\n          v-bind=\"translate_props(item.props)\"\n        >\n          <template v-slot:item=\"props\">\n            <v-icon\n              v-if=\"props.index == 0\"\n              :color=\"props.color || 'primary'\"\n              @click=\"props.click\"\n              :size=\"props.size || 32\"\n            >{{ props.isFilled || props.isHovered ? 'mdi-emoticon-sad' : 'mdi-emoticon-sad-outline' }}</v-icon>\n            <v-icon\n              v-if=\"props.index == 1\"\n              :color=\"props.color || 'primary'\"\n              @click=\"props.click\"\n              :size=\"props.size || 32\"\n            >{{ props.isFilled || props.isHovered ? 'mdi-emoticon-confused' : 'mdi-emoticon-confused-outline' }}</v-icon>\n            <v-icon\n              v-if=\"props.index == 2\"\n              :color=\"props.color || 'primary'\"\n              @click=\"props.click\"\n              :size=\"props.size || 32\"\n            >{{ props.isFilled || props.isHovered ? 'mdi-emoticon-neutral' : 'mdi-emoticon-neutral-outline' }}</v-icon>\n            <v-icon\n              v-if=\"props.index == 3\"\n              :color=\"props.color || 'primary'\"\n              @click=\"props.click\"\n              :size=\"props.size || 32\"\n            >{{ props.isFilled || props.isHovered ? 'mdi-emoticon-happy' : 'mdi-emoticon-happy-outline' }}</v-icon>\n            <v-icon\n              v-if=\"props.index == 4\"\n              :color=\"props.color || 'primary'\"\n              @click=\"props.click\"\n              :size=\"props.size || 32\"\n            >{{ props.isFilled || props.isHovered ? 'mdi-emoticon' : 'mdi-emoticon-outline' }}</v-icon>\n          </template>\n        </v-rating>\n\n        <v-menu\n          v-if=\"item.type == 'date'\"\n          :ref=\"'item_' + item.id\"\n          v-model=\"item_menus[item.id]\"\n          :close-on-content-click=\"false\"\n          transition=\"scale-transition\"\n          offset-y\n          :class=\"'vuetify-survey-item vuetify-survey-item-date ' + item.class\"\n          :style=\"item.style\"\n          min-width=\"auto\"\n        >\n          <template v-slot:activator=\"{ on, attrs }\">\n            <v-text-field\n              v-model=\"active_data[item.id]\"\n              prepend-icon=\"mdi-calendar\"\n              readonly\n              v-bind=\"attrs\"\n              v-on=\"on\"\n            ></v-text-field>\n          </template>\n          <v-date-picker v-model=\"active_data[item.id]\" @input=\"item_menus[item.id] = false\"></v-date-picker>\n        </v-menu>\n\n        <v-menu\n          v-if=\"item.type == 'birthday'\"\n          :ref=\"'item_' + item.id\"\n          v-model=\"item_menus[item.id]\"\n          :close-on-content-click=\"false\"\n          transition=\"scale-transition\"\n          offset-y\n          :class=\"'vuetify-survey-item vuetify-survey-item-birthday ' + item.class\"\n          :style=\"item.style\"\n          min-width=\"auto\"\n        >\n          <template v-slot:activator=\"{ on, attrs }\">\n            <v-text-field\n              v-model=\"active_data[item.id]\"\n              prepend-icon=\"mdi-calendar\"\n              readonly\n              v-bind=\"attrs\"\n              v-on=\"on\"\n            ></v-text-field>\n          </template>\n          <v-date-picker\n            v-model=\"active_data[item.id]\"\n            :active-picker.sync=\"item_date_pickers[item.id]\"\n            :max=\"(new Date(Date.now() - (new Date()).getTimezoneOffset() * 60000)).toISOString().substr(0, 10)\"\n            min=\"1900-01-01\"\n            v-bind=\"translate_props(item.props)\"\n            @change=\"close_menu(item.id)\"\n          ></v-date-picker>\n        </v-menu>\n\n        <slot name=\"before-after\" v-bind:item=\"item\"></slot>\n      </div>\n    </template>\n  </div>\n</template>\n\n<script>\n// eslint-disable-next-line\nimport Interpreter from \"./interpreter.js\";\nimport * as acorn from \"acorn\";\nimport Vue from \"vue\";\n\nexport default {\n  name: \"VuetifySurvey\",\n  components: {},\n  props: {\n    survey: {\n      type: Object,\n      required: true,\n    },\n    value: {\n      type: Object,\n      required: false,\n      default: () => {},\n    },\n  },\n  data() {\n    let default_data = this.get_default_data();\n\n    let data = {\n      item_menus: {},\n      item_date_pickers: {},\n      active_data: this.value\n        ? Object.assign(default_data, this.value)\n        : default_data,\n    };\n\n    return data;\n  },\n  watch: {\n    survey: {\n      handler: function (survey) {\n        let default_data;\n\n        survey.items.forEach((item) => {\n          let item_id = item.id;\n          if (!(item_id in this.active_data)) {\n            if (!default_data) default_data = this.get_default_data();\n            Vue.set(this.active_data, item_id, default_data[item_id]);\n          }\n        });\n      },\n      deep: true,\n    },\n    active_data: {\n      handler: function (newVal) {\n        this.$emit(\"input\", newVal);\n      },\n      deep: true,\n    },\n    item_menus: {\n      handler: function () {\n        for (let key in this.item_menus) {\n          if (this.item_menus[key]) {\n            setTimeout(() => Vue.set(this.item_date_pickers, key, \"YEAR\"));\n          }\n        }\n      },\n      deep: true,\n    },\n  },\n  methods: {\n    get_default_data() {\n      let default_data = {};\n      this.survey.items.forEach((item) => {\n        if (item.default_value) {\n          default_data[item.id] = item.default_value;\n        } else {\n          if (item.type === \"checkboxes\") {\n            default_data[item.id] = [];\n          } else if (item.type === \"checkbox\" || item.type === \"switch\") {\n            default_data[item.id] = null;\n          } else if (item.type == \"textarea\" || item.type == \"text-field\") {\n            default_data[item.id] = null;\n          } else if (item.type == \"rating\") {\n            default_data[item.id] = null;\n          } else if (item.type == \"mood\") {\n            default_data[item.id] = null;\n          } else if (item.type == \"select\" || item.type == \"radio-group\") {\n            default_data[item.id] = null;\n          }\n        }\n      });\n\n      return default_data;\n    },\n    item_visible(item) {\n      if (item.visible === true) {\n        return true;\n      }\n      if (item.visible === false) {\n        return false;\n      }\n      if (typeof item.visible === \"string\") {\n        let parsed_code = acorn.parse(item.visible, {\n          ecmaVersion: 2020,\n        });\n\n        let interpreter = new Interpreter(parsed_code, (int, glb) => {\n          // For each key => value in data, set it in the global scope\n          for (let key in this.active_data) {\n            let value = int.nativeToPseudo(this.active_data[key]);\n            int.setProperty(glb, key, value);\n          }\n        });\n\n        interpreter.run();\n\n        let result = interpreter.value;\n\n        if (typeof result === \"object\") {\n          if (\n            result.class == \"Array\" &&\n            result.properties &&\n            result.properties.length == 0\n          ) {\n            return false;\n          }\n          return true;\n        }\n\n        return result;\n      }\n      return true;\n    },\n    translate_props(props) {\n      // Translate all snake_case keys to kebab-case keys in the passed object\n      let new_props = {};\n      for (let key in props) {\n        new_props[key.replace(/_/g, \"-\")] = props[key];\n      }\n      return new_props;\n    },\n    number_field_size(item) {\n      if (!item.integer_only) {\n        return 20;\n      }\n      if (\n        item.min &&\n        typeof item.min == \"number\" &&\n        item.max &&\n        typeof item.max == \"number\"\n      ) {\n        return (\n          Math.max(Math.abs(item.min), Math.abs(item.max)).toString().length + 2\n        );\n      }\n      if (item.min && typeof item.min == \"number\") {\n        return Math.abs(item.min).toString().length + 2;\n      }\n      if (item.max && typeof item.max == \"number\") {\n        return Math.abs(item.max).toString().length + 2;\n      }\n      return 20;\n    },\n    close_menu(item_id) {\n      Vue.set(this.item_menus, item_id, false);\n    },\n  },\n};\n</script>\n\n\n\n","import mod from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./VuetifySurvey.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./VuetifySurvey.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VuetifySurvey.vue?vue&type=template&id=fc40ff30&\"\nimport script from \"./VuetifySurvey.vue?vue&type=script&lang=js&\"\nexport * from \"./VuetifySurvey.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('v-text-field',{staticClass:\"vuetify-survey-editor-title\",attrs:{\"outlined\":\"\",\"label\":\"Title\"},on:{\"change\":_vm.changed},model:{value:(_vm.active_survey.title),callback:function ($$v) {_vm.$set(_vm.active_survey, \"title\", $$v)},expression:\"active_survey.title\"}}),_c('v-textarea',{staticClass:\"vuetify-survey-editor-instructions\",attrs:{\"outlined\":\"\",\"label\":\"Instructions\"},on:{\"change\":_vm.changed},model:{value:(_vm.active_survey.instructions),callback:function ($$v) {_vm.$set(_vm.active_survey, \"instructions\", $$v)},expression:\"active_survey.instructions\"}}),_c('v-layout',{staticClass:\"mb-6\",attrs:{\"justify-end\":\"\"}},[_c('v-btn',{staticClass:\"vuetify-survey-editor-add-item\",attrs:{\"color\":\"primary\"},on:{\"click\":_vm.add_item}},[_vm._v(\"Add Item\")])],1),_c('v-list',{attrs:{\"subheader\":\"\",\"two-line\":\"\"}},[_c('draggable',{model:{value:(_vm.active_survey.items),callback:function ($$v) {_vm.$set(_vm.active_survey, \"items\", $$v)},expression:\"active_survey.items\"}},_vm._l((_vm.active_survey.items),function(item,idx){return _c('div',{key:idx},[_c('v-divider'),_c('v-list-item',{staticStyle:{\"cursor\":\"grab\",\"background-color\":\"white\"}},[_c('v-list-item-avatar',[_c('v-icon',{staticClass:\"grey lighten-1\",attrs:{\"dark\":\"\"}},[_vm._v(_vm._s(_vm.item_icon(item)))])],1),_c('v-list-item-content',[_c('v-list-item-title',{domProps:{\"textContent\":_vm._s(item.title)}}),(_vm.show_item_id)?_c('v-list-item-subtitle',{domProps:{\"textContent\":_vm._s(item.id)}}):_vm._e()],1),_c('v-list-item-action',[_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.edit_item(idx)}}},[_c('v-icon',{attrs:{\"color\":\"grey lighten-1\"}},[_vm._v(\"mdi-pencil\")])],1)],1),_c('v-list-item-action',[_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.delete_item(idx)}}},[_c('v-icon',{attrs:{\"color\":\"grey lighten-1\"}},[_vm._v(\"mdi-delete\")])],1)],1)],1),_c('v-divider')],1)}),0)],1),_c('v-dialog',{attrs:{\"max-width\":\"1200\"},model:{value:(_vm.item_editor_dialog),callback:function ($$v) {_vm.item_editor_dialog=$$v},expression:\"item_editor_dialog\"}},[_c('v-card',[_c('v-card-title',{staticStyle:{\"padding\":\"0px\"}},[_c('v-toolbar',{attrs:{\"grey\":\"\",\"flat\":\"\"}},[_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){_vm.active_item = null; _vm.item_editor_dialog = false}}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1),_c('v-toolbar-title',[_vm._v(_vm._s(_vm.active_item ? _vm.active_item.title : \"New Item\"))])],1)],1),_c('v-divider'),_c('v-card-text',[_c('VuetifySurveyItemEditor',{ref:\"active_item_editor\",staticClass:\"mt-6\",attrs:{\"allow_edit_style\":_vm.allow_edit_item_style,\"allow_edit_class\":_vm.allow_edit_item_class,\"show_id\":_vm.show_item_id,\"value\":_vm.active_item}})],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{on:{\"click\":function($event){_vm.active_item = null; _vm.item_editor_dialog = false}}},[_vm._v(\"Cancel\")]),_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":_vm.save_active_item}},[_vm._v(\"Save\")])],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.active_item && _vm.active_item != {})?_c('div',[_c('v-layout',{attrs:{\"justify-space-between\":\"\"}},[_c('v-flex',{attrs:{\"xs8\":\"\"}},[_c('v-text-field',{staticClass:\"vuetify-survey-editor-item-title\",attrs:{\"label\":\"Title\",\"outlined\":\"\"},model:{value:(_vm.active_item.title),callback:function ($$v) {_vm.$set(_vm.active_item, \"title\", $$v)},expression:\"active_item.title\"}})],1),_c('v-flex',{attrs:{\"xs3\":\"\"}},[_c('v-select',{staticClass:\"vuetify-survey-editor-item-type\",attrs:{\"label\":\"Type\",\"items\":_vm.type_items,\"outlined\":\"\",\"prepend-inner-icon\":_vm.item_icon(_vm.active_item.type)},scopedSlots:_vm._u([{key:\"item\",fn:function({ item }){return [_c('v-list-item-avatar',[_c('v-icon',[_vm._v(_vm._s(_vm.item_icon(item.value)))])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(_vm._s(item.text))])],1)]}}],null,false,2990014433),model:{value:(_vm.active_item.type),callback:function ($$v) {_vm.$set(_vm.active_item, \"type\", $$v)},expression:\"active_item.type\"}})],1)],1),(_vm.show_id && !_vm.id_changed)?_c('p',{staticStyle:{\"min-height\":\"22px\",\"margin-left\":\"5px\",\"margin-top\":\"-10px\"},on:{\"click\":function($event){_vm.id_changed = true}}},[_vm._v(\" id: \"),_c('span',{staticStyle:{\"font-family\":\"Courier, monospace\"}},[_vm._v(_vm._s(_vm.active_item.id))])]):_vm._e(),(_vm.show_id && _vm.id_changed)?_c('v-text-field',{staticClass:\"vuetify-survey-editor-item-id\",staticStyle:{\"font-family\":\"Courier, monospace\"},attrs:{\"label\":\"Identifier\",\"dense\":\"\",\"outlined\":\"\"},on:{\"change\":function($event){_vm.id_changed = true}},model:{value:(_vm.active_item.id),callback:function ($$v) {_vm.$set(_vm.active_item, \"id\", $$v)},expression:\"active_item.id\"}}):_vm._e(),(_vm.active_item.type == 'select' || _vm.active_item.type == 'checkboxes' || _vm.active_item.type == 'radio-group')?_c('v-sheet',{staticClass:\"pa-6 mb-6\",attrs:{\"elevation\":\"1\"}},[_c('div',{staticClass:\"text-h6 mb-4\",staticStyle:{\"font-weight\":\"400\"}},[_vm._v(\"Options\")]),_vm._l((_vm.active_item.items),function(option,option_idx){return _c('v-layout',{key:option_idx,staticClass:\"mb-n3\",attrs:{\"justify-space-between\":\"\"}},[_c('v-flex',{attrs:{\"xs4\":\"\"}},[_c('v-text-field',{attrs:{\"outlined\":\"\",\"dense\":\"\",\"label\":\"Text\"},on:{\"change\":function($event){return _vm.maybe_suggest_item_value(option_idx)}},model:{value:(_vm.active_item.items[option_idx].text),callback:function ($$v) {_vm.$set(_vm.active_item.items[option_idx], \"text\", $$v)},expression:\"active_item.items[option_idx].text\"}})],1),_c('v-flex',{attrs:{\"xs2\":\"\"}},[_c('v-text-field',{attrs:{\"outlined\":\"\",\"dense\":\"\",\"label\":\"Value\"},model:{value:(_vm.active_item.items[option_idx].value),callback:function ($$v) {_vm.$set(_vm.active_item.items[option_idx], \"value\", $$v)},expression:\"active_item.items[option_idx].value\"}})],1),_c('v-flex',{attrs:{\"xs2\":\"\"}},[(_vm.allow_edit_class)?_c('v-text-field',{attrs:{\"outlined\":\"\",\"dense\":\"\",\"label\":\"Class\"},model:{value:(_vm.active_item.items[option_idx].class),callback:function ($$v) {_vm.$set(_vm.active_item.items[option_idx], \"class\", $$v)},expression:\"active_item.items[option_idx].class\"}}):_vm._e()],1),_c('v-flex',{attrs:{\"xs2\":\"\"}},[(_vm.allow_edit_style)?_c('v-text-field',{attrs:{\"outlined\":\"\",\"dense\":\"\",\"label\":\"Style\"},model:{value:(_vm.active_item.items[option_idx].style),callback:function ($$v) {_vm.$set(_vm.active_item.items[option_idx], \"style\", $$v)},expression:\"active_item.items[option_idx].style\"}}):_vm._e()],1),_c('v-flex',{attrs:{\"xs1\":\"\"}},[(_vm.active_item.items.length > 2)?_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.delete_option_item(option_idx)}}},[_c('v-icon',[_vm._v(\"mdi-delete\")])],1):_vm._e()],1)],1)}),_c('v-btn',{staticClass:\"mt-3\",attrs:{\"color\":\"primary\",\"small\":\"\"},on:{\"click\":function($event){return _vm.active_item.items.push({'value': '', 'text': ''})}}},[_vm._v(\"Add Option\")])],2):_vm._e(),(_vm.active_item && _vm.active_item.props && (_vm.active_item.type == 'checkbox' || _vm.active_item.type == 'switch'))?_c('v-text-field',{attrs:{\"label\":\"Label\",\"outlined\":\"\"},on:{\"change\":function($event){_vm.label_changed = true}},model:{value:(_vm.active_item.props.label),callback:function ($$v) {_vm.$set(_vm.active_item.props, \"label\", $$v)},expression:\"active_item.props.label\"}}):_vm._e(),(_vm.active_item && _vm.active_item.props && _vm.active_item.type == 'number-field')?_c('v-layout',{attrs:{\"justify-space-between\":\"\"}},[_c('v-flex',{attrs:{\"xs2\":\"\"}},[_c('v-switch',{attrs:{\"label\":\"Integers Only\"},model:{value:(_vm.active_item.integer_only),callback:function ($$v) {_vm.$set(_vm.active_item, \"integer_only\", $$v)},expression:\"active_item.integer_only\"}})],1),_c('v-flex',{attrs:{\"xs2\":\"\"}},[_c('v-text-field',{attrs:{\"label\":\"Mininum\",\"type\":\"number\",\"step\":_vm.active_item.step ? _vm.active_item.step : 'any',\"outlined\":\"\"},model:{value:(_vm.active_item.min),callback:function ($$v) {_vm.$set(_vm.active_item, \"min\", $$v)},expression:\"active_item.min\"}})],1),_c('v-flex',{attrs:{\"xs2\":\"\"}},[_c('v-text-field',{attrs:{\"label\":\"Maximum\",\"type\":\"number\",\"step\":_vm.active_item.step ? _vm.active_item.step : 'any',\"outlined\":\"\"},model:{value:(_vm.active_item.max),callback:function ($$v) {_vm.$set(_vm.active_item, \"max\", $$v)},expression:\"active_item.max\"}})],1),_c('v-flex',{attrs:{\"xs2\":\"\"}},[_c('v-text-field',{attrs:{\"label\":\"Step\",\"type\":\"number\",\"outlined\":\"\",\"step\":_vm.active_item.integer_only ? 1 : 'any'},model:{value:(_vm.active_item.step),callback:function ($$v) {_vm.$set(_vm.active_item, \"step\", $$v)},expression:\"active_item.step\"}})],1)],1):_vm._e(),(_vm.active_item && _vm.active_item.props && _vm.active_item.type == 'text-field' || _vm.active_item.type == 'textarea')?_c('v-layout',{attrs:{\"justify-space-between\":\"\"}},[_c('v-flex',{attrs:{\"xs3\":\"\"}},[_c('v-text-field',{attrs:{\"label\":\"Maximum Length\",\"type\":\"number\",\"step\":\"1\",\"min\":\"1\",\"dense\":\"\",\"outlined\":\"\"},model:{value:(_vm.active_item.maxlength),callback:function ($$v) {_vm.$set(_vm.active_item, \"maxlength\", $$v)},expression:\"active_item.maxlength\"}})],1),_c('v-flex',{attrs:{\"xs3\":\"\"}}),_c('v-flex',{attrs:{\"xs3\":\"\"}})],1):_vm._e(),(_vm.active_item && _vm.active_item.props && _vm.active_item.type == 'rating')?_c('v-layout',{attrs:{\"justify-space-between\":\"\"}},[_c('v-flex',{attrs:{\"xs2\":\"\"}},[_c('v-text-field',{attrs:{\"label\":\"Length\",\"type\":\"number\",\"step\":1,\"outlined\":\"\"},model:{value:(_vm.active_item.props.length),callback:function ($$v) {_vm.$set(_vm.active_item.props, \"length\", $$v)},expression:\"active_item.props.length\"}})],1),_c('v-flex',{attrs:{\"xs2\":\"\"}},[_c('v-text-field',{attrs:{\"label\":\"Size\",\"type\":\"number\",\"step\":1,\"outlined\":\"\"},model:{value:(_vm.active_item.props.size),callback:function ($$v) {_vm.$set(_vm.active_item.props, \"size\", $$v)},expression:\"active_item.props.size\"}})],1),_c('v-flex',{attrs:{\"xs2\":\"\"}},[_c('v-select',{attrs:{\"outlined\":\"\",\"label\":\"Icon\",\"items\":_vm.rating_icons,\"prepend-inner-icon\":_vm.active_item.rating_icon},scopedSlots:_vm._u([{key:\"item\",fn:function({ item }){return [_c('v-list-item-avatar',[_c('v-icon',[_vm._v(_vm._s(item.value))])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(_vm._s(item.text))])],1)]}}],null,false,4055938561),model:{value:(_vm.active_item.rating_icon),callback:function ($$v) {_vm.$set(_vm.active_item, \"rating_icon\", $$v)},expression:\"active_item.rating_icon\"}})],1)],1):_vm._e(),(_vm.active_item && _vm.active_item.props && _vm.active_item.type == 'mood')?_c('v-layout',{attrs:{\"justify-space-between\":\"\"}},[_c('v-flex',{attrs:{\"xs2\":\"\"}},[_c('v-text-field',{attrs:{\"label\":\"Size\",\"type\":\"number\",\"step\":1,\"outlined\":\"\"},model:{value:(_vm.active_item.props.size),callback:function ($$v) {_vm.$set(_vm.active_item.props, \"size\", $$v)},expression:\"active_item.props.size\"}})],1)],1):_vm._e(),_c('v-expansion-panels',{model:{value:(_vm.style_panel),callback:function ($$v) {_vm.style_panel=$$v},expression:\"style_panel\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_vm._v(\"Instructions\")]),_c('v-expansion-panel-content',[_c('v-textarea',{staticClass:\"vuetify-survey-editor-item-instructions\",attrs:{\"label\":\"Instructions\",\"outlined\":\"\"},model:{value:(_vm.active_item.instructions),callback:function ($$v) {_vm.$set(_vm.active_item, \"instructions\", $$v)},expression:\"active_item.instructions\"}})],1)],1),_c('v-expansion-panel',[_c('v-expansion-panel-header',[_vm._v(\"Default Value\")]),_c('v-expansion-panel-content',[(_vm.active_item.type === 'checkbox')?_c('v-checkbox',{attrs:{\"label\":_vm.active_item.props.label || _vm.active_item.title},model:{value:(_vm.active_item.default_value),callback:function ($$v) {_vm.$set(_vm.active_item, \"default_value\", $$v)},expression:\"active_item.default_value\"}}):_vm._e(),(_vm.active_item.type === 'checkboxes')?_c('div',_vm._l((_vm.active_item.items),function(checkbox_item,checkbox_item_idx){return _c('v-checkbox',{key:checkbox_item_idx,attrs:{\"label\":checkbox_item.text,\"value\":checkbox_item.value},model:{value:(_vm.active_item.default_value),callback:function ($$v) {_vm.$set(_vm.active_item, \"default_value\", $$v)},expression:\"active_item.default_value\"}})}),1):_vm._e(),(_vm.active_item.type === 'select')?_c('v-select',{attrs:{\"outlined\":\"\",\"items\":_vm.active_item.items},model:{value:(_vm.active_item.default_value),callback:function ($$v) {_vm.$set(_vm.active_item, \"default_value\", $$v)},expression:\"active_item.default_value\"}}):_vm._e(),(_vm.active_item.type === 'text-field')?_c('v-text-field',{attrs:{\"outlined\":\"\"},model:{value:(_vm.active_item.default_value),callback:function ($$v) {_vm.$set(_vm.active_item, \"default_value\", $$v)},expression:\"active_item.default_value\"}}):_vm._e(),(_vm.active_item.type === 'number-field')?_c('v-text-field',{attrs:{\"type\":\"number\",\"outlined\":\"\",\"min\":_vm.active_item.min,\"max\":_vm.active_item.max,\"step\":_vm.active_item.step ? _vm.item.step : 'any'},model:{value:(_vm.active_item.default_value),callback:function ($$v) {_vm.$set(_vm.active_item, \"default_value\", $$v)},expression:\"active_item.default_value\"}}):_vm._e(),(_vm.active_item.type === 'textarea')?_c('v-textarea',{model:{value:(_vm.active_item.default_value),callback:function ($$v) {_vm.$set(_vm.active_item, \"default_value\", $$v)},expression:\"active_item.default_value\"}}):_vm._e(),(_vm.active_item.type === 'slider')?_c('v-slider',{attrs:{\"min\":_vm.active_item.min,\"max\":_vm.active_item.max,\"step\":_vm.active_item.step ? _vm.item.step : 'any'},model:{value:(_vm.active_item.default_value),callback:function ($$v) {_vm.$set(_vm.active_item, \"default_value\", $$v)},expression:\"active_item.default_value\"}}):_vm._e(),(_vm.active_item.type === 'range-slider')?_c('v-range-slider',{attrs:{\"min\":_vm.active_item.min,\"max\":_vm.active_item.max,\"step\":_vm.active_item.step ? _vm.item.step : 'any'},model:{value:(_vm.active_item.default_value),callback:function ($$v) {_vm.$set(_vm.active_item, \"default_value\", $$v)},expression:\"active_item.default_value\"}}):_vm._e(),(_vm.active_item.type === 'switch')?_c('v-switch',{attrs:{\"label\":_vm.active_item.props.label || _vm.active_item.title},model:{value:(_vm.active_item.default_value),callback:function ($$v) {_vm.$set(_vm.active_item, \"default_value\", $$v)},expression:\"active_item.default_value\"}}):_vm._e(),(_vm.active_item.type === 'rating')?_c('v-rating',{attrs:{\"length\":_vm.active_item.props.length},model:{value:(_vm.active_item.default_value),callback:function ($$v) {_vm.$set(_vm.active_item, \"default_value\", $$v)},expression:\"active_item.default_value\"}}):_vm._e()],1)],1),_c('v-expansion-panel',[_c('v-expansion-panel-header',[_vm._v(\"Properties\")]),_c('v-expansion-panel-content',[_c('v-checkbox',{attrs:{\"label\":\"Readonly\"},model:{value:(_vm.active_item.props.readonly),callback:function ($$v) {_vm.$set(_vm.active_item.props, \"readonly\", $$v)},expression:\"active_item.props.readonly\"}}),(_vm.active_item.type === 'text-field' || _vm.active_item.type === 'number-field' || _vm.active_item.type === 'textarea' || _vm.active_item.type === 'select')?_c('v-checkbox',{attrs:{\"label\":\"Outlined\",\"persistent-hint\":\"\"},model:{value:(_vm.active_item.props.outlined),callback:function ($$v) {_vm.$set(_vm.active_item.props, \"outlined\", $$v)},expression:\"active_item.props.outlined\"}}):_vm._e(),(_vm.active_item.type === 'text-field' || _vm.active_item.type === 'number-field' || _vm.active_item.type === 'checkbox' || _vm.active_item.type === 'checkboxes' || _vm.active_item.type === 'select' || _vm.active_item.type === 'radio-group')?_c('v-checkbox',{attrs:{\"label\":\"Dense: Reduce the field height\"},model:{value:(_vm.active_item.props.dense),callback:function ($$v) {_vm.$set(_vm.active_item.props, \"dense\", $$v)},expression:\"active_item.props.dense\"}}):_vm._e(),(_vm.active_item.maxlength)?_c('v-checkbox',{attrs:{\"label\":\"Counter: Use a counter to inform a user of the character limit.\"},model:{value:(_vm.active_item.props.counter),callback:function ($$v) {_vm.$set(_vm.active_item.props, \"counter\", $$v)},expression:\"active_item.props.counter\"}}):_vm._e(),(_vm.active_item.type === 'text-field' || _vm.active_item.type === 'number-field' || _vm.active_item.type === 'textarea')?_c('v-checkbox',{attrs:{\"label\":\"Clearable: Provides a clearing icon when the field is not empty.\"},model:{value:(_vm.active_item.props.clearable),callback:function ($$v) {_vm.$set(_vm.active_item.props, \"clearable\", $$v)},expression:\"active_item.props.clearable\"}}):_vm._e(),(_vm.active_item.type === 'text-field' || _vm.active_item.type === 'number-field' || _vm.active_item.type === 'textarea' || _vm.active_item.type === 'select')?_c('v-text-field',{attrs:{\"label\":\"Hint\",\"outlined\":\"\",\"hint\":\"The hint property adds the provided string beneath the text field. Use 'Persistent Hint' to keep the hint visible when the text field is not focused.\"},model:{value:(_vm.active_item.props.hint),callback:function ($$v) {_vm.$set(_vm.active_item.props, \"hint\", $$v)},expression:\"active_item.props.hint\"}}):_vm._e(),(_vm.active_item.props.hint)?_c('v-checkbox',{attrs:{\"label\":\"Persistent Hint: Keep the hint visible when the text field is not focused\"},model:{value:(_vm.active_item.props.persistent_hint),callback:function ($$v) {_vm.$set(_vm.active_item.props, \"persistent_hint\", $$v)},expression:\"active_item.props.persistent_hint\"}}):_vm._e(),(_vm.active_item.type === 'text-field' || _vm.active_item.type === 'number-field' || _vm.active_item.type === 'select')?_c('v-text-field',{attrs:{\"label\":\"Prefix\",\"outlined\":\"\",\"hint\":\"Prepend inline non-modifiable text next to the text field.\"},model:{value:(_vm.active_item.props.prefix),callback:function ($$v) {_vm.$set(_vm.active_item.props, \"prefix\", $$v)},expression:\"active_item.props.prefix\"}}):_vm._e(),(_vm.active_item.type === 'text-field' || _vm.active_item.type === 'number-field' || _vm.active_item.type === 'select')?_c('v-text-field',{attrs:{\"label\":\"Suffix\",\"outlined\":\"\",\"hint\":\"Append inline non-modifiable text next to the text field.\"},model:{value:(_vm.active_item.props.suffix),callback:function ($$v) {_vm.$set(_vm.active_item.props, \"suffix\", $$v)},expression:\"active_item.props.suffix\"}}):_vm._e()],1)],1),(_vm.allow_edit_class || _vm.allow_edit_style || _vm.allow_edit_visible)?_c('v-expansion-panel',[_c('v-expansion-panel-header',[_vm._v(\"Visibility and CSS\")]),_c('v-expansion-panel-content',[(_vm.allow_edit_visible)?_c('v-text-field',{staticClass:\"vuetify-survey-editor-item-visible\",attrs:{\"outlined\":\"\",\"dense\":\"\",\"label\":\"Visibility\",\"hint\":\"To make this item conditionally visible, enter a javascript expression that evaluates to true or false.  For example, if you want to show this item only if the user's age is greater than 18, enter: 'age > 18'.  You can use any of the item's values in the expression.  For example, if you want to show this item only if the user's age is greater than the value of question_1, enter: 'question_1 && age > question_1'.\"},model:{value:(_vm.active_item.visible),callback:function ($$v) {_vm.$set(_vm.active_item, \"visible\", $$v)},expression:\"active_item.visible\"}}):_vm._e(),(_vm.allow_edit_class)?_c('v-text-field',{staticClass:\"vuetify-survey-editor-item-class\",attrs:{\"outlined\":\"\",\"dense\":\"\",\"label\":\"Class\"},model:{value:(_vm.active_item.class),callback:function ($$v) {_vm.$set(_vm.active_item, \"class\", $$v)},expression:\"active_item.class\"}}):_vm._e(),(_vm.allow_edit_style)?_c('v-text-field',{staticClass:\"vuetify-survey-editor-item-style\",attrs:{\"outlined\":\"\",\"dense\":\"\",\"label\":\"Style\"},model:{value:(_vm.active_item.style),callback:function ($$v) {_vm.$set(_vm.active_item, \"style\", $$v)},expression:\"active_item.style\"}}):_vm._e()],1)],1):_vm._e()],1)],1):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div v-if=\"active_item && active_item != {}\">\n    <v-layout justify-space-between>\n      <v-flex xs8>\n        <v-text-field\n          label=\"Title\"\n          class=\"vuetify-survey-editor-item-title\"\n          outlined\n          v-model=\"active_item.title\"\n        />\n      </v-flex>\n\n      <v-flex xs3>\n        <v-select\n          label=\"Type\"\n          class=\"vuetify-survey-editor-item-type\"\n          :items=\"type_items\"\n          outlined\n          v-model=\"active_item.type\"\n          :prepend-inner-icon=\"item_icon(active_item.type)\"\n        >\n          <template v-slot:item=\"{ item }\">\n            <v-list-item-avatar>\n              <v-icon>{{ item_icon(item.value) }}</v-icon>\n            </v-list-item-avatar>\n            <v-list-item-content>\n              <v-list-item-title>{{ item.text }}</v-list-item-title>\n            </v-list-item-content>\n          </template>\n        </v-select>\n      </v-flex>\n    </v-layout>\n\n    <p\n      v-if=\"show_id && !id_changed\"\n      @click=\"id_changed = true\"\n      style=\"min-height: 22px; margin-left: 5px; margin-top:-10px\"\n    >\n      id:\n      <span style=\"font-family: Courier, monospace;\">{{ active_item.id }}</span>\n    </p>\n\n    <v-text-field\n      v-if=\"show_id && id_changed\"\n      label=\"Identifier\"\n      dense\n      outlined\n      class=\"vuetify-survey-editor-item-id\"\n      style=\"font-family: Courier, monospace;\"\n      v-model=\"active_item.id\"\n      @change=\"id_changed = true\"\n    />\n\n    <!-- Select components for select, checkboxes, and radio-group -->\n    <v-sheet\n      v-if=\"active_item.type == 'select' || active_item.type == 'checkboxes' || active_item.type == 'radio-group'\"\n      elevation=\"1\"\n      class=\"pa-6 mb-6\"\n    >\n      <div class=\"text-h6 mb-4\" style=\"font-weight: 400\">Options</div>\n      <v-layout\n        v-for=\"(option, option_idx) in active_item.items\"\n        :key=\"option_idx\"\n        justify-space-between\n        class=\"mb-n3\"\n      >\n        <v-flex xs4>\n          <v-text-field\n            outlined\n            dense\n            label=\"Text\"\n            v-model=\"active_item.items[option_idx].text\"\n            @change=\"maybe_suggest_item_value(option_idx)\"\n          ></v-text-field>\n        </v-flex>\n        <v-flex xs2>\n          <v-text-field outlined dense label=\"Value\" v-model=\"active_item.items[option_idx].value\"></v-text-field>\n        </v-flex>\n        <v-flex xs2>\n          <v-text-field\n            v-if=\"allow_edit_class\"\n            outlined\n            dense\n            label=\"Class\"\n            v-model=\"active_item.items[option_idx].class\"\n          ></v-text-field>\n        </v-flex>\n        <v-flex xs2>\n          <v-text-field\n            v-if=\"allow_edit_style\"\n            outlined\n            dense\n            label=\"Style\"\n            v-model=\"active_item.items[option_idx].style\"\n          ></v-text-field>\n        </v-flex>\n        <v-flex xs1>\n          <v-btn v-if=\"active_item.items.length > 2\" icon @click=\"delete_option_item(option_idx)\">\n            <v-icon>mdi-delete</v-icon>\n          </v-btn>\n        </v-flex>\n      </v-layout>\n      <v-btn\n        class=\"mt-3\"\n        color=\"primary\"\n        small\n        @click=\"active_item.items.push({'value': '', 'text': ''})\"\n      >Add Option</v-btn>\n    </v-sheet>\n\n    <!-- Label component for checkbox and switch -->\n    <v-text-field\n      v-if=\"active_item && active_item.props && (active_item.type == 'checkbox' || active_item.type == 'switch')\"\n      label=\"Label\"\n      outlined\n      v-model=\"active_item.props.label\"\n      @change=\"label_changed = true\"\n    />\n\n    <!-- Number options -->\n    <v-layout\n      v-if=\"active_item && active_item.props && active_item.type == 'number-field'\"\n      justify-space-between\n    >\n      <v-flex xs2>\n        <v-switch label=\"Integers Only\" v-model=\"active_item.integer_only\" />\n      </v-flex>\n      <v-flex xs2>\n        <v-text-field\n          label=\"Mininum\"\n          type=\"number\"\n          :step=\"active_item.step ? active_item.step : 'any'\"\n          outlined\n          v-model=\"active_item.min\"\n        />\n      </v-flex>\n      <v-flex xs2>\n        <v-text-field\n          label=\"Maximum\"\n          type=\"number\"\n          :step=\"active_item.step ? active_item.step : 'any'\"\n          outlined\n          v-model=\"active_item.max\"\n        />\n      </v-flex>\n      <v-flex xs2>\n        <v-text-field\n          label=\"Step\"\n          type=\"number\"\n          outlined\n          :step=\"active_item.integer_only ? 1 : 'any'\"\n          v-model=\"active_item.step\"\n        />\n      </v-flex>\n    </v-layout>\n\n    <!-- Text Options -->\n    <v-layout\n      v-if=\"active_item && active_item.props && active_item.type == 'text-field' || active_item.type == 'textarea'\"\n      justify-space-between\n    >\n      <v-flex xs3>\n        <v-text-field\n          label=\"Maximum Length\"\n          type=\"number\"\n          step=\"1\"\n          min=\"1\"\n          dense\n          outlined\n          v-model=\"active_item.maxlength\"\n        />\n      </v-flex>\n      <v-flex xs3></v-flex>\n      <v-flex xs3></v-flex>\n    </v-layout>\n\n    <!-- Rating options -->\n    <v-layout\n      v-if=\"active_item && active_item.props && active_item.type == 'rating'\"\n      justify-space-between\n    >\n      <v-flex xs2>\n        <v-text-field\n          label=\"Length\"\n          type=\"number\"\n          :step=\"1\"\n          outlined\n          v-model=\"active_item.props.length\"\n        />\n      </v-flex>\n\n      <v-flex xs2>\n        <v-text-field\n          label=\"Size\"\n          type=\"number\"\n          :step=\"1\"\n          outlined\n          v-model=\"active_item.props.size\"\n        />\n      </v-flex>\n\n      <v-flex xs2>\n        <v-select\n          outlined\n          label=\"Icon\"\n          :items=\"rating_icons\"\n          v-model=\"active_item.rating_icon\"\n          :prepend-inner-icon=\"active_item.rating_icon\"\n        >\n          <template v-slot:item=\"{ item }\">\n            <v-list-item-avatar>\n              <v-icon>{{ item.value }}</v-icon>\n            </v-list-item-avatar>\n            <v-list-item-content>\n              <v-list-item-title>{{ item.text }}</v-list-item-title>\n            </v-list-item-content>\n          </template>\n        </v-select>\n      </v-flex>\n    </v-layout>\n\n    <!-- Mood options -->\n    <v-layout\n      v-if=\"active_item && active_item.props && active_item.type == 'mood'\"\n      justify-space-between\n    >\n      <v-flex xs2>\n        <v-text-field\n          label=\"Size\"\n          type=\"number\"\n          :step=\"1\"\n          outlined\n          v-model=\"active_item.props.size\"\n        />\n      </v-flex>\n    </v-layout>\n\n    <v-expansion-panels v-model=\"style_panel\">\n      <v-expansion-panel>\n        <v-expansion-panel-header>Instructions</v-expansion-panel-header>\n        <v-expansion-panel-content>\n          <v-textarea\n            label=\"Instructions\"\n            class=\"vuetify-survey-editor-item-instructions\"\n            outlined\n            v-model=\"active_item.instructions\"\n          />\n        </v-expansion-panel-content>\n      </v-expansion-panel>\n      <v-expansion-panel>\n        <v-expansion-panel-header>Default Value</v-expansion-panel-header>\n        <v-expansion-panel-content>\n          <v-checkbox\n            v-if=\"active_item.type === 'checkbox'\"\n            v-model=\"active_item.default_value\"\n            :label=\"active_item.props.label || active_item.title\"\n          ></v-checkbox>\n          <div v-if=\"active_item.type === 'checkboxes'\">\n            <v-checkbox\n              v-for=\"(checkbox_item, checkbox_item_idx) in active_item.items\"\n              :key=\"checkbox_item_idx\"\n              :label=\"checkbox_item.text\"\n              :value=\"checkbox_item.value\"\n              v-model=\"active_item.default_value\"\n            ></v-checkbox>\n          </div>\n          <v-select\n            v-if=\"active_item.type === 'select'\"\n            outlined\n            v-model=\"active_item.default_value\"\n            :items=\"active_item.items\"\n          ></v-select>\n          <v-text-field\n            v-if=\"active_item.type === 'text-field'\"\n            outlined\n            v-model=\"active_item.default_value\"\n          ></v-text-field>\n          <v-text-field\n            v-if=\"active_item.type === 'number-field'\"\n            type=\"number\"\n            outlined\n            :min=\"active_item.min\"\n            :max=\"active_item.max\"\n            :step=\"active_item.step ? item.step : 'any'\"\n            v-model=\"active_item.default_value\"\n          ></v-text-field>\n          <v-textarea v-if=\"active_item.type === 'textarea'\" v-model=\"active_item.default_value\"></v-textarea>\n          <v-slider\n            v-if=\"active_item.type === 'slider'\"\n            v-model=\"active_item.default_value\"\n            :min=\"active_item.min\"\n            :max=\"active_item.max\"\n            :step=\"active_item.step ? item.step : 'any'\"\n          ></v-slider>\n          <v-range-slider\n            v-if=\"active_item.type === 'range-slider'\"\n            v-model=\"active_item.default_value\"\n            :min=\"active_item.min\"\n            :max=\"active_item.max\"\n            :step=\"active_item.step ? item.step : 'any'\"\n          ></v-range-slider>\n          <v-switch\n            v-if=\"active_item.type === 'switch'\"\n            v-model=\"active_item.default_value\"\n            :label=\"active_item.props.label || active_item.title\"\n          ></v-switch>\n          <v-rating\n            v-if=\"active_item.type === 'rating'\"\n            :length=\"active_item.props.length\"\n            v-model=\"active_item.default_value\"\n          ></v-rating>\n        </v-expansion-panel-content>\n      </v-expansion-panel>\n      <v-expansion-panel>\n        <v-expansion-panel-header>Properties</v-expansion-panel-header>\n        <v-expansion-panel-content>\n          <v-checkbox v-model=\"active_item.props.readonly\" label=\"Readonly\" />\n          <v-checkbox\n            v-if=\"active_item.type === 'text-field' || active_item.type === 'number-field' || active_item.type === 'textarea' || active_item.type === 'select'\"\n            v-model=\"active_item.props.outlined\"\n            label=\"Outlined\"\n            persistent-hint\n          />\n          <v-checkbox\n            v-if=\"active_item.type === 'text-field' || active_item.type === 'number-field' || active_item.type === 'checkbox' || active_item.type === 'checkboxes' || active_item.type === 'select' || active_item.type === 'radio-group'\"\n            v-model=\"active_item.props.dense\"\n            label=\"Dense: Reduce the field height\"\n          />\n          <v-checkbox\n            v-if=\"active_item.maxlength\"\n            v-model=\"active_item.props.counter\"\n            label=\"Counter: Use a counter to inform a user of the character limit.\"\n          />\n          <v-checkbox\n            v-if=\"active_item.type === 'text-field' || active_item.type === 'number-field' || active_item.type === 'textarea'\"\n            v-model=\"active_item.props.clearable\"\n            label=\"Clearable: Provides a clearing icon when the field is not empty.\"\n          />\n          <v-text-field\n            v-if=\"active_item.type === 'text-field' || active_item.type === 'number-field' || active_item.type === 'textarea' || active_item.type === 'select'\"\n            v-model=\"active_item.props.hint\"\n            label=\"Hint\"\n            outlined\n            hint=\"The hint property adds the provided string beneath the text field. Use 'Persistent Hint' to keep the hint visible when the text field is not focused.\"\n          />\n          <v-checkbox\n            v-if=\"active_item.props.hint\"\n            v-model=\"active_item.props.persistent_hint\"\n            label=\"Persistent Hint: Keep the hint visible when the text field is not focused\"\n          />\n          <v-text-field\n            v-if=\"active_item.type === 'text-field' || active_item.type === 'number-field' || active_item.type === 'select'\"\n            v-model=\"active_item.props.prefix\"\n            label=\"Prefix\"\n            outlined\n            hint=\"Prepend inline non-modifiable text next to the text field.\"\n          />\n          <v-text-field\n            v-if=\"active_item.type === 'text-field' || active_item.type === 'number-field' || active_item.type === 'select'\"\n            v-model=\"active_item.props.suffix\"\n            label=\"Suffix\"\n            outlined\n            hint=\"Append inline non-modifiable text next to the text field.\"\n          />\n        </v-expansion-panel-content>\n      </v-expansion-panel>\n\n      <!--\n      <v-expansion-panel>\n        <v-expansion-panel-header>Validation</v-expansion-panel-header>\n        <v-expansion-panel-content>\n          <v-checkbox v-model=\"active_item.required\" label=\"Required\" />\n          <v-text-field\n            v-if=\"active_item.type === 'text-field' || active_item.type === 'number-field' || active_item.type === 'textarea'\"\n            label=\"Regex\"\n            outlined\n            dense\n            hint=\"Enter a regular expression to validate the input\"\n            v-model=\"active_item.regex\"\n          />\n        </v-expansion-panel-content>\n      </v-expansion-panel>\n      \n      -->\n      \n      <v-expansion-panel v-if=\"allow_edit_class || allow_edit_style || allow_edit_visible\">\n        <v-expansion-panel-header>Visibility and CSS</v-expansion-panel-header>\n        <v-expansion-panel-content>\n          <v-text-field\n            v-if=\"allow_edit_visible\"\n            v-model=\"active_item.visible\"\n            outlined\n            dense\n            label=\"Visibility\"\n            class=\"vuetify-survey-editor-item-visible\"\n            hint=\"To make this item conditionally visible, enter a javascript expression that evaluates to true or false.  For example, if you want to show this item only if the user's age is greater than 18, enter: 'age > 18'.  You can use any of the item's values in the expression.  For example, if you want to show this item only if the user's age is greater than the value of question_1, enter: 'question_1 &amp;&amp; age > question_1'.\"\n          />\n          <v-text-field\n            v-if=\"allow_edit_class\"\n            v-model=\"active_item.class\"\n            outlined\n            dense\n            label=\"Class\"\n            class=\"vuetify-survey-editor-item-class\"\n          />\n          <v-text-field\n            v-if=\"allow_edit_style\"\n            v-model=\"active_item.style\"\n            outlined\n            dense\n            label=\"Style\"\n            class=\"vuetify-survey-editor-item-style\"\n          />\n        </v-expansion-panel-content>\n      </v-expansion-panel>\n    </v-expansion-panels>\n  </div>\n</template>\n\n<script>\nimport Vue from \"vue\";\n\nexport default {\n  name: \"VuetifySurveyItemEditor\",\n  components: {},\n  props: {\n    value: {\n      type: Object,\n    },\n    allow_edit_style: {\n      type: Boolean,\n      default: true,\n    },\n    allow_edit_class: {\n      type: Boolean,\n      default: true,\n    },\n    allow_edit_visible: {\n      type: Boolean,\n      default: true,\n    },\n    show_id: {\n      type: Boolean,\n      default: true,\n    },\n  },\n  data() {\n    return {\n      active_item: JSON.parse(JSON.stringify(this.value)),\n      id_changed: false,\n      style_panel: false,\n      label_changed: false,\n      type_items: [\n        { text: \"Text Field\", value: \"text-field\" },\n        { text: \"Number Field\", value: \"number-field\" },\n        { text: \"Textarea\", value: \"textarea\" },\n        { text: \"Checkbox\", value: \"checkbox\" },\n        { text: \"Switch\", value: \"switch\" },\n        { text: \"Checkboxes\", value: \"checkboxes\" },\n        { text: \"Select\", value: \"select\" },\n        { text: \"Radio Buttons\", value: \"radio-group\" },\n        { text: \"Date\", value: \"date\" },\n        { text: \"Birthday\", value: \"birthday\" },\n        { text: \"Rating\", value: \"rating\" },\n        { text: \"Mood\", value: \"mood\" },\n      ],\n      rating_icons: [\n        { text: \"Star\", value: \"mdi-star\" },\n        { text: \"Heart\", value: \"mdi-cards-heart\" },\n        { text: \"Happy Face\", value: \"mdi-emoticon-happy\" },\n      ],\n    };\n  },\n  watch: {\n    value() {\n      this.active_item = JSON.parse(JSON.stringify(this.value));\n\n      if (this.active_item && !this.active_item.props) {\n        Vue.set(this.active_item, \"props\", {});\n      }\n    },\n    active_item: {\n      handler() {\n        if (!this.active_item || this.active_item == {}) {\n          return;\n        }\n        if (!this.id_changed && !this.value.id) {\n          this.active_item.id = this.suggested_id;\n        }\n        if (\n          this.active_item.type == \"checkboxes\" ||\n          this.active_item.type == \"select\" || \n          this.active_item.type == \"radio-group\"\n        ) {\n          if (!this.active_item.items) {\n            Vue.set(this.active_item, \"items\", [\n              { value: \"\", text: \"\" },\n              { value: \"\", text: \"\" },\n            ]);\n          }\n          if (!this.active_item.default_value) {\n            Vue.set(this.active_item, \"default_value\", []);\n          }\n        } else {\n          delete this.active_item.items;\n        }\n\n        if (\n          this.active_item.type == \"switch\" ||\n          this.active_item.type == \"checkbox\"\n        ) {\n          if (!this.active_item.props) {\n            Vue.set(this.active_item, \"props\", {});\n          }\n          if (\n            this.active_item.title &&\n            !this.active_item.props.label &&\n            !this.label_changed\n          ) {\n            Vue.set(this.active_item.props, \"label\", this.active_item.title);\n          }\n        }\n\n        if (this.active_item.type == \"number-field\") {\n          if (this.active_item.integer_only) {\n            if (this.active_item.max) {\n              Vue.set(\n                this.active_item,\n                \"max\",\n                Math.round(this.active_item.max)\n              );\n            }\n            if (this.active_item.min) {\n              Vue.set(\n                this.active_item,\n                \"min\",\n                Math.round(this.active_item.min)\n              );\n            }\n            if (this.active_item.step) {\n              Vue.set(\n                this.active_item,\n                \"step\",\n                Math.round(this.active_item.step)\n              );\n            } else {\n              Vue.set(this.active_item, \"step\", 1);\n            }\n          }\n        } else {\n          delete this.active_item.integer_only;\n          delete this.active_item.min;\n          delete this.active_item.max;\n          delete this.active_item.step;\n        }\n\n        if (this.active_item.type == \"rating\") {\n          if (!this.active_item.props) {\n            Vue.set(this.active_item, \"props\", {});\n          }\n          if (!this.active_item.props.length) {\n            Vue.set(this.active_item.props, \"length\", 5);\n            Vue.set(this.active_item.props, \"hover\", true);\n          }\n          if (!this.active_item.props.size) {\n            Vue.set(this.active_item.props, \"size\", 32);\n          }\n          if (!this.active_item.rating_icon) {\n            Vue.set(this.active_item, \"rating_icon\", \"mdi-star\");\n          }\n        }\n\n        if (this.active_item.type == \"mood\") {\n          if (!this.active_item.props) {\n            Vue.set(this.active_item, \"props\", {});\n          }\n          if (!this.active_item.props.size) {\n            Vue.set(this.active_item.props, \"size\", 32);\n            Vue.set(this.active_item.props, \"hover\", true);\n          }\n        }\n      },\n      deep: true,\n    },\n  },\n  computed: {\n    suggested_id() {\n      return this.suggest_id(this.active_item.title);\n    },\n  },\n  methods: {\n    reset() {\n      this.id_changed = false;\n      this.style_panel = false;\n      this.label_changed = false;\n    },\n    maybe_suggest_item_value(idx) {\n      if (!this.active_item.items[idx].value) {\n        Vue.set(\n          this.active_item.items[idx],\n          \"value\",\n          this.suggest_id(this.active_item.items[idx].text)\n        );\n      }\n    },\n    suggest_id(label) {\n      return label\n        .toLowerCase()\n        .replace(/[^a-z0-9 ]/g, \"\")\n        .replace(/ +/g, \"_\");\n    },\n    save() {\n      // TODO: Check for errors\n\n      // Validate\n      if (this.active_item.type == \"number-field\") {\n        if (typeof this.active_item.min == \"string\") {\n          if (this.active_item.integer_only) {\n            this.active_item.min = parseInt(this.active_item.min);\n          } else {\n            this.active_item.min = parseFloat(this.active_item.min);\n          }\n        }\n        if (typeof this.active_item.max == \"string\") {\n          if (this.active_item.integer_only) {\n            this.active_item.max = parseInt(this.active_item.max);\n          } else {\n            this.active_item.max = parseFloat(this.active_item.max);\n          }\n        }\n        if (typeof this.active_item.step == \"string\") {\n          if (this.active_item.integer_only) {\n            this.active_item.step = parseInt(this.active_item.step);\n          } else {\n            this.active_item.step = parseFloat(this.active_item.step);\n          }\n        }\n      }\n\n      this.reset();\n      // return deep clone of active_item\n      return JSON.parse(JSON.stringify(this.active_item));\n    },\n    delete_option_item(idx) {\n      Vue.delete(this.active_item.items, idx);\n    },\n    item_icon(item_type) {\n      if (item_type == \"text-field\") {\n        return \"mdi-form-textbox\";\n      }\n      if (item_type == \"number-field\") {\n        return \"mdi-numeric\";\n      }\n      if (item_type == \"textarea\") {\n        return \"mdi-card-text\";\n      }\n      if (item_type == \"checkbox\") {\n        return \"mdi-checkbox-marked\";\n      }\n      if (item_type == \"switch\") {\n        return \"mdi-toggle-switch\";\n      }\n      if (item_type == \"checkboxes\") {\n        return \"mdi-checkbox-multiple-marked\";\n      }\n      if (item_type == \"select\") {\n        return \"mdi-form-dropdown\";\n      }\n      if (item_type == \"radio-group\") {\n        return \"mdi-radiobox-marked\";\n      }\n      if (item_type == \"autocomplete\") {\n        return \"mdi-text-search\";\n      }\n      if (item_type == \"rating\") {\n        return \"mdi-star\";\n      }\n      if (item_type == \"mood\") {\n        return \"mdi-emoticon-happy\";\n      }\n      if (item_type == \"birthday\") {\n        return \"mdi-calendar-account\";\n      }\n      if (item_type == \"date\") {\n        return \"mdi-calendar\";\n      }\n    },\n  },\n};\n</script>","import mod from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./VuetifySurveyItemEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./VuetifySurveyItemEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VuetifySurveyItemEditor.vue?vue&type=template&id=3c4abe49&\"\nimport script from \"./VuetifySurveyItemEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./VuetifySurveyItemEditor.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <v-text-field\n      outlined\n      label=\"Title\"\n      class=\"vuetify-survey-editor-title\"\n      v-model=\"active_survey.title\"\n      @change=\"changed\"\n    />\n    <v-textarea\n      outlined\n      label=\"Instructions\"\n      class=\"vuetify-survey-editor-instructions\"\n      v-model=\"active_survey.instructions\"\n      @change=\"changed\"\n    />\n\n    <!-- Align to end -->\n    <v-layout justify-end class=\"mb-6\">\n      <v-btn color=\"primary\" class=\"vuetify-survey-editor-add-item\" @click=\"add_item\">Add Item</v-btn>\n    </v-layout>\n\n    <v-list subheader two-line>\n      <draggable v-model=\"active_survey.items\">\n        <div v-for=\"(item, idx) in active_survey.items\" :key=\"idx\">\n          <v-divider />\n          <v-list-item style=\"cursor: grab; background-color: white\">\n            <v-list-item-avatar>\n              <v-icon class=\"grey lighten-1\" dark>{{ item_icon(item) }}</v-icon>\n            </v-list-item-avatar>\n\n            <v-list-item-content>\n              <v-list-item-title v-text=\"item.title\"></v-list-item-title>\n              <v-list-item-subtitle v-if=\"show_item_id\" v-text=\"item.id\"></v-list-item-subtitle>\n            </v-list-item-content>\n\n            <v-list-item-action>\n              <v-btn icon @click=\"edit_item(idx)\">\n                <v-icon color=\"grey lighten-1\">mdi-pencil</v-icon>\n              </v-btn>\n            </v-list-item-action>\n            <v-list-item-action>\n              <v-btn icon @click=\"delete_item(idx)\">\n                <v-icon color=\"grey lighten-1\">mdi-delete</v-icon>\n              </v-btn>\n            </v-list-item-action>\n          </v-list-item>\n          <v-divider />\n        </div>\n      </draggable>\n    </v-list>\n\n    <v-dialog v-model=\"item_editor_dialog\" max-width=\"1200\">\n      <v-card>\n        <v-card-title style=\"padding: 0px\">\n          <v-toolbar grey flat>\n            <v-btn icon @click=\"active_item = null; item_editor_dialog = false\">\n              <v-icon>mdi-close</v-icon>\n            </v-btn>\n            <v-toolbar-title>{{ active_item ? active_item.title : \"New Item\" }}</v-toolbar-title>\n          </v-toolbar>\n        </v-card-title>\n        <v-divider />\n        <v-card-text>\n          <VuetifySurveyItemEditor\n            ref=\"active_item_editor\"\n            :allow_edit_style=\"allow_edit_item_style\"\n            :allow_edit_class=\"allow_edit_item_class\"\n            :show_id=\"show_item_id\"\n            :value=\"active_item\"\n            class=\"mt-6\"\n          />\n        </v-card-text>\n\n        <v-card-actions>\n          <v-spacer />\n          <v-btn @click=\"active_item = null; item_editor_dialog = false\">Cancel</v-btn>\n          <v-btn color=\"primary\" @click=\"save_active_item\">Save</v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </div>\n</template>\n\n<script>\nimport VuetifySurveyItemEditor from \"./VuetifySurveyItemEditor.vue\";\nimport draggable from \"vuedraggable\";\nimport Vue from \"vue\";\n\nexport default {\n  name: \"VuetifySurveyEditor\",\n  components: { VuetifySurveyItemEditor, draggable },\n  props: {\n    value: {\n      type: Object,\n      required: true,\n    },\n    show_item_id: {\n      type: Boolean,\n      default: true,\n    },\n    allow_edit_item_class: {\n      type: Boolean,\n      default: true,\n    },\n    allow_edit_item_style: {\n      type: Boolean,\n      default: true,\n    },\n    allow_edit_visible: {\n      type: Boolean,\n      default: true,\n    },\n    default_new_item: {\n      type: Function,\n      default: (index) => {\n        return {\n          id: \"question_\" + (index + 1),\n          title: \"\",\n          type: \"text-field\",\n          props: {},\n        };\n      },\n    },\n  },\n  data() {\n    return {\n      active_survey: this.value,\n      active_item: null,\n      active_item_idx: null,\n      item_editor_dialog: false,\n    };\n  },\n  watch: {\n    value() {\n      this.active_survey = this.value;\n    },\n  },\n  methods: {\n    changed() {\n      this.$emit(\"input\", this.value);\n    },\n    item_icon(item) {\n      if (item.type == \"text-field\") {\n        return \"mdi-form-textbox\";\n      }\n      if (item.type == \"number-field\") {\n        return \"mdi-numeric\";\n      }\n      if (item.type == \"textarea\") {\n        return \"mdi-card-text\";\n      }\n      if (item.type == \"checkbox\") {\n        return \"mdi-checkbox-marked\";\n      }\n      if (item.type == \"switch\") {\n        return \"mdi-toggle-switch\";\n      }\n      if (item.type == \"checkboxes\") {\n        return \"mdi-checkbox-multiple-marked\";\n      }\n      if (item.type == \"select\") {\n        return \"mdi-form-dropdown\";\n      }\n      if (item.type == \"radio-group\") {\n        return \"mdi-radiobox-marked\";\n      }\n      if (item.type == \"autocomplete\") {\n        return \"mdi-text-search\";\n      }\n      if (item.type == \"rating\") {\n        return \"mdi-star\";\n      }\n      if (item.type == \"mood\") {\n        return \"mdi-emoticon-happy\";\n      }\n      if (item.type == \"birthday\") {\n        return \"mdi-calendar-account\";\n      }\n      if (item.type == \"date\") {\n        return \"mdi-calendar\";\n      }\n    },\n    delete_item(idx) {\n      Vue.delete(this.active_survey.items, idx);\n    },\n    edit_item(idx) {\n      // Deep clone active_item\n      this.active_item_idx = idx;\n      this.active_item = JSON.parse(\n        JSON.stringify(this.active_survey.items[idx])\n      );\n\n      this.item_editor_dialog = true;\n    },\n    add_item() {\n      if (this.default_new_item instanceof Function) {\n        this.active_item = JSON.parse(\n          JSON.stringify(this.default_new_item(this.active_survey.items.length))\n        );\n      } else {\n        this.active_item = JSON.parse(JSON.stringify(this.default_new_item));\n      }\n\n      this.active_item_idx = null;\n      this.item_editor_dialog = true;\n    },\n    save_active_item() {\n      let saved_item = this.$refs[\"active_item_editor\"].save();\n\n      if (saved_item) {\n        if (this.active_item_idx !== null) {\n          Vue.set(this.active_survey.items, this.active_item_idx, saved_item);\n        } else {\n          this.active_survey.items.push(saved_item);\n        }\n\n        this.active_item = null;\n        this.item_editor_dialog = false;\n      }\n    },\n  },\n};\n</script>\n\n\n\n","import mod from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./VuetifySurveyEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./VuetifySurveyEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VuetifySurveyEditor.vue?vue&type=template&id=0e30364d&\"\nimport script from \"./VuetifySurveyEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./VuetifySurveyEditor.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <v-app>\n    <v-app-bar app color=\"primary\" dark>\n      <div class=\"d-flex align-center\">\n        <h1>Vuetify Survey</h1>\n      </div>\n\n      <v-spacer></v-spacer>\n\n      <v-btn href=\"https://github.com/phayes/vuetify-survey\" target=\"_blank\" text>\n        <span class=\"mr-2\">Documentation</span>\n        <v-icon>mdi-open-in-new</v-icon>\n      </v-btn>\n    </v-app-bar>\n\n    <v-main>\n      <v-layout>\n        <v-flex xs6>\n          \n          <v-sheet elevation=\"6\" class=\"pa-6 ma-6\">\n            <h3 class=\"mb-6\">Survey Editor <span style=\"font-family: Courier,monispace\">&lt;VuetifySurveyEditor&gt;</span></h3>\n            <VuetifySurveyEditor v-model=\"survey_def\" />\n          </v-sheet>\n\n          <v-sheet elevation=\"6\" class=\"pa-6 ma-6\">\n            <h3>Survey Definition</h3>\n            <v-textarea\n              dense\n              v-model=\"survey_def_json\"\n              rows=\"10\"\n              style=\"font-size: 0.8rem; font-family: Courier, monospace;\"\n            />\n          </v-sheet>\n        </v-flex>\n        <v-flex xs6>\n          <v-sheet elevation=\"6\" class=\"pa-6 ma-6\">\n            <h3 class=\"mb-6\">Survey Viewer <span style=\"font-family: Courier,monispace\">&lt;VuetifySurvey&gt;</span></h3>\n            <VuetifySurvey :survey=\"survey_def\" v-model=\"survey_data\" />\n          </v-sheet>\n\n          <v-sheet elevation=\"6\" class=\"pa-6 ma-6\">\n            <h3>Survey Data</h3>\n            <v-textarea\n              dense\n              v-model=\"survey_data_json\"\n              rows=\"10\"\n              style=\"font-size: 0.8rem; font-family: Courier, monospace;\"\n            />\n          </v-sheet>\n        </v-flex>\n      </v-layout>\n    </v-main>\n  </v-app>\n</template>\n\n<script>\nimport VuetifySurvey from \"./VuetifySurvey\";\nimport VuetifySurveyEditor from \"./VuetifySurveyEditor\";\n\nexport default {\n  name: \"App\",\n\n  components: {\n    VuetifySurvey,\n    VuetifySurveyEditor,\n  },\n\n  data: () => ({\n    survey_data: {},\n    survey_def: {\n      title: \"\",\n      items: []\n    },\n  }),\n  computed: {\n    survey_data_json() {\n      return JSON.stringify(this.survey_data, null, 2);\n    },\n    survey_def_json: {\n      get() {\n        return JSON.stringify(this.survey_def, null, 2);\n      },\n      set(value) {\n        this.survey_def = JSON.parse(value);\n      },\n    },\n  },\n};\n</script>\n","import mod from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=6fea2578&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\nimport Vuetify from 'vuetify/lib/framework';\n\nVue.use(Vuetify);\n\nexport default new Vuetify({\n});\n","import Vue from 'vue'\nimport App from './App.vue'\nimport vuetify from './plugins/vuetify'\n\nVue.config.productionTip = false\n\nnew Vue({\n  vuetify,\n  render: h => h(App)\n}).$mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkvuetify_survey\"] = self[\"webpackChunkvuetify_survey\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(814); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["attrs","_c","staticClass","_vm","_v","staticStyle","model","callback","survey_def_json","expression","value","survey_data","survey_data_json","staticRenderFns","title","class","active_data","id","translate_props","item","props","style","checkbox_item_idx","checkbox_item","type","items","$$v","$set","radio_item_idx","radio_item","number_field_size","color","size","isFilled","isHovered","on","click","scopedSlots","key","ref","refInFor","item_date_pickers","$event","close_menu","Interpreter","code","opt_initFunc","this","parse_","nodeConstructor","constructor","newNode","ast","prop","slice","initFunc_","paused_","polyfills_","functionCounter_","stepFunctions_","Object","create","m","stepMatch","methodName","match","bind","globalScope","createScope","globalObject","object","join","undefined","stripLocations_","state","State","done","stateStack","run","length","Completion","NORMAL","BREAK","CONTINUE","RETURN","THROW","PARSE_OPTIONS","READONLY_DESCRIPTOR","configurable","enumerable","writable","NONENUMERABLE_DESCRIPTOR","READONLY_NONENUMERABLE_DESCRIPTOR","NONCONFIGURABLE_READONLY_NONENUMERABLE_DESCRIPTOR","VARIABLE_DESCRIPTOR","STEP_ERROR","SCOPE_REFERENCE","VALUE_IN_DESCRIPTOR","REGEXP_TIMEOUT","toStringCycles_","vm","currentInterpreter_","nativeGlobal","globalThis","WORKER_CODE","legalArrayLength","x","n","Number","NaN","legalArrayIndex","String","node","start","end","name","hasOwnProperty","prototype","getterStep_","setterStep_","appendCodeNumber_","sourceFile","options","acorn","appendCode","Error","populateScope_","scope","Array","push","apply","variableCache_","step","stack","oldInterpreterValue","nextState","e","endTime","Date","now","initGlobal","setProperty","Infinity","OBJECT_PROTO","FUNCTION_PROTO","initFunction","initObject","proto","OBJECT","initArray","initString","initBoolean","initNumber","initDate","initRegExp","initError","initMath","initJSON","thisInterpreter","func","createNativeFunction","_x","EvalError","eval","parseInt","parseFloat","isNaN","isFinite","strFunctions","escape","unescape","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","i","wrapper","nativeFunc","str","throwException","URI_ERROR","message","FUNCTION","ARRAY","ARRAY_PROTO","REGEXP","REGEXP_PROTO","DATE","DATE_PROTO","functionCodeNumber_","identifierRegexp","var_args","arguments","argsStr","call","trim","args","split","test","SYNTAX_ERROR","createFunction","illegalConstructor","thisArg","func_","funcThis_","arguments_","arrayPseudoToNative","TYPE_ERROR","doneExec_","setNativeFunctionPrototype","valueOf","calledWithNew","createObjectProto","box","getPrototype","data","throwIfNullUndefined","obj","properties","arrayNativeToPseudo","getOwnPropertyNames","keys","descriptor","preventExtensions","getOwnPropertyDescriptor","getter","setter","pseudoDescriptor","Boolean","toString","propertyIsEnumerable","newArray","createArray","first","RANGE_ERROR","STRING","fromCharCode","functions","compareString","locales","pseudoToNative","localeCompare","ERROR","separator","limit","string","isa","maybeThrowRegExp","sandbox","jsList","vmCall","splitWorker","createWorker","pid","regExpTimeout","onmessage","clearTimeout","postMessage","setAsyncFunctionPrototype","regexp","RegExp","matchWorker","search","searchWorker","substr","newSubstr","replaceWorker","replace","BOOLEAN","NUMBER","numConsts","fractionDigits","toExponential","digits","toFixed","precision","toPrecision","radix","toLocaleString","_value","concat","from","Function","parse","UTC","date","pattern","flags","rgx","nativeRegExp","populateRegExp","lastIndex","getProperty","exec","matchToPseudo","execWorker","thisPseudoRegExp","result","index","input","opt_message","newError","createObject","populateError","createErrorSubclass","EVAL_ERROR","REFERENCE_ERROR","myMath","mathConsts","Math","numFunctions","myJSON","text","nativeObj","JSON","nativeToPseudo","replacer","space","filter","word","stringify","child","pseudoRegexp","nativeRegexp","source","global","ignoreCase","multiline","pseudoError","tracebackData","datumName","datumLoc","errorName","errorMessage","stackString","loc","locString","blob","blob_","Blob","Worker","URL","createObjectURL","_e","ok","worker","setTimeout","terminate","array","createFunctionBase_","argumentLength","isConstructor","opt_name","parentScope","createAsyncFunction","asyncFunc","pseudoDate","map","isArray","pseudoArray","pseudoObj","opt_cycles","cycles","pseudo","native","indexOf","len","hasProperty","val","defineProperty","pop","nativeArray","TypeError","charCodeAt","opt_descriptor","strict","getScope","max","get","placeholderGet_","set","placeholderSet_","ReferenceError","defObj","firstNode","Scope","createSpecialScope","opt_object","getValueFromScope","prevNode","setValueToScope","variableCache","nodeClass","childCache","getValue","setValue","errorClass","error","unwind","label","loop","cv","labels","isLoop","isSwitch","realError","errorTable","RangeError","SyntaxError","URIError","errorConstructor","createGetter_","left","funcThis","doneCallee_","doneArgs_","createSetter_","boxThis_","getGlobalScope","getStateStack","setStateStack","newStack","Value","strs","maxLength","truncated","callingInterpreter","elements","n_","array_","doneLeft_","components","doneRight_","leftReference_","doneGetter_","leftValue_","leftValue","destinationName","doneSetter_","setterValue_","rightValue","evalCodeNumber_","directEval_","funcNode","paramName","paramValue","argsList","evalNode","argLength","argsWithCallback","done_","throwValue","mode","mode_","test_","doneInit_","doneObject_","variable_","object_","visited_","name_","gotPropName","props_","shift","doneVariable_","propName","doneProperty_","property","properties_","kinds","switchValue_","defaultCase_","index_","switchCase","matched_","tested_","doneBlock_","doneHandler_","doneFinalizer_","leftSide_","changeValue","returnValue","declarations","declarationNode","init_","doneBody_","survey","required","default","item_menus","default_data","watch","handler","Vue","deep","methods","get_default_data","item_visible","ecmaVersion","int","interpreter","new_props","component","active_survey","idx","domProps","show_item_id","item_editor_dialog","active_item","type_items","id_changed","_s","maybe_suggest_item_value","option_idx","allow_edit_class","allow_edit_style","label_changed","instructions","default_value","min","render","allow_edit_visible","show_id","style_panel","rating_icons","computed","suggested_id","reset","suggest_id","toLowerCase","save","delete_option_item","item_icon","VuetifySurveyItemEditor","draggable","allow_edit_item_class","allow_edit_item_style","default_new_item","active_item_idx","changed","delete_item","edit_item","add_item","save_active_item","VuetifySurvey","VuetifySurveyEditor","survey_def","Vuetify","vuetify","h","App","$mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","deferred","O","chunkIds","fn","priority","notFulfilled","fulfilled","j","every","splice","r","__esModule","d","a","definition","o","g","window","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","forEach","__webpack_exports__"],"sourceRoot":""}